(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[179],{8255:Oe=>{function ye(N){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+N+"'");throw d.code="MODULE_NOT_FOUND",d})}ye.keys=()=>[],ye.resolve=ye,ye.id=8255,Oe.exports=ye},7716:(Oe,ye,N)=>{"use strict";N.d(ye,{deG:()=>Vi,tb:()=>dT,AFp:()=>lT,ip1:()=>NI,CZH:()=>Rp,hGG:()=>CS,z2F:()=>F_,sBO:()=>qC,Sil:()=>k_,_Vd:()=>Xa,EJc:()=>fT,SBq:()=>qr,qLn:()=>v,vpe:()=>ns,gxx:()=>ka,tBr:()=>Wi,XFs:()=>Fe,OlP:()=>Ht,zs3:()=>Nt,ZZ4:()=>Fu,aQg:()=>pp,soG:()=>LE,LVF:()=>vA,YKP:()=>JC,v3s:()=>XA,h0i:()=>rl,PXZ:()=>ZA,R0b:()=>Ti,FiY:()=>Hr,Lbi:()=>cT,g9A:()=>uT,Qsj:()=>nl,FYo:()=>tl,JOm:()=>Tn,Tiy:()=>o_,q3G:()=>$t,tp0:()=>hi,EAV:()=>rS,Rgc:()=>Gd,dDg:()=>_T,DyG:()=>Bi,q4F:()=>jd,GfV:()=>xu,s_b:()=>_p,ifc:()=>Te,eFA:()=>bT,G48:()=>BA,Gpc:()=>B,X6Q:()=>VI,_c5:()=>fS,VLi:()=>UA,c2e:()=>hT,zSh:()=>yd,wAp:()=>xe,vHH:()=>re,EiD:()=>gg,mCW:()=>Ca,qzn:()=>Io,JVY:()=>Bc,pB0:()=>Xh,eBb:()=>Wl,L6k:()=>jc,LAX:()=>og,cg1:()=>Du,Tjo:()=>dS,kL8:()=>Qf,yhl:()=>$l,dqk:()=>It,sIi:()=>Ed,CqO:()=>Dd,QGY:()=>Vn,F4k:()=>Wv,RDi:()=>nc,AaK:()=>Z,z3N:()=>bn,qOj:()=>Of,TTD:()=>ec,_Bn:()=>Ud,xp6:()=>Dy,uIk:()=>dm,ekj:()=>pu,Suo:()=>i,Xpm:()=>ot,lG2:()=>ul,Yz7:()=>Qe,cJS:()=>Qt,oAB:()=>to,Yjl:()=>Yu,Y36:()=>Fo,_UZ:()=>xt,BQk:()=>Uf,ynx:()=>Wa,qZA:()=>Xi,TgZ:()=>lt,EpF:()=>ft,n5z:()=>Ol,Ikx:()=>zm,LFG:()=>Zt,$8M:()=>vs,NdJ:()=>Cr,CRH:()=>r,oxw:()=>Bf,Q6J:()=>Vf,iGM:()=>Sp,MAs:()=>ym,CHM:()=>uc,LSH:()=>Zl,kYT:()=>qu,YNc:()=>Sv,_uU:()=>vu,Oqu:()=>Hm,hij:()=>Cu});var d=N(9765),te=N(5319),U=N(7574),ee=N(6682),ue=N(8819);function z(t){for(let n in t)if(t[n]===z)return n;throw Error("Could not find renamed property on target object.")}function pe(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function Z(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Z).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function $(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const P=z({__forward_ref__:z});function B(t){return t.__forward_ref__=B,t.toString=function(){return Z(this())},t}function O(t){return j(t)?t():t}function j(t){return"function"==typeof t&&t.hasOwnProperty(P)&&t.__forward_ref__===B}class re extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function ce(t){return"string"==typeof t?t:null==t?"":String(t)}function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ce(t)}function st(t,n){const s=n?` in ${n}`:"";throw new re("201",`No provider for ${_e(t)} found${s}`)}function Ge(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}function Qe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function _n(t){return yn(t,wr)||yn(t,Si)}function yn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Xs(t){return t&&(t.hasOwnProperty(Ai)||t.hasOwnProperty(ss))?t[Ai]:null}const wr=z({\u0275prov:z}),Ai=z({\u0275inj:z}),Si=z({ngInjectableDef:z}),ss=z({ngInjectorDef:z});var Fe=(()=>((Fe=Fe||{})[Fe.Default=0]="Default",Fe[Fe.Host=1]="Host",Fe[Fe.Self=2]="Self",Fe[Fe.SkipSelf=4]="SkipSelf",Fe[Fe.Optional=8]="Optional",Fe))();let vn;function hn(t){const n=vn;return vn=t,n}function it(t,n,s){const a=_n(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Fe.Optional?null:void 0!==n?n:void st(Z(t),"Injector")}function mt(t){return{toString:t}.toString()}var pt=(()=>((pt=pt||{})[pt.OnPush=0]="OnPush",pt[pt.Default=1]="Default",pt))(),Te=(()=>((Te=Te||{})[Te.Emulated=0]="Emulated",Te[Te.None=2]="None",Te[Te.ShadowDom=3]="ShadowDom",Te))();const je="undefined"!=typeof globalThis&&globalThis,Zu="undefined"!=typeof window&&window,eo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ur="undefined"!=typeof global&&global,It=je||ur||Zu||eo,St={},L=[],k=z({\u0275cmp:z}),K=z({\u0275dir:z}),ie=z({\u0275pipe:z}),Y=z({\u0275mod:z}),Ie=z({\u0275loc:z}),Pe=z({\u0275fac:z}),_t=z({__NG_ELEMENT_ID__:z});let Ct=0;function ot(t){return mt(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===pt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||L,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Te.Emulated,id:"c",styles:t.styles||L,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,c=t.features,g=t.pipes;return a.id+=Ct++,a.inputs=no(t.inputs,s),a.outputs=no(t.outputs),c&&c.forEach(m=>m(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(Nn):null,a.pipeDefs=g?()=>("function"==typeof g?g():g).map(Pn):null,a})}function Jt(t,n,s){const a=t.\u0275cmp;a.directiveDefs=()=>n.map(Nn),a.pipeDefs=()=>s.map(Pn)}function Nn(t){return Xt(t)||function(t){return t[K]||null}(t)}function Pn(t){return function(t){return t[ie]||null}(t)}const ii={};function to(t){return mt(()=>{const n={type:t.type,bootstrap:t.bootstrap||L,declarations:t.declarations||L,imports:t.imports||L,exports:t.exports||L,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ii[t.id]=t.type),n})}function qu(t,n){return mt(()=>{const s=cr(t,!0);s.declarations=n.declarations||L,s.imports=n.imports||L,s.exports=n.exports||L})}function no(t,n){if(null==t)return St;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],c=l;Array.isArray(l)&&(c=l[1],l=l[0]),s[l]=a,n&&(n[l]=c)}return s}const ul=ot;function Yu(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xt(t){return t[k]||null}function cr(t,n){const s=t[Y]||null;if(!s&&!0===n)throw new Error(`Type ${Z(t)} does not have '\u0275mod' property.`);return s}function Ar(t){return Array.isArray(t)&&"object"==typeof t[1]}function dr(t){return Array.isArray(t)&&!0===t[1]}function Xo(t){return 0!=(8&t.flags)}function Pi(t){return 2==(2&t.flags)}function hr(t){return 1==(1&t.flags)}function fr(t){return null!==t.template}function Sr(t){return 0!=(512&t[2])}function ls(t,n){return t.hasOwnProperty(Pe)?t[Pe]:null}class so{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ec(){return ea}function ea(t){return t.type.prototype.ngOnChanges&&(t.setInput=mh),gh}function gh(){const t=pr(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===St)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function mh(t,n,s,a){const l=pr(t)||function(t,n){return t[hl]=n}(t,{previous:St,current:null}),c=l.current||(l.current={}),g=l.previous,m=this.declaredInputs[s],C=g[m];c[m]=new so(C&&C.currentValue,n,g===St),t[a]=n}ec.ngInherit=!0;const hl="__ngSimpleChanges__";function pr(t){return t[hl]||null}const fl="http://www.w3.org/2000/svg",tc="http://www.w3.org/1998/MathML/";let pl;function nc(t){pl=t}function gl(){return void 0!==pl?pl:"undefined"!=typeof document?document:void 0}function kt(t){return!!t.listen}const us={createRenderer:(t,n)=>gl()};function Ut(t){for(;Array.isArray(t);)t=t[0];return t}function oo(t,n){return Ut(n[t])}function Xn(t,n){return Ut(n[t.index])}function yl(t,n){return t.data[n]}function ki(t,n){return t[n]}function er(t,n){const s=n[t];return Ar(s)?s:s[0]}function sc(t){return 4==(4&t[2])}function Eh(t){return 128==(128&t[2])}function Ur(t,n){return null==n?null:t[n]}function vl(t){t[18]=0}function lo(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const qe={lFrame:jp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function lc(){return qe.bindingsEnabled}function bh(){qe.bindingsEnabled=!0}function cs(){qe.bindingsEnabled=!1}function ve(){return qe.lFrame.lView}function dt(){return qe.lFrame.tView}function uc(t){return qe.lFrame.contextLView=t,t[8]}function Ft(){let t=cc();for(;null!==t&&64===t.type;)t=t.parent;return t}function cc(){return qe.lFrame.currentTNode}function ds(){const t=qe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Gn(t,n){const s=qe.lFrame;s.currentTNode=t,s.isParent=n}function Cl(){return qe.lFrame.isParent}function El(){qe.lFrame.isParent=!1}function uo(){return qe.isInCheckNoChangesMode}function bl(t){qe.isInCheckNoChangesMode=t}function sn(){const t=qe.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Rr(){return qe.lFrame.bindingIndex}function dc(t){return qe.lFrame.bindingIndex=t}function Fi(){return qe.lFrame.bindingIndex++}function tr(t){const n=qe.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function wl(t){qe.lFrame.inI18n=t}function Ih(t,n){const s=qe.lFrame;s.bindingIndex=s.bindingRootIndex=t,fc(n)}function fc(t){qe.lFrame.currentDirectiveIndex=t}function pc(t){const n=qe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function gc(){return qe.lFrame.currentQueryIndex}function hs(t){qe.lFrame.currentQueryIndex=t}function Dh(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function fs(t,n,s){if(s&Fe.SkipSelf){let l=n,c=t;for(;!(l=l.parent,null!==l||s&Fe.Host||(l=Dh(c),null===l||(c=c[15],10&l.type))););if(null===l)return!1;n=l,t=c}const a=qe.lFrame=Th();return a.currentTNode=n,a.lView=t,!0}function na(t){const n=Th(),s=t[1];qe.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Th(){const t=qe.lFrame,n=null===t?null:t.child;return null===n?jp(t):n}function jp(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ah(){const t=qe.lFrame;return qe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Hp=Ah;function ra(){const t=Ah();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function On(){return qe.lFrame.selectedIndex}function co(t){qe.lFrame.selectedIndex=t}function on(){const t=qe.lFrame;return yl(t.tView,t.selectedIndex)}function YE(){qe.lFrame.currentNamespace=fl}function KE(){qe.lFrame.currentNamespace=tc}function mc(){qe.lFrame.currentNamespace=null}function Il(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const c=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:m,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:w}=c;g&&(t.contentHooks||(t.contentHooks=[])).push(-s,g),m&&((t.contentHooks||(t.contentHooks=[])).push(s,m),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,m)),C&&(t.viewHooks||(t.viewHooks=[])).push(-s,C),b&&((t.viewHooks||(t.viewHooks=[])).push(s,b),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,b)),null!=w&&(t.destroyHooks||(t.destroyHooks=[])).push(s,w)}}function ho(t,n,s){Tl(t,n,3,s)}function Dl(t,n,s,a){(3&t[2])===s&&Tl(t,n,s,a)}function ia(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Tl(t,n,s,a){const c=null!=a?a:-1,g=n.length-1;let m=0;for(let C=void 0!==a?65535&t[18]:0;C<g;C++)if("number"==typeof n[C+1]){if(m=n[C],null!=a&&m>=a)break}else n[C]<0&&(t[18]+=65536),(m<c||-1==c)&&($p(t,s,n,C),t[18]=(4294901760&t[18])+C+2),C++}function $p(t,n,s,a){const l=s[a]<0,c=s[a+1],m=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{c.call(m)}finally{}}}else try{c.call(m)}finally{}}class sa{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function vc(t,n,s){const a=kt(t);let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const g=s[l++],m=s[l++],C=s[l++];a?t.setAttribute(n,m,C,g):n.setAttributeNS(g,m,C)}else{const g=c,m=s[++l];Br(g)?a&&t.setProperty(n,g,m):a?t.setAttribute(n,g,m):n.setAttribute(g,m),l++}}return l}function fo(t){return 3===t||4===t||6===t}function Br(t){return 64===t.charCodeAt(0)}function zt(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?s=l:0===s||Rh(t,s,l,null,-1===s||2===s?n[++a]:null)}}return t}function Rh(t,n,s,a,l){let c=0,g=t.length;if(-1===n)g=-1;else for(;c<t.length;){const m=t[c++];if("number"==typeof m){if(m===n){g=-1;break}if(m>n){g=c-1;break}}}for(;c<t.length;){const m=t[c];if("number"==typeof m)break;if(m===s){if(null===a)return void(null!==l&&(t[c+1]=l));if(a===t[c+1])return void(t[c+2]=l)}c++,null!==a&&c++,null!==l&&c++}-1!==g&&(t.splice(g,0,n),c=g+1),t.splice(c++,0,s),null!==a&&t.splice(c++,0,a),null!==l&&t.splice(c++,0,l)}function po(t){return-1!==t}function ms(t){return 32767&t}function aa(t,n){let s=function(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let Nh=!0;function la(t){const n=Nh;return Nh=t,n}let Sl=0;function ca(t,n){const s=Ml(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,Rl(a.data,t),Rl(n,null),Rl(a.blueprint,null));const l=jt(t,n),c=t.injectorIndex;if(po(l)){const g=ms(l),m=aa(l,n),C=m[1].data;for(let b=0;b<8;b++)n[c+b]=m[g+b]|C[g+b]}return n[c+8]=l,c}function Rl(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ml(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function jt(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=n;for(;null!==l;){const c=l[1],g=c.type;if(a=2===g?c.declTNode:1===g?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function zn(t,n,s){!function(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(_t)&&(a=s[_t]),null==a&&(a=s[_t]=Sl++);const l=255&a;n.data[t+(l>>5)]|=1<<l}(t,n,s)}function at(t,n,s){if(s&Fe.Optional)return t;st(n,"NodeInjector")}function Oh(t,n,s,a){if(s&Fe.Optional&&void 0===a&&(a=null),0==(s&(Fe.Self|Fe.Host))){const l=t[9],c=hn(void 0);try{return l?l.get(n,a,s&Fe.Optional):it(n,a,s&Fe.Optional)}finally{hn(c)}}return at(a,n,s)}function xh(t,n,s,a=Fe.Default,l){if(null!==t){const c=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(_t)?t[_t]:void 0;return"number"==typeof n?n>=0?255&n:go:n}(s);if("function"==typeof c){if(!fs(n,t,a))return a&Fe.Host?at(l,s,a):Oh(n,s,a,l);try{const g=c(a);if(null!=g||a&Fe.Optional)return g;st(s)}finally{Hp()}}else if("number"==typeof c){let g=null,m=Ml(t,n),C=-1,b=a&Fe.Host?n[16][6]:null;for((-1===m||a&Fe.SkipSelf)&&(C=-1===m?jt(t,n):n[m+8],-1!==C&&Ec(a,!1)?(g=n[1],m=ms(C),n=aa(C,n)):m=-1);-1!==m;){const w=n[1];if(kh(c,m,w.data)){const A=_s(m,n,s,g,a,b);if(A!==Nl)return A}C=n[m+8],-1!==C&&Ec(a,n[1].data[m+8]===b)&&kh(c,m,n)?(g=w,m=ms(C),n=aa(C,n)):m=-1}}}return Oh(n,s,a,l)}const Nl={};function go(){return new ys(Ft(),ve())}function _s(t,n,s,a,l,c){const g=n[1],m=g.data[t+8],w=nr(m,g,s,null==a?Pi(m)&&Nh:a!=g&&0!=(3&m.type),l&Fe.Host&&c===m);return null!==w?ha(n,g,w,m):Nl}function nr(t,n,s,a,l){const c=t.providerIndexes,g=n.data,m=1048575&c,C=t.directiveStart,w=c>>20,R=l?m+w:t.directiveEnd;for(let F=a?m:m+w;F<R;F++){const H=g[F];if(F<C&&s===H||F>=C&&H.type===s)return F}if(l){const F=g[C];if(F&&fr(F)&&F.type===s)return C}return null}function ha(t,n,s,a){let l=t[s];const c=n.data;if(function(t){return t instanceof sa}(l)){const g=l;g.resolving&&function(t,n){throw new re("200",`Circular dependency in DI detected for ${t}`)}(_e(c[s]));const m=la(g.canSeeViewProviders);g.resolving=!0;const C=g.injectImpl?hn(g.injectImpl):null;fs(t,a,Fe.Default);try{l=t[s]=g.factory(void 0,c,t,a),n.firstCreatePass&&s>=a.directiveStart&&function(t,n,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:c}=n.type.prototype;if(a){const g=ea(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,c))}(s,c[s],n)}finally{null!==C&&hn(C),la(m),g.resolving=!1,Hp()}}return l}function kh(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Ec(t,n){return!(t&Fe.Self||t&Fe.Host&&n)}class ys{constructor(n,s){this._tNode=n,this._lView=s}get(n,s){return xh(this._tNode,this._lView,n,void 0,s)}}function Ol(t){return mt(()=>{const n=t.prototype.constructor,s=n[Pe]||jr(n),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const c=l[Pe]||jr(l);if(c&&c!==s)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function jr(t){return j(t)?()=>{const n=jr(O(t));return n&&n()}:ls(t)}function vs(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const c=s[l];if(fo(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(c===n)return s[l+1];l+=2}}}return null}(Ft(),t)}const en="__annotations__",rr="__parameters__",mo="__prop__metadata__";function _o(t,n,s,a,l){return mt(()=>{const c=xl(n);function g(...m){if(this instanceof g)return c.call(this,...m),this;const C=new g(...m);return function(w){return l&&l(w,...m),(w.hasOwnProperty(en)?w[en]:Object.defineProperty(w,en,{value:[]})[en]).push(C),a&&a(w),w}}return s&&(g.prototype=Object.create(s.prototype)),g.prototype.ngMetadataName=t,g.annotationCls=g,g})}function xl(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}function Li(t,n,s){return mt(()=>{const a=xl(n);function l(...c){if(this instanceof l)return a.apply(this,c),this;const g=new l(...c);return m.annotation=g,m;function m(C,b,w){const A=C.hasOwnProperty(rr)?C[rr]:Object.defineProperty(C,rr,{value:[]})[rr];for(;A.length<=w;)A.push(null);return(A[w]=A[w]||[]).push(g),C}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function Fh(){return Li("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>vs(t)}))}const Vh=Fh();class Ht{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Qe({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vi=new Ht("AnalyzeForEntryComponents");function Ot(t){const n=It.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Bi=Function;function Cs(t){return"function"==typeof t}function xn(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),xn(a,n)):n!==t&&n.push(a)}return n}function Lt(t,n){t.forEach(s=>Array.isArray(s)?Lt(s,n):n(s))}function Nr(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function ji(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ui(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}function En(t,n,s){let a=_a(t,n);return a>=0?t[1|a]=s:(a=~a,function(t,n,s,a){let l=t.length;if(l==n)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function Tc(t,n){const s=_a(t,n);if(s>=0)return t[1|s]}function _a(t,n){return function(t,n,s){let a=0,l=t.length>>s;for(;l!==a;){const c=a+(l-a>>1),g=t[c<<s];if(n===g)return c<<s;g>n?l=c:a=c+1}return~(l<<s)}(t,n,1)}const $h=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,J_=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Wh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Gh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class ci{constructor(n){this._reflect=n||It.Reflect}isReflectionEnabled(){return!0}factory(n){return(...s)=>new n(...s)}_zipTypesAndAnnotations(n,s){let a;a=ui(void 0===n?s.length:n.length);for(let l=0;l<a.length;l++)a[l]=void 0===n?[]:n[l]&&n[l]!=Object?[n[l]]:[],s&&null!=s[l]&&(a[l]=a[l].concat(s[l]));return a}_ownParameters(n,s){const a=n.toString();if($h.test(t=a)||Gh.test(t)||J_.test(t)&&!Wh.test(t))return null;var t;if(n.parameters&&n.parameters!==s.parameters)return n.parameters;const l=n.ctorParameters;if(l&&l!==s.ctorParameters){const m="function"==typeof l?l():l,C=m.map(w=>w&&w.type),b=m.map(w=>w&&Hi(w.decorators));return this._zipTypesAndAnnotations(C,b)}const c=n.hasOwnProperty(rr)&&n[rr],g=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return g||c?this._zipTypesAndAnnotations(g,c):ui(n.length)}parameters(n){if(!Cs(n))return[];const s=Es(n);let a=this._ownParameters(n,s);return!a&&s!==Object&&(a=this.parameters(s)),a||[]}_ownAnnotations(n,s){if(n.annotations&&n.annotations!==s.annotations){let a=n.annotations;return"function"==typeof a&&a.annotations&&(a=a.annotations),a}return n.decorators&&n.decorators!==s.decorators?Hi(n.decorators):n.hasOwnProperty(en)?n[en]:null}annotations(n){if(!Cs(n))return[];const s=Es(n),a=this._ownAnnotations(n,s)||[];return(s!==Object?this.annotations(s):[]).concat(a)}_ownPropMetadata(n,s){if(n.propMetadata&&n.propMetadata!==s.propMetadata){let a=n.propMetadata;return"function"==typeof a&&a.propMetadata&&(a=a.propMetadata),a}if(n.propDecorators&&n.propDecorators!==s.propDecorators){const a=n.propDecorators,l={};return Object.keys(a).forEach(c=>{l[c]=Hi(a[c])}),l}return n.hasOwnProperty(mo)?n[mo]:null}propMetadata(n){if(!Cs(n))return{};const s=Es(n),a={};if(s!==Object){const c=this.propMetadata(s);Object.keys(c).forEach(g=>{a[g]=c[g]})}const l=this._ownPropMetadata(n,s);return l&&Object.keys(l).forEach(c=>{const g=[];a.hasOwnProperty(c)&&g.push(...a[c]),g.push(...l[c]),a[c]=g}),a}ownPropMetadata(n){return Cs(n)&&this._ownPropMetadata(n,Es(n))||{}}hasLifecycleHook(n,s){return n instanceof Bi&&s in n.prototype}guards(n){return{}}getter(n){return new Function("o","return o."+n+";")}setter(n){return new Function("o","v","return o."+n+" = v;")}method(n){return new Function("o","args",`if (!o.${n}) throw new Error('"${n}" is undefined');\n        return o.${n}.apply(o, args);`)}importUri(n){return"object"==typeof n&&n.filePath?n.filePath:`./${Z(n)}`}resourceUri(n){return`./${Z(n)}`}resolveIdentifier(n,s,a,l){return l}resolveEnum(n,s){return n[s]}}function Hi(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function Es(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}const di={},yo="__NG_DI_FLAG__",vo="ngTempTokenPath",zh=/\n/gm,bs="__source",Mc=z({provide:String,useValue:z});let ws;function $i(t){const n=ws;return ws=t,n}function qh(t,n=Fe.Default){if(void 0===ws)throw new Error("inject() must be called from an injection context");return null===ws?it(t,void 0,n):ws.get(t,n&Fe.Optional?null:void 0,n)}function Zt(t,n=Fe.Default){return(vn||qh)(O(t),n)}function ya(t){throw new Error("invalid")}function Is(t){const n=[];for(let s=0;s<t.length;s++){const a=O(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let l,c=Fe.Default;for(let g=0;g<a.length;g++){const m=a[g],C=Ll(m);"number"==typeof C?-1===C?l=m.token:c|=C:l=m}n.push(Zt(l,c))}else n.push(Zt(a))}return n}function Pr(t,n){return t[yo]=n,t.prototype[yo]=n,t}function Ll(t){return t[yo]}function Ds(t,n,s,a){const l=t[vo];throw n[bs]&&l.unshift(n[bs]),t.message=function(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=Z(n);if(Array.isArray(n))l=n.map(Z).join(" -> ");else if("object"==typeof n){let c=[];for(let g in n)if(n.hasOwnProperty(g)){let m=n[g];c.push(g+":"+("string"==typeof m?JSON.stringify(m):Z(m)))}l=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(zh,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[vo]=null,t}const Wi=Pr(Li("Inject",t=>({token:t})),-1),Hr=Pr(Li("Optional"),8),Ts=Pr(Li("Self"),2),hi=Pr(Li("SkipSelf"),4),Eo=Pr(Li("Host"),1);let Oc,jl,Vl=null;function wo(t){return function(t){return t.map(n=>function(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let s=0;s<t.length;s++){const a=t[s];if(void 0===a)continue;const l=Object.getPrototypeOf(a);if(a instanceof Hr||"Optional"===l.ngMetadataName)n.optional=!0;else if(a instanceof hi||"SkipSelf"===l.ngMetadataName)n.skipSelf=!0;else if(a instanceof Ts||"Self"===l.ngMetadataName)n.self=!0;else if(a instanceof Eo||"Host"===l.ngMetadataName)n.host=!0;else if(a instanceof Wi)n.token=a.token;else if(a instanceof Vh){if(void 0===a.attributeName)throw new Error("Attribute name must be defined.");n.attribute=a.attributeName}else n.token=a}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}((Vl=Vl||new ci).parameters(t))}function Bl(){if(void 0===Oc&&(Oc=null,It.trustedTypes))try{Oc=It.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Oc}function Ss(t){var n;return(null===(n=Bl())||void 0===n?void 0:n.createHTML(t))||t}function Fc(){if(void 0===jl&&(jl=null,It.trustedTypes))try{jl=It.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return jl}function Lc(t){var n;return(null===(n=Fc())||void 0===n?void 0:n.createHTML(t))||t}function Hl(t){var n;return(null===(n=Fc())||void 0===n?void 0:n.createScript(t))||t}function Vc(t){var n;return(null===(n=Fc())||void 0===n?void 0:n.createScriptURL(t))||t}class Rs{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qh extends Rs{getTypeName(){return"HTML"}}class Uc extends Rs{getTypeName(){return"Style"}}class sg extends Rs{getTypeName(){return"Script"}}class Jh extends Rs{getTypeName(){return"URL"}}class ny extends Rs{getTypeName(){return"ResourceURL"}}function bn(t){return t instanceof Rs?t.changingThisBreaksApplicationSecurity:t}function Io(t,n){const s=$l(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function $l(t){return t instanceof Rs&&t.getTypeName()||null}function Bc(t){return new Qh(t)}function jc(t){return new Uc(t)}function Wl(t){return new sg(t)}function og(t){return new Jh(t)}function Xh(t){return new ny(t)}function Gl(t){const n=new ag(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ss(""),"text/html")}catch(t){return!1}}()?new ef(n):n}class ef{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Ss(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class ag{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ss(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Ss(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let l=s.length-1;0<l;l--){const g=s.item(l).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&n.removeAttribute(g)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const lg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ca(t){return(t=String(t)).match(lg)||t.match(tf)?t:"unsafe:"+t}function ug(t){return(t=String(t)).split(",").map(n=>Ca(n.trim())).join(", ")}function ir(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function Ms(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const Hc=ir("area,br,col,hr,img,wbr"),$c=ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zl=ir("rp,rt"),Do=Ms(Hc,Ms($c,ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ms(zl,ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ms(zl,$c)),Gc=ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ea=ir("srcset"),zc=Ms(Gc,Ea,ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fg=ir("script,style,template");class nf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Do.hasOwnProperty(s))return this.sanitizedSomething=!0,!fg.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let l=0;l<a.length;l++){const c=a.item(l),g=c.name,m=g.toLowerCase();if(!zc.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let C=c.value;Gc[m]&&(C=Ca(C)),Ea[m]&&(C=ug(C)),this.buf.push(" ",g,'="',rf(C),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Do.hasOwnProperty(s)&&!Hc.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(rf(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const pg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ba=/([^\#-~ |!])/g;function rf(t){return t.replace(/&/g,"&amp;").replace(pg,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(ba,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let To;function gg(t,n){let s=null;try{To=To||Gl(t);let a=n?String(n):"";s=To.getInertBodyElement(a);let l=5,c=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=c,c=s.innerHTML,s=To.getInertBodyElement(a)}while(a!==c);return Ss((new nf).sanitizeChildren(sf(s)||s))}finally{if(s){const a=sf(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function sf(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var $t=(()=>(($t=$t||{})[$t.NONE=0]="NONE",$t[$t.HTML=1]="HTML",$t[$t.STYLE=2]="STYLE",$t[$t.SCRIPT=3]="SCRIPT",$t[$t.URL=4]="URL",$t[$t.RESOURCE_URL=5]="RESOURCE_URL",$t))();function af(t){const n=Gi();return n?Lc(n.sanitize($t.HTML,t)||""):Io(t,"HTML")?Lc(bn(t)):gg(gl(),ce(t))}function lf(t){const n=Gi();return n?n.sanitize($t.STYLE,t)||"":Io(t,"Style")?bn(t):ce(t)}function Zl(t){const n=Gi();return n?n.sanitize($t.URL,t)||"":Io(t,"URL")?bn(t):Ca(ce(t))}function uf(t){const n=Gi();if(n)return Vc(n.sanitize($t.RESOURCE_URL,t)||"");if(Io(t,"ResourceURL"))return Vc(bn(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function oy(t){const n=Gi();if(n)return Hl(n.sanitize($t.SCRIPT,t)||"");if(Io(t,"Script"))return Hl(bn(t));throw new Error("unsafe value used in a script context")}function Ze(t){return Ss(t[0])}function an(t){return function(t){var n;return(null===(n=Bl())||void 0===n?void 0:n.createScriptURL(t))||t}(t[0])}function gr(t,n,s){return function(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?uf:Zl}(n,s)(t)}function Gi(){const t=ve();return t&&t[12]}const fi="__ngContext__";function pn(t,n){t[fi]=n}function qc(t){const n=function(t){return t[fi]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function y(t){return t.ngOriginalError}function p(t,...n){t.error(...n)}class v{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=this._findContext(n),l=(t=n)&&t.ngErrorLogger||p;var t;l(this._console,"ERROR",n),s&&l(this._console,"ORIGINAL ERROR",s),a&&l(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?n.ngDebugContext||this._findContext(y(n)):null}_findOriginalError(n){let s=n&&y(n);for(;s&&y(s);)s=y(s);return s||null}}const G=/^>|^->|<!--|-->|--!>|<!-$/g,he=/(<|>)/;const Kl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function Yc(t){return t.ownerDocument.defaultView}function df(t){return t.ownerDocument}function Kc(t){return t.ownerDocument.body}function _r(t){return t instanceof Function?t():t}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();let sr;function bg(t,n){return sr(t,n)}function Jc(t){const n=t[3];return dr(n)?n[3]:n}function Xc(t){return wg(t[13])}function Sa(t){return wg(t[4])}function wg(t){for(;null!==t&&!dr(t);)t=t[4];return t}function Ql(t,n,s,a,l){if(null!=a){let c,g=!1;dr(a)?c=a:Ar(a)&&(g=!0,a=a[0]);const m=Ut(a);0===t&&null!==s?null==l?gi(n,s,m):Ra(n,s,m,l||null,!0):1===t&&null!==s?Ra(n,s,m,l||null,!0):2===t?Og(n,m,g):3===t&&n.destroyNode(m),null!=c&&function(t,n,s,a,l){const c=s[7];c!==Ut(s)&&Ql(n,t,a,c,l);for(let m=10;m<s.length;m++){const C=s[m];Mo(C[1],C,t,n,a,c)}}(n,t,c,s,l)}}function Ig(t,n){return kt(t)?t.createText(n):t.createTextNode(n)}function dy(t,n,s){kt(t)?t.setValue(n,s):n.textContent=s}function nb(t,n){return t.createComment(function(t){return t.replace(G,n=>n.replace(he,"\u200b$1\u200b"))}(n))}function Dg(t,n,s){return kt(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function Tg(t,n){const s=t[9],a=s.indexOf(n),l=n[3];1024&n[2]&&(n[2]&=-1025,lo(l,-1)),s.splice(a,1)}function ht(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&Tg(l,a),n>0&&(t[s-1][4]=a[4]);const c=ji(t,10+n);!function(t,n){Mo(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const g=c[19];null!==g&&g.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function py(t,n){if(!(256&n[2])){const s=n[11];kt(s)&&s.destroyNode&&Mo(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return Ro(t[1],t);for(;n;){let s=null;if(Ar(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)Ar(n)&&Ro(n[1],n),n=n[3];null===n&&(n=t),Ar(n)&&Ro(n[1],n),s=n&&n[4]}n=s}}(n)}}function Ro(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=n[s[a]];if(!(l instanceof sa)){const c=s[a+1];if(Array.isArray(c))for(let g=0;g<c.length;g+=2){const m=l[c[g]],C=c[g+1];try{C.call(m)}finally{}}else try{c.call(l)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,a=n[7];let l=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const g=s[c+1],m="function"==typeof g?g(n):Ut(n[g]),C=a[l=s[c+2]],b=s[c+3];"boolean"==typeof b?m.removeEventListener(s[c],C,b):b>=0?a[l=b]():a[l=-b].unsubscribe(),c+=2}else{const g=a[l=s[c+1]];s[c].call(g)}if(null!==a){for(let c=l+1;c<a.length;c++)a[c]();n[7]=null}}(t,n),1===n[1].type&&kt(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&dr(n[3])){s!==n[3]&&Tg(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function my(t,n,s){return _y(t,n.parent,s)}function _y(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===Te.None||l===Te.Emulated)return null}return Xn(a,s)}function Ra(t,n,s,a,l){kt(t)?t.insertBefore(n,s,a,l):n.insertBefore(s,a,l)}function gi(t,n,s){kt(t)?t.appendChild(n,s):n.appendChild(s)}function Sg(t,n,s,a,l){null!==a?Ra(t,n,s,a,l):gi(t,n,s)}function ed(t,n){return kt(t)?t.parentNode(n):n.parentNode}function An(t,n,s){return vy(t,n,s)}function mi(t,n,s){return 40&t.type?Xn(t,s):null}let Rg,vy=mi;function Mg(t,n){vy=t,Rg=n}function td(t,n,s,a){const l=my(t,a,n),c=n[11],m=An(a.parent||n[6],a,n);if(null!=l)if(Array.isArray(s))for(let C=0;C<s.length;C++)Sg(c,l,s[C],m,!1);else Sg(c,l,s,m,!1);void 0!==Rg&&Rg(c,a,n,s,l)}function pf(t,n){if(null!==n){const s=n.type;if(3&s)return Xn(n,t);if(4&s)return Pg(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return pf(t,a);{const l=t[n.index];return dr(l)?Pg(-1,l):Ut(l)}}if(32&s)return bg(n,t)()||Ut(t[n.index]);{const a=Ng(t,n);return null!==a?Array.isArray(a)?a[0]:pf(Jc(t[16]),a):pf(t,n.next)}}return null}function Ng(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Pg(t,n){const s=10+t+1;if(s<n.length){const a=n[s],l=a[1].firstChild;if(null!==l)return pf(a,l)}return n[7]}function Og(t,n,s){const a=ed(t,n);a&&function(t,n,s,a){kt(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}function gf(t,n,s,a,l,c,g){for(;null!=s;){const m=a[s.index],C=s.type;if(g&&0===n&&(m&&pn(Ut(m),a),s.flags|=4),64!=(64&s.flags))if(8&C)gf(t,n,s.child,a,l,c,!1),Ql(n,t,l,m,c);else if(32&C){const b=bg(s,a);let w;for(;w=b();)Ql(n,t,l,w,c);Ql(n,t,l,m,c)}else 16&C?yt(t,n,a,s,l,c):Ql(n,t,l,m,c);s=g?s.projectionNext:s.next}}function Mo(t,n,s,a,l,c){gf(s,a,t.firstChild,n,l,c,!1)}function yt(t,n,s,a,l,c){const g=s[16],C=g[6].projection[a.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)Ql(n,t,l,C[b],c);else gf(t,n,C,g[3],l,c,!0)}function No(t,n,s){kt(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function xg(t,n,s){kt(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function mf(t,n,s){let a=t.length;for(;;){const l=t.indexOf(n,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const c=n.length;if(l+c===a||t.charCodeAt(l+c)<=32)return l}s=l+1}}const Cy="ng-template";function _f(t,n,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==mf(l.toLowerCase(),n,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===n)return!0;return!1}}return!1}function Jl(t){return 4===t.type&&t.value!==Cy}function Ey(t,n,s){return n===(4!==t.type||s?t.value:Cy)}function yf(t,n,s){let a=4;const l=t.attrs||[],c=function(t){for(let n=0;n<t.length;n++)if(fo(t[n]))return n;return t.length}(l);let g=!1;for(let m=0;m<n.length;m++){const C=n[m];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!Ey(t,C,s)||""===C&&1===n.length){if(_i(a))return!1;g=!0}}else{const b=8&a?C:n[++m];if(8&a&&null!==t.attrs){if(!_f(t.attrs,b,s)){if(_i(a))return!1;g=!0}continue}const A=kg(8&a?"class":C,l,Jl(t),s);if(-1===A){if(_i(a))return!1;g=!0;continue}if(""!==b){let R;R=A>c?"":l[A+1].toLowerCase();const F=8&a?R:null;if(F&&-1!==mf(F,b,0)||2&a&&b!==R){if(_i(a))return!1;g=!0}}}}else{if(!g&&!_i(a)&&!_i(C))return!1;if(g&&_i(C))continue;g=!1,a=C|1&a}}return _i(a)||g}function _i(t){return 0==(1&t)}function kg(t,n,s,a){if(null===n)return-1;let l=0;if(a||!s){let c=!1;for(;l<n.length;){const g=n[l];if(g===t)return l;if(3===g||6===g)c=!0;else{if(1===g||2===g){let m=n[++l];for(;"string"==typeof m;)m=n[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=c?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function rd(t,n,s=!1){for(let a=0;a<n.length;a++)if(yf(t,n[a],s))return!0;return!1}function cb(t,n){e:for(let s=0;s<n.length;s++){const a=n[s];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function Iy(t,n){return t?":not("+n.trim()+")":n}function vf(t){let n=t[0],s=1,a=2,l="",c=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const m=t[++s];l+="["+g+(m.length>0?'="'+m+'"':"")+"]"}else 8&a?l+="."+g:4&a&&(l+=" "+g);else""!==l&&!_i(g)&&(n+=Iy(c,l),l=""),a=g,c=c||!_i(a);s++}return""!==l&&(n+=Iy(c,l)),n}const nt={};function Dy(t){Ty(dt(),ve(),On()+t,uo())}function Ty(t,n,s,a){if(!a)if(3==(3&n[2])){const c=t.preOrderCheckHooks;null!==c&&ho(n,c,s)}else{const c=t.preOrderHooks;null!==c&&Dl(n,c,0,s)}co(s)}function id(t,n){return t<<17|n<<2}function Or(t){return t>>17&32767}function Na(t){return 2|t}function Zi(t){return(131068&t)>>2}function Ef(t,n){return-131069&t|n<<2}function Po(t){return 1|t}function Fy(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],c=s[a+1];if(-1!==c){const g=t.data[c];hs(l),g.contentQueries(2,n[c],c)}}}function eu(t,n,s,a,l,c,g,m,C,b){const w=n.blueprint.slice();return w[0]=l,w[2]=140|a,vl(w),w[3]=w[15]=t,w[8]=s,w[10]=g||t&&t[10],w[11]=m||t&&t[11],w[12]=C||t&&t[12]||null,w[9]=b||t&&t[9]||null,w[6]=c,w[16]=2==n.type?t[16]:w,w}function Oa(t,n,s,a,l){let c=t.data[n];if(null===c)c=$g(t,n,s,a,l),qe.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=l;const g=ds();c.injectorIndex=null===g?-1:g.injectorIndex}return Gn(c,!0),c}function $g(t,n,s,a,l){const c=cc(),g=Cl(),C=t.data[n]=function(t,n,s,a,l,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?c:c&&c.parent,s,n,a,l);return null===t.firstChild&&(t.firstChild=C),null!==c&&(g?null==c.child&&null!==C.parent&&(c.child=C):null===c.next&&(c.next=C)),C}function tu(t,n,s,a){if(0===s)return-1;const l=n.length;for(let c=0;c<s;c++)n.push(a),t.blueprint.push(a),t.data.push(null);return l}function xa(t,n,s){na(n);try{const a=t.viewQuery;null!==a&&Qg(1,a,s);const l=t.template;null!==l&&Wg(t,n,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Fy(t,n),t.staticViewQueries&&Qg(2,t.viewQuery,s);const c=t.components;null!==c&&function(t,n){for(let s=0;s<n.length;s++)qy(t,n[s])}(n,c)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,ra()}}function Ln(t,n,s,a){const l=n[2];if(256==(256&l))return;na(n);const c=uo();try{vl(n),dc(t.bindingStartIndex),null!==s&&Wg(t,n,s,2,a);const g=3==(3&l);if(!c)if(g){const b=t.preOrderCheckHooks;null!==b&&ho(n,b,null)}else{const b=t.preOrderHooks;null!==b&&Dl(n,b,0,null),ia(n,0)}if(function(t){for(let n=Xc(t);null!==n;n=Sa(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const l=s[a],c=l[3];0==(1024&l[2])&&lo(c,1),l[2]|=1024}}}(n),function(t){for(let n=Xc(t);null!==n;n=Sa(n))for(let s=10;s<n.length;s++){const a=n[s],l=a[1];Eh(a)&&Ln(l,a,l.template,a[8])}}(n),null!==t.contentQueries&&Fy(t,n),!c)if(g){const b=t.contentCheckHooks;null!==b&&ho(n,b)}else{const b=t.contentHooks;null!==b&&Dl(n,b,1),ia(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)co(~l);else{const c=l,g=s[++a],m=s[++a];Ih(g,c),m(2,n[c])}}}finally{co(-1)}}(t,n);const m=t.components;null!==m&&function(t,n){for(let s=0;s<n.length;s++)Lb(t,n[s])}(n,m);const C=t.viewQuery;if(null!==C&&Qg(2,C,a),!c)if(g){const b=t.viewCheckHooks;null!==b&&ho(n,b)}else{const b=t.viewHooks;null!==b&&Dl(n,b,2),ia(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,lo(n[3],-1))}finally{ra()}}function Ly(t,n,s,a){const l=n[10],c=!uo(),g=sc(n);try{c&&!g&&l.begin&&l.begin(),g&&xa(t,n,a),Ln(t,n,s,a)}finally{c&&!g&&l.end&&l.end()}}function Wg(t,n,s,a,l){const c=On(),g=2&a;try{co(-1),g&&n.length>20&&Ty(t,n,20,uo()),s(a,l)}finally{co(c)}}function fd(t,n,s){if(Xo(n)){const l=n.directiveEnd;for(let c=n.directiveStart;c<l;c++){const g=t.data[c];g.contentQueries&&g.contentQueries(1,s[c],c)}}}function nu(t,n,s){!lc()||(function(t,n,s,a){const l=s.directiveStart,c=s.directiveEnd;t.firstCreatePass||ca(s,n),pn(a,n);const g=s.initialInputs;for(let m=l;m<c;m++){const C=t.data[m],b=fr(C);b&&Nb(n,s,C);const w=ha(n,t,m,s);pn(w,n),null!==g&&Pb(0,m-l,w,C,0,g),b&&(er(s.index,n)[8]=w)}}(t,n,s,Xn(s,n)),128==(128&s.flags)&&function(t,n,s){const a=s.directiveStart,l=s.directiveEnd,g=s.index,m=qe.lFrame.currentDirectiveIndex;try{co(g);for(let C=a;C<l;C++){const b=t.data[C],w=n[C];fc(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Wy(b,w)}}finally{co(-1),fc(m)}}(t,n,s))}function Gg(t,n,s=Xn){const a=n.localNames;if(null!==a){let l=n.index+1;for(let c=0;c<a.length;c+=2){const g=a[c+1],m=-1===g?s(n,t):t[g];t[l++]=m}}}function Vy(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=wf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function wf(t,n,s,a,l,c,g,m,C,b){const w=20+a,A=w+l,R=function(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:nt);return s}(w,A),F="function"==typeof b?b():b;return R[1]={type:t,blueprint:R,template:s,queries:null,viewQuery:m,declTNode:n,data:R.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:F,incompleteFirstPass:!1}}function ru(t,n,s,a){const l=Jy(n);null===s?l.push(a):(l.push(s),t.firstCreatePass&&Xy(t).push(a,l.length-1))}function gd(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,l):s[a]=[n,l]}return s}function xr(t,n,s,a,l,c,g,m){const C=Xn(n,s);let w,b=n.inputs;!m&&null!=b&&(w=b[a])?(ev(t,s,w,a,l),Pi(n)&&function(t,n){const s=er(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=g?g(l,n.value||"",a):l,kt(c)?c.setProperty(C,a,l):Br(a)||(C.setProperty?C.setProperty(a,l):C[a]=l))}function Zg(t,n,s,a){let l=!1;if(lc()){const c=function(t,n,s){const a=t.directiveRegistry;let l=null;if(a)for(let c=0;c<a.length;c++){const g=a[c];rd(s,g.selectors,!1)&&(l||(l=[]),zn(ca(s,n),t,g.type),fr(g)?(iu(t,s),l.unshift(g)):l.push(g))}return l}(t,n,s),g=null===a?null:{"":-1};if(null!==c){l=!0,Gy(s,t.data.length,c.length);for(let w=0;w<c.length;w++){const A=c[w];A.providersResolver&&A.providersResolver(A)}let m=!1,C=!1,b=tu(t,n,c.length,null);for(let w=0;w<c.length;w++){const A=c[w];s.mergedAttrs=zt(s.mergedAttrs,A.hostAttrs),zy(t,s,n,b,A),Mb(b,A,g),null!==A.contentQueries&&(s.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(s.flags|=128);const R=A.type.prototype;!m&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),m=!0),!C&&(R.ngOnChanges||R.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),C=!0),b++}!function(t,n){const a=n.directiveEnd,l=t.data,c=n.attrs,g=[];let m=null,C=null;for(let b=n.directiveStart;b<a;b++){const w=l[b],A=w.inputs,R=null===c||Jl(n)?null:Ob(A,c);g.push(R),m=gd(A,b,m),C=gd(w.outputs,b,C)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=g,n.inputs=m,n.outputs=C}(t,s)}g&&function(t,n,s){if(n){const a=t.localNames=[];for(let l=0;l<n.length;l+=2){const c=s[n[l+1]];if(null==c)throw new re("301",`Export of name '${n[l+1]}' not found!`);a.push(n[l],c)}}}(s,a,g)}return s.mergedAttrs=zt(s.mergedAttrs,s.attrs),l}function $y(t,n,s,a,l,c){const g=c.hostBindings;if(g){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const C=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(m)!=C&&m.push(C),m.push(a,l,g)}}function Wy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function iu(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Mb(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;fr(n)&&(s[""]=t)}}function Gy(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function zy(t,n,s,a,l){t.data[a]=l;const c=l.factory||(l.factory=ls(l.type)),g=new sa(c,fr(l),null);t.blueprint[a]=g,s[a]=g,$y(t,n,0,a,tu(t,s,l.hostVars,nt),l)}function Nb(t,n,s){const a=Xn(n,t),l=Vy(s),c=t[10],g=_d(t,eu(t,l,null,s.onPush?64:16,a,n,c,c.createRenderer(a,s),null,null));t[n.index]=g}function Yi(t,n,s,a,l,c){const g=Xn(t,n);qg(n[11],g,c,t.value,s,a,l)}function qg(t,n,s,a,l,c,g){if(null==c)kt(t)?t.removeAttribute(n,l,s):n.removeAttribute(l);else{const m=null==g?ce(c):g(c,a||"",l);kt(t)?t.setAttribute(n,l,m,s):s?n.setAttributeNS(s,l,m):n.setAttribute(l,m)}}function Pb(t,n,s,a,l,c){const g=c[n];if(null!==g){const m=a.setInput;for(let C=0;C<g.length;){const b=g[C++],w=g[C++],A=g[C++];null!==m?a.setInput(s,A,b,w):s[w]=A}}}function Ob(t,n){let s=null,a=0;for(;a<n.length;){const l=n[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],n[a+1])),a+=2}else a+=2;else a+=4}return s}function Zy(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function Lb(t,n){const s=er(n,t);if(Eh(s)){const a=s[1];80&s[2]?Ln(a,s,a.template,s[8]):s[5]>0&&Yg(s)}}function Yg(t){for(let a=Xc(t);null!==a;a=Sa(a))for(let l=10;l<a.length;l++){const c=a[l];if(1024&c[2]){const g=c[1];Ln(g,c,g.template,c[8])}else c[5]>0&&Yg(c)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=er(s[a],t);Eh(l)&&l[5]>0&&Yg(l)}}function qy(t,n){const s=er(n,t),a=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),xa(a,s,s[8])}function _d(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Tf(t){for(;t;){t[2]|=64;const n=Jc(t);if(Sr(t)&&!n)return t;t=n}return null}function Kg(t,n,s){const a=n[10];a.begin&&a.begin();try{Ln(t,n,t.template,s)}catch(l){throw Jg(n,l),l}finally{a.end&&a.end()}}function Ky(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=qc(s),l=a[1];Ly(l,a,l.template,s)}}(t[8])}function Qg(t,n,s){hs(0),n(t,s)}const Bb=(()=>Promise.resolve(null))();function Jy(t){return t[7]||(t[7]=[])}function Xy(t){return t.cleanup||(t.cleanup=[])}function Sf(t,n,s){return(null===t||fr(t))&&(s=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[n.index])),s[11]}function Jg(t,n){const s=t[9],a=s?s.get(v,null):null;a&&a.handleError(n)}function ev(t,n,s,a,l){for(let c=0;c<s.length;){const g=s[c++],m=s[c++],C=n[g],b=t.data[g];null!==b.setInput?b.setInput(C,l,a,m):C[m]=l}}function yr(t,n,s){const a=oo(n,t);dy(t[11],a,s)}function Rf(t,n,s){let a=s?t.styles:null,l=s?t.classes:null,c=0;if(null!==n)for(let g=0;g<n.length;g++){const m=n[g];"number"==typeof m?c=m:1==c?l=$(l,m):2==c&&(a=$(a,m+": "+n[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}const ka=new Ht("INJECTOR",-1);class tv{get(n,s=di){if(s===di){const a=new Error(`NullInjectorError: No provider for ${Z(n)}!`);throw a.name="NullInjectorError",a}return s}}const yd=new Ht("Set Injector scope."),cn={},$b={};let su;function Mf(){return void 0===su&&(su=new tv),su}function Fa(t,n=null,s=null,a){return new Wb(t,s,n||Mf(),a)}class Wb{constructor(n,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&Lt(s,m=>this.processProvider(m,n,s)),Lt([n],m=>this.processInjectorType(m,[],c)),this.records.set(ka,ou(void 0,this));const g=this.records.get(yd);this.scope=null!=g?g.value:null,this.source=l||("object"==typeof n?null:Z(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=di,a=Fe.Default){this.assertNotDestroyed();const l=$i(this),c=hn(void 0);try{if(!(a&Fe.SkipSelf)){let m=this.records.get(n);if(void 0===m){const C=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Ht)&&_n(n);m=C&&this.injectableDefInScope(C)?ou(em(n),cn):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(a&Fe.Self?Mf():this.parent).get(n,s=a&Fe.Optional&&s===di?null:s)}catch(g){if("NullInjectorError"===g.name){if((g[vo]=g[vo]||[]).unshift(Z(n)),l)throw g;return Ds(g,n,"R3InjectorError",this.source)}throw g}finally{hn(c),$i(l)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,l)=>n.push(Z(l))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,a){if(!(n=O(n)))return!1;let l=Xs(n);const c=null==l&&n.ngModule||void 0,g=void 0===c?n:c,m=-1!==a.indexOf(g);if(void 0!==c&&(l=Xs(c)),null==l)return!1;if(null!=l.imports&&!m){let w;a.push(g);try{Lt(l.imports,A=>{this.processInjectorType(A,s,a)&&(void 0===w&&(w=[]),w.push(A))})}finally{}if(void 0!==w)for(let A=0;A<w.length;A++){const{ngModule:R,providers:F}=w[A];Lt(F,H=>this.processProvider(H,R,F||L))}}this.injectorDefTypes.add(g);const C=ls(g)||(()=>new g);this.records.set(g,ou(C,cn));const b=l.providers;if(null!=b&&!m){const w=n;Lt(b,A=>this.processProvider(A,w,b))}return void 0!==c&&void 0!==n.providers}processProvider(n,s,a){let l=vd(n=O(n))?n:O(n&&n.provide);const c=nm(t=n)?ou(void 0,t.useValue):ou(tm(t),cn);var t;if(vd(n)||!0!==n.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=ou(void 0,cn,!0),g.factory=()=>Is(g.multi),this.records.set(l,g)),l=n,g.multi.push(n)}this.records.set(l,c)}hydrate(n,s){return s.value===cn&&(s.value=$b,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=O(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function em(t){const n=_n(t),s=null!==n?n.factory:ls(t);if(null!==s)return s;if(t instanceof Ht)throw new Error(`Token ${Z(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=ui(n,"?");throw new Error(`Can't resolve all parameters for ${Z(t)}: (${a.join(", ")}).`)}const s=function(t){const n=t&&(t[wr]||t[Si]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function tm(t,n,s){let a;if(vd(t)){const l=O(t);return ls(l)||em(l)}if(nm(t))a=()=>O(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Is(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>Zt(O(t.useExisting));else{const l=O(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ls(l)||em(l);a=()=>new l(...Is(t.deps))}return a}function ou(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function nm(t){return null!==t&&"object"==typeof t&&Mc in t}function vd(t){return"function"==typeof t}const sv=function(t,n,s){return function(t,n=null,s=null,a){const l=Fa(t,n,s,a);return l._resolveInjectorDefTypes(),l}({name:s},n,t,s)};class Nt{static create(n,s){return Array.isArray(n)?sv(n,s,""):sv(n.providers,n.parent,n.name||"")}}function Ua(t,n){Il(qc(t)[1],Ft())}function Ba(t){return Object.getPrototypeOf(t.prototype).constructor}function Of(t){let n=Ba(t.type),s=!0;const a=[t];for(;n;){let l;if(fr(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");l=n.\u0275dir}if(l){if(s){a.push(l);const g=t;g.inputs=ja(t.inputs),g.declaredInputs=ja(t.declaredInputs),g.outputs=ja(t.outputs);const m=l.hostBindings;m&&wv(t,m);const C=l.viewQuery,b=l.contentQueries;if(C&&Ha(t,C),b&&bv(t,b),pe(t.inputs,l.inputs),pe(t.declaredInputs,l.declaredInputs),pe(t.outputs,l.outputs),fr(l)&&l.data.animation){const w=t.data;w.animation=(w.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let g=0;g<c.length;g++){const m=c[g];m&&m.ngInherit&&m(t),m===Of&&(s=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=n+=l.hostVars,l.hostAttrs=zt(l.hostAttrs,s=zt(s,l.hostAttrs))}}(a)}function ja(t){return t===St?{}:t===L?[]:t}function Ha(t,n){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{n(a,l),s(a,l)}:n}function bv(t,n){const s=t.contentQueries;t.contentQueries=s?(a,l,c)=>{n(a,l,c),s(a,l,c)}:n}function wv(t,n){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{n(a,l),s(a,l)}:n}Nt.THROW_IF_NOT_FOUND=di,Nt.NULL=new tv,Nt.\u0275prov=Qe({token:Nt,providedIn:"any",factory:()=>Zt(ka)}),Nt.__NG_ELEMENT_ID__=-1;const Sn=["providersResolver"],Cd=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function cm(t){let s,n=Ba(t.type);s=fr(t)?n.\u0275cmp:n.\u0275dir;const a=t;for(const l of Sn)a[l]=s[l];if(fr(s))for(const l of Cd)a[l]=s[l]}let kr=null;function mn(){if(!kr){const t=It.Symbol;if(t&&t.iterator)kr=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(kr=a)}}}return kr}class vr{constructor(n){this.wrapped=n}static wrap(n){return new vr(n)}static unwrap(n){return vr.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof vr}}function Ed(t){return!!Vs(t)&&(Array.isArray(t)||!(t instanceof Map)&&mn()in t)}function Vs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qi(t,n,s){return t[n]=s}function Us(t,n){return t[n]}function Rn(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function xo(t,n,s,a){const l=Rn(t,n,s);return Rn(t,n+1,a)||l}function dn(t,n,s,a,l){const c=xo(t,n,s,a);return Rn(t,n+2,l)||c}function Fr(t,n,s,a,l,c){const g=xo(t,n,s,a);return xo(t,n+2,l,c)||g}function dm(t,n,s,a){const l=ve();return Rn(l,Fi(),n)&&(dt(),Yi(on(),l,t,n,s,a)),dm}function au(t,n){let s=!1,a=Rr();for(let c=1;c<n.length;c+=2)s=Rn(t,a++,n[c])||s;if(dc(a),!s)return nt;let l=n[0];for(let c=1;c<n.length;c+=2)l+=ce(n[c])+n[c+1];return l}function lu(t,n,s,a){return Rn(t,Fi(),s)?n+ce(s)+a:nt}function uu(t,n,s,a,l,c){const m=xo(t,Rr(),s,l);return tr(2),m?n+ce(s)+a+ce(l)+c:nt}function $a(t,n,s,a,l,c,g,m){const b=dn(t,Rr(),s,l,g);return tr(3),b?n+ce(s)+a+ce(l)+c+ce(g)+m:nt}function ko(t,n,s,a,l,c,g,m,C,b){const A=Fr(t,Rr(),s,l,g,C);return tr(4),A?n+ce(s)+a+ce(l)+c+ce(g)+m+ce(C)+b:nt}function Bs(t,n,s,a,l,c,g,m,C,b,w,A){const R=Rr();let F=Fr(t,R,s,l,g,C);return F=Rn(t,R+4,w)||F,tr(5),F?n+ce(s)+a+ce(l)+c+ce(g)+m+ce(C)+b+ce(w)+A:nt}function vi(t,n,s,a,l,c,g,m,C,b,w,A,R,F){const H=Rr();let se=Fr(t,H,s,l,g,C);return se=xo(t,H+4,w,R)||se,tr(6),se?n+ce(s)+a+ce(l)+c+ce(g)+m+ce(C)+b+ce(w)+A+ce(R)+F:nt}function cu(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se){const Q=Rr();let Ee=Fr(t,Q,s,l,g,C);return Ee=dn(t,Q+4,w,R,H)||Ee,tr(7),Ee?n+ce(s)+a+ce(l)+c+ce(g)+m+ce(C)+b+ce(w)+A+ce(R)+F+ce(H)+se:nt}function Ji(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q,Ee){const me=Rr();let Ue=Fr(t,me,s,l,g,C);return Ue=Fr(t,me+4,w,R,H,Q)||Ue,tr(8),Ue?n+ce(s)+a+ce(l)+c+ce(g)+m+ce(C)+b+ce(w)+A+ce(R)+F+ce(H)+se+ce(Q)+Ee:nt}function Dv(t,n,s,a,l,c){const g=ve(),m=lu(g,n,s,a);return m!==nt&&Yi(on(),g,t,m,l,c),Dv}function Tv(t,n,s,a,l,c,g,m){const C=ve(),b=uu(C,n,s,a,l,c);return b!==nt&&Yi(on(),C,t,b,g,m),Tv}function du(t,n,s,a,l,c,g,m,C,b){const w=ve(),A=$a(w,n,s,a,l,c,g,m);return A!==nt&&Yi(on(),w,t,A,C,b),du}function bd(t,n,s,a,l,c,g,m,C,b,w,A){const R=ve(),F=ko(R,n,s,a,l,c,g,m,C,b);return F!==nt&&Yi(on(),R,t,F,w,A),bd}function hm(t,n,s,a,l,c,g,m,C,b,w,A,R,F){const H=ve(),se=Bs(H,n,s,a,l,c,g,m,C,b,w,A);return se!==nt&&Yi(on(),H,t,se,R,F),hm}function fm(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se){const Q=ve(),Ee=vi(Q,n,s,a,l,c,g,m,C,b,w,A,R,F);return Ee!==nt&&Yi(on(),Q,t,Ee,H,se),fm}function pm(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q,Ee){const me=ve(),Ue=cu(me,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se);return Ue!==nt&&Yi(on(),me,t,Ue,Q,Ee),pm}function gm(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q,Ee,me,Ue){const Ke=ve(),bt=Ji(Ke,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q,Ee);return bt!==nt&&Yi(on(),Ke,t,bt,me,Ue),gm}function mm(t,n,s,a){const l=ve(),c=au(l,n);return c!==nt&&Yi(on(),l,t,c,s,a),mm}function Sv(t,n,s,a,l,c,g,m){const C=ve(),b=dt(),w=t+20,A=b.firstCreatePass?function(t,n,s,a,l,c,g,m,C){const b=n.consts,w=Oa(n,t,4,g||null,Ur(b,m));Zg(n,s,w,Ur(b,C)),Il(n,w);const A=w.tViews=wf(2,w,a,l,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,b);return null!==n.queries&&(n.queries.template(n,w),A.queries=n.queries.embeddedTView(w)),w}(w,b,C,n,s,a,l,c,g):b.data[w];Gn(A,!1);const R=C[11].createComment("");td(b,C,R,A),pn(R,C),_d(C,C[w]=Zy(R,C,R,A)),hr(A)&&nu(b,C,A),null!=g&&Gg(C,A,m)}function ym(t){return ki(qe.lFrame.contextLView,20+t)}function Fo(t,n=Fe.Default){const s=ve();return null===s?Zt(t,n):xh(Ft(),s,O(t),n)}function Hv(){throw new Error("invalid")}function Vf(t,n,s){const a=ve();return Rn(a,Fi(),n)&&xr(dt(),on(),a,t,n,a[11],s,!1),Vf}function Dt(t,n,s,a,l){const g=l?"class":"style";ev(t,s,n.inputs[g],g,a)}function lt(t,n,s,a){const l=ve(),c=dt(),g=20+t,m=l[11],C=l[g]=Dg(m,n,qe.lFrame.currentNamespace),b=c.firstCreatePass?function(t,n,s,a,l,c,g){const m=n.consts,b=Oa(n,t,2,l,Ur(m,c));return Zg(n,s,b,Ur(m,g)),null!==b.attrs&&Rf(b,b.attrs,!1),null!==b.mergedAttrs&&Rf(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(g,c,l,0,n,s,a):c.data[g];Gn(b,!0);const w=b.mergedAttrs;null!==w&&vc(m,C,w);const A=b.classes;null!==A&&xg(m,C,A);const R=b.styles;null!==R&&No(m,C,R),64!=(64&b.flags)&&td(c,l,C,b),0===qe.lFrame.elementDepthCount&&pn(C,l),qe.lFrame.elementDepthCount++,hr(b)&&(nu(c,l,b),fd(c,b,l)),null!==a&&Gg(l,b)}function Xi(){let t=Ft();Cl()?El():(t=t.parent,Gn(t,!1));const n=t;qe.lFrame.elementDepthCount--;const s=dt();s.firstCreatePass&&(Il(s,t),Xo(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Dt(s,n,ve(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Dt(s,n,ve(),n.stylesWithoutHost,!1)}function xt(t,n,s,a){lt(t,n,s,a),Xi()}function Wa(t,n,s){const a=ve(),l=dt(),c=t+20,g=l.firstCreatePass?function(t,n,s,a,l){const c=n.consts,g=Ur(c,a),m=Oa(n,t,8,"ng-container",g);return null!==g&&Rf(m,g,!0),Zg(n,s,m,Ur(c,l)),null!==n.queries&&n.queries.elementStart(n,m),m}(c,l,a,n,s):l.data[c];Gn(g,!0);const m=a[c]=a[11].createComment("");td(l,a,m,g),pn(m,a),hr(g)&&(nu(l,a,g),fd(l,g,a)),null!=s&&Gg(a,g)}function Uf(){let t=Ft();const n=dt();Cl()?El():(t=t.parent,Gn(t,!1)),n.firstCreatePass&&(Il(n,t),Xo(t)&&n.queries.elementEnd(t))}function qt(t,n,s){Wa(t,n,s),Uf()}function ft(){return ve()}function Vn(t){return!!t&&"function"==typeof t.then}function Wv(t){return!!t&&"function"==typeof t.subscribe}const Dd=Wv;function Cr(t,n,s,a){const l=ve(),c=dt(),g=Ft();return zv(c,l,l[11],g,t,n,!!s,a),Cr}function Gv(t,n){const s=Ft(),a=ve(),l=dt();return zv(l,a,Sf(pc(l.data),s,a),s,t,n,!1),Gv}function zv(t,n,s,a,l,c,g,m){const C=hr(a),w=t.firstCreatePass&&Xy(t),A=n[8],R=Jy(n);let F=!0;if(3&a.type||m){const Q=Xn(a,n),Ee=m?m(Q):Q,me=R.length,Ue=m?Ke=>m(Ut(Ke[a.index])):a.index;if(kt(s)){let Ke=null;if(!m&&C&&(Ke=function(t,n,s,a){const l=t.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const g=l[c];if(g===s&&l[c+1]===a){const m=n[7],C=l[c+2];return m.length>C?m[C]:null}"string"==typeof g&&(c+=2)}return null}(t,n,l,a.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=c,Ke.__ngLastListenerFn__=c,F=!1;else{c=js(a,n,A,c,!1);const bt=s.listen(Ee,l,c);R.push(c,bt),w&&w.push(l,Ue,me,me+1)}}else c=js(a,n,A,c,!0),Ee.addEventListener(l,c,g),R.push(c),w&&w.push(l,Ue,me,g)}else c=js(a,n,A,c,!1);const H=a.outputs;let se;if(F&&null!==H&&(se=H[l])){const Q=se.length;if(Q)for(let Ee=0;Ee<Q;Ee+=2){const Bn=n[se[Ee]][se[Ee+1]].subscribe(c),rs=R.length;R.push(c,Bn),w&&w.push(l,a.index,rs,-(rs+1))}}}function Rm(t,n,s,a){try{return!1!==s(a)}catch(l){return Jg(t,l),!1}}function js(t,n,s,a,l){return function c(g){if(g===Function)return a;const m=2&t.flags?er(t.index,n):n;0==(32&n[2])&&Tf(m);let C=Rm(n,0,a,g),b=c.__ngNextListenerFn__;for(;b;)C=Rm(n,0,b,g)&&C,b=b.__ngNextListenerFn__;return l&&!1===C&&(g.preventDefault(),g.returnValue=!1),C}}function Bf(t=1){return function(t){return(qe.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,qe.lFrame.contextLView))[8]}(t)}function Td(t,n){let s=null;const a=function(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(0==(1&s))return n[s+1]}return null}(t);for(let l=0;l<n.length;l++){const c=n[l];if("*"!==c){if(null===a?rd(t,c,!0):cb(a,c))return l}else s=l}return s}function b0(t){const n=ve()[16][6];if(!n.projection){const a=n.projection=ui(t?t.length:1,null),l=a.slice();let c=n.child;for(;null!==c;){const g=t?Td(c,t):0;null!==g&&(l[g]?l[g].projectionNext=c:a[g]=c,l[g]=c),c=c.next}}}function w0(t,n=0,s){const a=ve(),l=dt(),c=Oa(l,20+t,16,null,s||null);null===c.projection&&(c.projection=n),El(),64!=(64&c.flags)&&function(t,n,s){yt(n[11],0,n,s,my(t,s,n),An(s.parent||n[6],s,n))}(l,a,c)}function Mm(t,n,s){return Nm(t,"",n,"",s),Mm}function Nm(t,n,s,a,l){const c=ve(),g=lu(c,n,s,a);return g!==nt&&xr(dt(),on(),c,t,g,c[11],l,!1),Nm}function Zv(t,n,s,a,l,c,g){const m=ve(),C=uu(m,n,s,a,l,c);return C!==nt&&xr(dt(),on(),m,t,C,m[11],g,!1),Zv}function qv(t,n,s,a,l,c,g,m,C){const b=ve(),w=$a(b,n,s,a,l,c,g,m);return w!==nt&&xr(dt(),on(),b,t,w,b[11],C,!1),qv}function Pm(t,n,s,a,l,c,g,m,C,b,w){const A=ve(),R=ko(A,n,s,a,l,c,g,m,C,b);return R!==nt&&xr(dt(),on(),A,t,R,A[11],w,!1),Pm}function Ga(t,n,s,a,l,c,g,m,C,b,w,A,R){const F=ve(),H=Bs(F,n,s,a,l,c,g,m,C,b,w,A);return H!==nt&&xr(dt(),on(),F,t,H,F[11],R,!1),Ga}function gt(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H){const se=ve(),Q=vi(se,n,s,a,l,c,g,m,C,b,w,A,R,F);return Q!==nt&&xr(dt(),on(),se,t,Q,se[11],H,!1),gt}function Ad(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q){const Ee=ve(),me=cu(Ee,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se);return me!==nt&&xr(dt(),on(),Ee,t,me,Ee[11],Q,!1),Ad}function Sd(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q,Ee,me){const Ue=ve(),Ke=Ji(Ue,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q,Ee);return Ke!==nt&&xr(dt(),on(),Ue,t,Ke,Ue[11],me,!1),Sd}function Om(t,n,s){const a=ve(),l=au(a,n);return l!==nt&&xr(dt(),on(),a,t,l,a[11],s,!1),Om}function Yv(t,n,s,a,l){const c=t[s+1],g=null===n;let m=a?Or(c):Zi(c),C=!1;for(;0!==m&&(!1===C||g);){const w=t[m+1];Er(t[m],n)&&(C=!0,t[m+1]=a?Po(w):Na(w)),m=a?Or(w):Zi(w)}C&&(t[s+1]=a?Na(c):Po(c))}function Er(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&_a(t,n)>=0}const wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hf(t){return t.substring(wn.key,wn.keyEnd)}function xm(t){return t.substring(wn.value,wn.valueEnd)}function km(t,n){const s=wn.textEnd;return s===n?-1:(n=wn.keyEnd=function(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,wn.key=n,s),Za(t,n,s))}function Fm(t,n){const s=wn.textEnd;let a=wn.key=Za(t,n,s);return s===a?-1:(a=wn.keyEnd=function(t,n,s){let a;for(;n<s&&(45===(a=t.charCodeAt(n))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)n++;return n}(t,a,s),a=Jv(t,a,s),a=wn.value=Za(t,a,s),a=wn.valueEnd=function(t,n,s){let a=-1,l=-1,c=-1,g=n,m=g;for(;g<s;){const C=t.charCodeAt(g++);if(59===C)return m;34===C||39===C?m=g=Vt(t,C,g,s):n===g-4&&85===c&&82===l&&76===a&&40===C?m=g=Vt(t,41,g,s):C>32&&(m=g),c=l,l=a,a=-33&C}return m}(t,a,s),Jv(t,a,s))}function za(t){wn.key=0,wn.keyEnd=0,wn.value=0,wn.valueEnd=0,wn.textEnd=t.length}function Za(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function Jv(t,n,s,a){return(n=Za(t,n,s))<s&&n++,n}function Vt(t,n,s,a){let l=-1,c=s;for(;c<a;){const g=t.charCodeAt(c++);if(g==n&&92!==l)return c;l=92==g&&92===l?0:g}throw new Error}function Xv(t,n,s){return We(t,n,s,!1),Xv}function pu(t,n){return We(t,n,null,!0),pu}function zr(t){Ei(Um,gu,t,!1)}function gu(t,n){for(let s=function(t){return za(t),Fm(t,Za(t,0,wn.textEnd))}(n);s>=0;s=Fm(n,s))Um(t,Hf(n),xm(n))}function $s(t){Ei(En,br,t,!0)}function br(t,n){for(let s=function(t){return za(t),km(t,Za(t,0,wn.textEnd))}(n);s>=0;s=km(n,s))En(t,Hf(n),!0)}function We(t,n,s,a){const l=ve(),c=dt(),g=tr(2);c.firstUpdatePass&&eC(c,t,g,a),n!==nt&&Rn(l,g,n)&&Bm(c,c.data[On()],l,l[11],t,l[g+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Z(bn(t)))),t}(n,s),a,g)}function Ei(t,n,s,a){const l=dt(),c=tr(2);l.firstUpdatePass&&eC(l,null,c,a);const g=ve();if(s!==nt&&Rn(g,c,s)){const m=l.data[On()];if(yu(m,a)&&!mu(l,c)){let C=a?m.classesWithoutHost:m.stylesWithoutHost;null!==C&&(s=$(C,s||"")),Dt(l,m,g,s,a)}else!function(t,n,s,a,l,c,g,m){l===nt&&(l=L);let C=0,b=0,w=0<l.length?l[0]:null,A=0<c.length?c[0]:null;for(;null!==w||null!==A;){const R=C<l.length?l[C+1]:void 0,F=b<c.length?c[b+1]:void 0;let se,H=null;w===A?(C+=2,b+=2,R!==F&&(H=A,se=F)):null===A||null!==w&&w<A?(C+=2,H=w):(b+=2,H=A,se=F),null!==H&&Bm(t,n,s,a,H,se,g,m),w=C<l.length?l[C]:null,A=b<c.length?c[b]:null}}(l,m,g,g[11],g[c+1],g[c+1]=function(t,n,s){if(null==s||""===s)return L;const a=[],l=bn(s);if(Array.isArray(l))for(let c=0;c<l.length;c++)t(a,l[c],!0);else if("object"==typeof l)for(const c in l)l.hasOwnProperty(c)&&t(a,c,l[c]);else"string"==typeof l&&n(a,l);return a}(t,n,s),a,c)}}function mu(t,n){return n>=t.expandoStartIndex}function eC(t,n,s,a){const l=t.data;if(null===l[s+1]){const c=l[On()],g=mu(t,s);yu(c,a)&&null===n&&!g&&(n=!1),n=function(t,n,s,a){const l=pc(t);let c=a?n.residualClasses:n.residualStyles;if(null===l)0===(a?n.classBindings:n.styleBindings)&&(s=qa(s=Lo(null,t,n,s,a),n.attrs,a),c=null);else{const g=n.directiveStylingLast;if(-1===g||t[g]!==l)if(s=Lo(l,t,n,s,a),null===c){let C=function(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==Zi(a))return t[Or(a)]}(t,n,a);void 0!==C&&Array.isArray(C)&&(C=Lo(null,t,n,C[1],a),C=qa(C,n.attrs,a),function(t,n,s,a){t[Or(s?n.classBindings:n.styleBindings)]=a}(t,n,a,C))}else c=function(t,n,s){let a;const l=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<l;c++)a=qa(a,t[c].hostAttrs,s);return qa(a,n.attrs,s)}(t,n,a)}return void 0!==c&&(a?n.residualClasses=c:n.residualStyles=c),s}(l,c,n,a),function(t,n,s,a,l,c){let g=c?n.classBindings:n.styleBindings,m=Or(g),C=Zi(g);t[a]=s;let w,b=!1;if(Array.isArray(s)){const A=s;w=A[1],(null===w||_a(A,w)>0)&&(b=!0)}else w=s;if(l)if(0!==C){const R=Or(t[m+1]);t[a+1]=id(R,m),0!==R&&(t[R+1]=Ef(t[R+1],a)),t[m+1]=function(t,n){return 131071&t|n<<17}(t[m+1],a)}else t[a+1]=id(m,0),0!==m&&(t[m+1]=Ef(t[m+1],a)),m=a;else t[a+1]=id(C,0),0===m?m=a:t[C+1]=Ef(t[C+1],a),C=a;b&&(t[a+1]=Na(t[a+1])),Yv(t,w,a,!0),Yv(t,w,a,!1),function(t,n,s,a,l){const c=l?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof n&&_a(c,n)>=0&&(s[a+1]=Po(s[a+1]))}(n,w,t,a,c),g=id(m,C),c?n.classBindings=g:n.styleBindings=g}(l,c,n,s,g,a)}}function Lo(t,n,s,a,l){let c=null;const g=s.directiveEnd;let m=s.directiveStylingLast;for(-1===m?m=s.directiveStart:m++;m<g&&(c=n[m],a=qa(a,c.hostAttrs,l),c!==t);)m++;return null!==t&&(s.directiveStylingLast=m),a}function qa(t,n,s){const a=s?1:2;let l=-1;if(null!==n)for(let c=0;c<n.length;c++){const g=n[c];"number"==typeof g?l=g:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),En(t,g,!!s||n[++c]))}return void 0===t?null:t}function Um(t,n,s){En(t,n,bn(s))}function Bm(t,n,s,a,l,c,g,m){if(!(3&n.type))return;const C=t.data,b=C[m+1];Rd(function(t){return 1==(1&t)}(b)?jm(C,n,s,l,Zi(b),g):void 0)||(Rd(c)||function(t){return 2==(2&t)}(b)&&(c=jm(C,null,s,l,m,g)),function(t,n,s,a,l){const c=kt(t);if(n)l?c?t.addClass(s,a):s.classList.add(a):c?t.removeClass(s,a):s.classList.remove(a);else{let g=-1===a.indexOf("-")?void 0:Tn.DashCase;if(null==l)c?t.removeStyle(s,a,g):s.style.removeProperty(a);else{const m="string"==typeof l&&l.endsWith("!important");m&&(l=l.slice(0,-10),g|=Tn.Important),c?t.setStyle(s,a,l,g):s.style.setProperty(a,l,m?"important":"")}}}(a,g,oo(On(),s),l,c))}function jm(t,n,s,a,l,c){const g=null===n;let m;for(;l>0;){const C=t[l],b=Array.isArray(C),w=b?C[1]:C,A=null===w;let R=s[l+1];R===nt&&(R=A?L:void 0);let F=A?Tc(R,a):w===a?R:void 0;if(b&&!Rd(F)&&(F=Tc(C,a)),Rd(F)&&(m=F,g))return m;const H=t[l+1];l=g?Or(H):Zi(H)}if(null!==n){let C=c?n.residualClasses:n.residualStyles;null!=C&&(m=Tc(C,a))}return m}function Rd(t){return void 0!==t}function yu(t,n){return 0!=(t.flags&(n?16:32))}function vu(t,n=""){const s=ve(),a=dt(),l=t+20,c=a.firstCreatePass?Oa(a,l,1,n,null):a.data[l],g=s[l]=Ig(s[11],n);td(a,s,g,c),Gn(c,!1)}function Hm(t){return Cu("",t,""),Hm}function Cu(t,n,s){const a=ve(),l=lu(a,t,n,s);return l!==nt&&yr(a,On(),l),Cu}function Eu(t,n,s,a,l){const c=ve(),g=uu(c,t,n,s,a,l);return g!==nt&&yr(c,On(),g),Eu}function nC(t,n,s,a,l,c,g){const m=ve(),C=$a(m,t,n,s,a,l,c,g);return C!==nt&&yr(m,On(),C),nC}function Md(t,n,s,a,l,c,g,m,C){const b=ve(),w=ko(b,t,n,s,a,l,c,g,m,C);return w!==nt&&yr(b,On(),w),Md}function rC(t,n,s,a,l,c,g,m,C,b,w){const A=ve(),R=Bs(A,t,n,s,a,l,c,g,m,C,b,w);return R!==nt&&yr(A,On(),R),rC}function iC(t,n,s,a,l,c,g,m,C,b,w,A,R){const F=ve(),H=vi(F,t,n,s,a,l,c,g,m,C,b,w,A,R);return H!==nt&&yr(F,On(),H),iC}function sC(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H){const se=ve(),Q=cu(se,t,n,s,a,l,c,g,m,C,b,w,A,R,F,H);return Q!==nt&&yr(se,On(),Q),sC}function $f(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q){const Ee=ve(),me=Ji(Ee,t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q);return me!==nt&&yr(Ee,On(),me),$f}function oC(t){const n=ve(),s=au(n,t);return s!==nt&&yr(n,On(),s),oC}function $m(t,n,s){Ei(En,br,lu(ve(),t,n,s),!0)}function R0(t,n,s,a,l){Ei(En,br,uu(ve(),t,n,s,a,l),!0)}function Wf(t,n,s,a,l,c,g){Ei(En,br,$a(ve(),t,n,s,a,l,c,g),!0)}function aC(t,n,s,a,l,c,g,m,C){Ei(En,br,ko(ve(),t,n,s,a,l,c,g,m,C),!0)}function lC(t,n,s,a,l,c,g,m,C,b,w){Ei(En,br,Bs(ve(),t,n,s,a,l,c,g,m,C,b,w),!0)}function Gf(t,n,s,a,l,c,g,m,C,b,w,A,R){Ei(En,br,vi(ve(),t,n,s,a,l,c,g,m,C,b,w,A,R),!0)}function M0(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H){Ei(En,br,cu(ve(),t,n,s,a,l,c,g,m,C,b,w,A,R,F,H),!0)}function zf(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q){Ei(En,br,Ji(ve(),t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q),!0)}function bu(t){Ei(En,br,au(ve(),t),!0)}function Wm(t,n,s){zr(lu(ve(),t,n,s))}function Gm(t,n,s,a,l){zr(uu(ve(),t,n,s,a,l))}function N0(t,n,s,a,l,c,g){zr($a(ve(),t,n,s,a,l,c,g))}function P0(t,n,s,a,l,c,g,m,C){zr(ko(ve(),t,n,s,a,l,c,g,m,C))}function uC(t,n,s,a,l,c,g,m,C,b,w){zr(Bs(ve(),t,n,s,a,l,c,g,m,C,b,w))}function O0(t,n,s,a,l,c,g,m,C,b,w,A,R){zr(vi(ve(),t,n,s,a,l,c,g,m,C,b,w,A,R))}function x0(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H){zr(cu(ve(),t,n,s,a,l,c,g,m,C,b,w,A,R,F,H))}function k0(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q){zr(Ji(ve(),t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q))}function Zr(t){zr(au(ve(),t))}function Zf(t,n,s,a,l){return We(t,lu(ve(),n,s,a),l,!1),Zf}function qf(t,n,s,a,l,c,g){return We(t,uu(ve(),n,s,a,l,c),g,!1),qf}function Yf(t,n,s,a,l,c,g,m,C){return We(t,$a(ve(),n,s,a,l,c,g,m),C,!1),Yf}function Nd(t,n,s,a,l,c,g,m,C,b,w){return We(t,ko(ve(),n,s,a,l,c,g,m,C,b),w,!1),Nd}function wu(t,n,s,a,l,c,g,m,C,b,w,A,R){return We(t,Bs(ve(),n,s,a,l,c,g,m,C,b,w,A),R,!1),wu}function Vo(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H){return We(t,vi(ve(),n,s,a,l,c,g,m,C,b,w,A,R,F),H,!1),Vo}function Ya(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q){return We(t,cu(ve(),n,s,a,l,c,g,m,C,b,w,A,R,F,H,se),Q,!1),Ya}function Ws(t,n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q,Ee,me){return We(t,Ji(ve(),n,s,a,l,c,g,m,C,b,w,A,R,F,H,se,Q,Ee),me,!1),Ws}function cC(t,n,s){return We(t,au(ve(),n),s,!1),cC}function zm(t,n,s){const a=ve();return Rn(a,Fi(),n)&&xr(dt(),on(),a,t,n,a[11],s,!0),zm}function Iu(t,n,s){const a=ve();if(Rn(a,Fi(),n)){const c=dt(),g=on();xr(c,g,a,t,n,Sf(pc(c.data),g,a),s,!0)}return Iu}const Ka=void 0;var Kf=["en",[["a","p"],["AM","PM"],Ka],[["AM","PM"],Ka,Ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ka,"{1} 'at' {0}",Ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let es={};function Du(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=dC(n);if(s)return s;const a=n.split("-")[0];if(s=dC(a),s)return s;if("en"===a)return Kf;throw new Error(`Missing locale data for the locale "${t}".`)}function Qf(t){return Du(t)[xe.PluralCase]}function dC(t){return t in es||(es[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),es[t]}var xe=(()=>((xe=xe||{})[xe.LocaleId=0]="LocaleId",xe[xe.DayPeriodsFormat=1]="DayPeriodsFormat",xe[xe.DayPeriodsStandalone=2]="DayPeriodsStandalone",xe[xe.DaysFormat=3]="DaysFormat",xe[xe.DaysStandalone=4]="DaysStandalone",xe[xe.MonthsFormat=5]="MonthsFormat",xe[xe.MonthsStandalone=6]="MonthsStandalone",xe[xe.Eras=7]="Eras",xe[xe.FirstDayOfWeek=8]="FirstDayOfWeek",xe[xe.WeekendRange=9]="WeekendRange",xe[xe.DateFormat=10]="DateFormat",xe[xe.TimeFormat=11]="TimeFormat",xe[xe.DateTimeFormat=12]="DateTimeFormat",xe[xe.NumberSymbols=13]="NumberSymbols",xe[xe.NumberFormats=14]="NumberFormats",xe[xe.CurrencyCode=15]="CurrencyCode",xe[xe.CurrencySymbol=16]="CurrencySymbol",xe[xe.CurrencyName=17]="CurrencyName",xe[xe.Currencies=18]="Currencies",xe[xe.Directionality=19]="Directionality",xe[xe.PluralCase=20]="PluralCase",xe[xe.ExtraData=21]="ExtraData",xe))();const Zm=["zero","one","two","few","many"],Au="en-US",Od={marker:"element"},bi={marker:"ICU"};var Yt=(()=>((Yt=Yt||{})[Yt.SHIFT=2]="SHIFT",Yt[Yt.APPEND_EAGERLY=1]="APPEND_EAGERLY",Yt[Yt.COMMENT=2]="COMMENT",Yt))();let qm=Au;function Su(t){(function(t,n){null==t&&Ge(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(qm=t.toLowerCase().replace(/_/g,"-"))}function fC(t,n,s){const a=n.insertBeforeIndex,l=Array.isArray(a)?a[0]:a;return null===l?mi(t,0,s):Ut(s[l])}function pC(t,n,s,a,l){const c=n.insertBeforeIndex;if(Array.isArray(c)){let g=a,m=null;if(3&n.type||(m=g,g=l),null!==g&&0==(2&n.flags))for(let C=1;C<c.length;C++)Ra(t,g,s[c[C]],m,!1)}}function gC(t,n){if(t.push(n),t.length>1)for(let s=t.length-2;s>=0;s--){const a=t[s];mC(a)||U0(a,n)&&null===B0(a)&&_C(a,n.index)}}function mC(t){return!(64&t.type)}function U0(t,n){return mC(n)||t.index>n.index}function B0(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function _C(t,n){const s=t.insertBeforeIndex;Array.isArray(s)?s[0]=n:(Mg(fC,pC),t.insertBeforeIndex=n)}function Ru(t,n){const s=t.data[n];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function $0(t,n,s){const a=$g(t,s,64,null,null);return gC(n,a),a}function Jf(t,n){const s=n[t.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function yC(t){return t>>>17}function vC(t){return(131070&t)>>>1}let Mu=0,Uo=0;function Qm(t,n,s,a){const l=s[11];let g,c=null;for(let m=0;m<n.length;m++){const C=n[m];if("string"==typeof C){const b=n[++m];null===s[b]&&(s[b]=Ig(l,C))}else if("number"==typeof C)switch(1&C){case 0:const b=yC(C);let w,A;if(null===c&&(c=b,g=ed(l,a)),b===c?(w=a,A=g):(w=null,A=Ut(s[b])),null!==A){const se=vC(C);Ra(l,A,s[se],w,!1);const Ee=Ru(t,se);if(null!==Ee&&"object"==typeof Ee){const me=Jf(Ee,s);null!==me&&Qm(t,Ee.create[me],s,s[Ee.anchorIdx])}}break;case 1:const F=n[++m],H=n[++m];qg(l,oo(C>>>1,s),null,null,F,H,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${C}"`)}else switch(C){case bi:const b=n[++m],w=n[++m];null===s[w]&&pn(s[w]=nb(l,b),s);break;case Od:const A=n[++m],R=n[++m];null===s[R]&&pn(s[R]=Dg(l,A,null),s)}}}function EC(t,n,s,a,l){for(let c=0;c<s.length;c++){const g=s[c],m=s[++c];if(g&l){let C="";for(let b=c+1;b<=c+m;b++){const w=s[b];if("string"==typeof w)C+=w;else if("number"==typeof w)if(w<0)C+=ce(n[a-w]);else{const A=w>>>2;switch(3&w){case 1:const R=s[++b],F=s[++b],H=t.data[A];"string"==typeof H?qg(n[11],n[A],null,H,R,C,F):xr(t,H,n,R,C,n[11],F,!1);break;case 0:const se=n[A];null!==se&&dy(n[11],se,C);break;case 2:wC(t,Ru(t,A),n,C);break;case 3:bC(t,Ru(t,A),a,n)}}}}else{const C=s[c+1];if(C>0&&3==(3&C)){const w=Ru(t,C>>>2);n[w.currentCaseLViewIndex]<0&&bC(t,w,a,n)}}c+=m}}function bC(t,n,s,a){let l=a[n.currentCaseLViewIndex];if(null!==l){let c=Mu;l<0&&(l=a[n.currentCaseLViewIndex]=~l,c=-1),EC(t,a,n.update[l],s,c)}}function wC(t,n,s,a){const l=function(t,n){let s=t.cases.indexOf(n);if(-1===s)switch(t.type){case 1:{const a=function(t,n){const s=Qf(n)(parseInt(t,10)),a=Zm[s];return void 0!==a?a:"other"}(n,qm);s=t.cases.indexOf(a),-1===s&&"other"!==a&&(s=t.cases.indexOf("other"));break}case 0:s=t.cases.indexOf("other")}return-1===s?null:s}(n,a);if(Jf(n,s)!==l&&(Xf(t,n,s),s[n.currentCaseLViewIndex]=null===l?null:~l,null!==l)){const g=s[n.anchorIdx];g&&Qm(t,n.create[l],s,g)}}function Xf(t,n,s){let a=Jf(n,s);if(null!==a){const l=n.remove[a];for(let c=0;c<l.length;c++){const g=l[c];if(g>0){const m=oo(g,s);null!==m&&Og(s[11],m)}else Xf(t,Ru(t,~g),s)}}}function z0(){const t=[];let s,a,n=-1;function c(m,C){n=0;const b=Jf(m,C);a=null!==b?m.remove[b]:L}function g(){if(n<a.length){const m=a[n++];return m>0?s[m]:(t.push(n,a),c(s[1].data[~m],s),g())}return 0===t.length?null:(a=t.pop(),n=t.pop(),g())}return function(m,C){for(s=C;t.length;)t.pop();return c(m.value,C),g}}const Fd=/\ufffd(\d+):?\d*\ufffd/gi,q0=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,IC=/\ufffd(\d+)\ufffd/,tp=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Y0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,K0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Q0=/\uE500/g;function DC(t,n,s,a,l,c,g){const m=tu(t,a,1,null);let C=m<<Yt.SHIFT,b=ds();n===b&&(b=null),null===b&&(C|=Yt.APPEND_EAGERLY),g&&(C|=Yt.COMMENT,function(t){void 0===sr&&(sr=t())}(z0)),l.push(C,null===c?"":c);const w=$g(t,m,g?32:1,null===c?"":c,null);gC(s,w);const A=w.index;return Gn(w,!1),null!==b&&n!==b&&function(t,n){let s=t.insertBeforeIndex;null===s?(Mg(fC,pC),s=t.insertBeforeIndex=[null,n]):(function(t,n,s){t!=n&&Ge(s,t,n,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(n))}(b,A),w}function TC(t,n,s,a,l,c,g){const m=g.match(Fd),C=DC(t,n,s,c,a,m?null:g,!1);m&&Ja(l,g,C.index,null,0,null)}function Ja(t,n,s,a,l,c){const g=t.length,m=g+1;t.push(null,null);const C=g+2,b=n.split(Fd);let w=0;for(let A=0;A<b.length;A++){const R=b[A];if(1&A){const F=l+parseInt(R,10);t.push(-1-F),w|=SC(F)}else""!==R&&t.push(R)}return t.push(s<<2|(a?1:0)),a&&t.push(a,c),t[g]=w,t[m]=t.length-C,w}function AC(t){let n=0;for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a&&a<0&&n++}return n}function SC(t){return 1<<Math.min(t,31)}function Vd(t){let n,c,s="",a=0,l=!1;for(;null!==(n=Y0.exec(t));)l?n[0]===`\ufffd/*${c}\ufffd`&&(a=n.index,l=!1):(s+=t.substring(a,n.index+n[0].length),c=n[1],l=!0);return s+=t.substr(a),s}function NC(t,n,s,a,l,c){let g=0;const m={type:l.type,currentCaseLViewIndex:tu(t,n,1,null),anchorIdx:c,cases:[],create:[],remove:[],update:[]};(function(t,n,s){t.push(SC(n.mainBinding),2,-1-n.mainBinding,s<<2|2)})(s,l,c),function(t,n,s){const a=t.data[n];null===a?t.data[n]=s:a.value=s}(t,c,m);const C=l.values;for(let b=0;b<C.length;b++){const w=C[b],A=[];for(let R=0;R<w.length;R++){const F=w[R];if("string"!=typeof F){const H=A.push(F)-1;w[R]=`\x3c!--\ufffd${H}\ufffd--\x3e`}}g=e_(t,m,n,s,a,l.cases[b],w.join(""),A)|g}g&&function(t,n,s){t.push(n,1,s<<2|3)}(s,g,c)}function tw(t){const n=[],s=[];let a=1,l=0;const c=Xm(t=t.replace(tp,function(g,m,C){return a="select"===C?0:1,l=parseInt(m.substr(1),10),""}));for(let g=0;g<c.length;){let m=c[g++].trim();1===a&&(m=m.replace(/\s*(?:=)?(\w+)\s*/,"$1")),m.length&&n.push(m);const C=Xm(c[g++]);n.length>s.length&&s.push(C)}return{type:a,mainBinding:l,cases:n,values:s}}function Xm(t){if(!t)return[];let n=0;const s=[],a=[],l=/[{}]/g;let c;for(l.lastIndex=0;c=l.exec(t);){const m=c.index;if("}"==c[0]){if(s.pop(),0==s.length){const C=t.substring(n,m);tp.test(C)?a.push(tw(C)):a.push(C),n=m+1}}else{if(0==s.length){const C=t.substring(n,m);a.push(C),n=m+1}s.push("{")}}const g=t.substring(n);return a.push(g),a}function e_(t,n,s,a,l,c,g,m){const C=[],b=[],w=[];n.cases.push(c),n.create.push(C),n.remove.push(b),n.update.push(w);const R=Gl(gl()).getInertBodyElement(g),F=sf(R)||R;return F?t_(t,n,s,a,C,b,w,F,l,m,0):0}function t_(t,n,s,a,l,c,g,m,C,b,w){let A=0,R=m.firstChild;for(;R;){const F=tu(t,s,1,null);switch(R.nodeType){case Node.ELEMENT_NODE:const H=R,se=H.tagName.toLowerCase();if(Do.hasOwnProperty(se)){np(l,Od,se,C,F),t.data[F]=se;const Ue=H.attributes;for(let Ke=0;Ke<Ue.length;Ke++){const bt=Ue.item(Ke),Bn=bt.name.toLowerCase();bt.value.match(Fd)?zc.hasOwnProperty(Bn)&&Ja(g,bt.value,F,bt.name,0,Gc[Bn]?Ca:Ea[Bn]?ug:null):xC(l,F,bt)}A=t_(t,n,s,a,l,c,g,R,F,b,w+1)|A,PC(c,F,w)}break;case Node.TEXT_NODE:const Q=R.textContent||"",Ee=Q.match(Fd);np(l,null,Ee?"":Q,C,F),PC(c,F,w),Ee&&(A=Ja(g,Q,F,null,0,null)|A);break;case Node.COMMENT_NODE:const me=IC.exec(R.textContent||"");if(me){const Ke=b[parseInt(me[1],10)];np(l,bi,"",C,F),NC(t,s,a,C,Ke,F),nw(c,F,w)}}R=R.nextSibling}return A}function PC(t,n,s){0===s&&t.push(n)}function nw(t,n,s){0===s&&(t.push(~n),t.push(n))}function np(t,n,s,a,l){null!==n&&t.push(n),t.push(s,l,function(t,n,s){return 0|n<<17|s<<1}(0,a,l))}function xC(t,n,s){t.push(n<<1|1,s.name,s.value)}const rp=/\[(\ufffd.+?\ufffd?)\]/,ip=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,rw=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,iw=/{([A-Z0-9_]+)}/g,sw=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,kC=/\/\*/,n_=/\d+\:(\d+)/;function zs(t,n,s=-1){const a=dt(),l=ve(),c=20+t,g=Ur(a.consts,n),m=ds();a.firstCreatePass&&function(t,n,s,a,l,c){const g=ds(),m=[],C=[],b=[[]],w=function(t){return t.replace(Q0," ")}(l=function(t,n){if(function(t){return-1===t}(n))return Vd(t);{const s=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,a=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return Vd(t.substring(s,a))}}(l,c)).split(K0);for(let A=0;A<w.length;A++){let R=w[A];if(0==(1&A)){const F=Xm(R);for(let H=0;H<F.length;H++){let se=F[H];if(0==(1&H)){const Q=se;""!==Q&&TC(t,g,b[0],m,C,s,Q)}else{const Q=se;if("object"!=typeof Q)throw new Error(`Unable to parse ICU expression in "${l}" message.`);NC(t,s,C,n,Q,DC(t,g,b[0],s,m,"",!0).index)}}}else{const F=47===R.charCodeAt(0),se=(R.charCodeAt(F?1:0),20+Number.parseInt(R.substring(F?2:1)));if(F)b.shift(),Gn(ds(),!1);else{const Q=$0(t,b[0],se);b.unshift([]),Gn(Q,!0)}}}t.data[a]={create:m,update:C}}(a,null===m?0:m.index,l,c,g,s);const C=a.data[c],w=_y(a,m===l[6]?null:m,l);(function(t,n,s,a){const l=t[11];for(let c=0;c<n.length;c++){const g=n[c++],m=n[c],C=(g&Yt.COMMENT)===Yt.COMMENT,b=(g&Yt.APPEND_EAGERLY)===Yt.APPEND_EAGERLY,w=g>>>Yt.SHIFT;let A=t[w];null===A&&(A=t[w]=C?l.createComment(m):Ig(l,m)),b&&null!==s&&Ra(l,s,A,a,!1)}})(l,C.create,w,m&&8&m.type?l[m.index]:null),wl(!0)}function Nu(){wl(!1)}function aw(t,n,s){zs(t,n,s),Nu()}function lw(t,n){const s=dt();!function(t,n,s){const l=Ft().index,c=[];if(t.firstCreatePass&&null===t.data[n]){for(let g=0;g<s.length;g+=2){const m=s[g],C=s[g+1];if(""!==C){if(q0.test(C))throw new Error(`ICU expressions are not supported in attributes. Message: "${C}".`);Ja(c,C,l,m,AC(c),null)}}t.data[n]=c}}(s,t+20,Ur(s.consts,n))}function FC(t){return function(t){t&&(Mu|=1<<Math.min(Uo,31)),Uo++}(Rn(ve(),Fi(),t)),FC}function r_(t){!function(t,n,s){if(Uo>0){const a=t.data[s];EC(t,n,Array.isArray(a)?a:a.update,Rr()-Uo-1,Mu)}Mu=0,Uo=0}(dt(),ve(),t+20)}function uw(t,n={}){return function(t,n={}){let s=t;if(rp.test(t)){const a={},l=[0];s=s.replace(ip,(c,g,m)=>{const C=g||m,b=a[C]||[];if(b.length||(C.split("|").forEach(se=>{const Q=se.match(n_),Ee=Q?parseInt(Q[1],10):0,me=kC.test(se);b.push([Ee,me,se])}),a[C]=b),!b.length)throw new Error(`i18n postprocess: unmatched placeholder - ${C}`);const w=l[l.length-1];let A=0;for(let se=0;se<b.length;se++)if(b[se][0]===w){A=se;break}const[R,F,H]=b[A];return F?l.pop():w!==R&&l.push(R),b.splice(A,1),H})}return Object.keys(n).length&&(s=s.replace(rw,(a,l,c,g,m,C)=>n.hasOwnProperty(c)?`${l}${n[c]}${C}`:a),s=s.replace(iw,(a,l)=>n.hasOwnProperty(l)?n[l]:a),s=s.replace(sw,(a,l)=>{if(n.hasOwnProperty(l)){const c=n[l];if(!c.length)throw new Error(`i18n postprocess: unmatched ICU - ${a} with key: ${l}`);return c.shift()}return a})),s}(t,n)}function sp(t,n,s,a,l){if(t=O(t),Array.isArray(t))for(let c=0;c<t.length;c++)sp(t[c],n,s,a,l);else{const c=dt(),g=ve();let m=vd(t)?t:O(t.provide),C=tm(t);const b=Ft(),w=1048575&b.providerIndexes,A=b.directiveStart,R=b.providerIndexes>>20;if(vd(t)||!t.multi){const F=new sa(C,l,Fo),H=jo(m,n,l?w:w+R,A);-1===H?(zn(ca(b,g),c,m),Pu(c,t,n.length),n.push(m),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),s.push(F),g.push(F)):(s[H]=F,g[H]=F)}else{const F=jo(m,n,w+R,A),H=jo(m,n,w,w+R),se=F>=0&&s[F],Q=H>=0&&s[H];if(l&&!Q||!l&&!se){zn(ca(b,g),c,m);const Ee=function(t,n,s,a,l){const c=new sa(t,s,Fo);return c.multi=[],c.index=n,c.componentProviders=0,LC(c,l,a&&!s),c}(l?UC:VC,s.length,l,a,C);!l&&Q&&(s[H].providerFactory=Ee),Pu(c,t,n.length,0),n.push(m),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),s.push(Ee),g.push(Ee)}else Pu(c,t,F>-1?F:H,LC(s[l?H:F],C,!l&&a));!l&&a&&Q&&s[H].componentProviders++}}}function Pu(t,n,s,a){const l=vd(n);if(l||function(t){return!!t.useClass}(n)){const g=(n.useClass||n).prototype.ngOnDestroy;if(g){const m=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const C=m.indexOf(s);-1===C?m.push(s,[a,g]):m[C+1].push(a,g)}else m.push(s,g)}}}function LC(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function jo(t,n,s,a){for(let l=s;l<a;l++)if(n[l]===t)return l;return-1}function VC(t,n,s,a){return op(this.multi,[])}function UC(t,n,s,a){const l=this.multi;let c;if(this.providerFactory){const g=this.providerFactory.componentProviders,m=ha(s,s[1],this.providerFactory.index,a);c=m.slice(0,g),op(l,c);for(let C=g;C<m.length;C++)c.push(m[C])}else c=[],op(l,c);return c}function op(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function Ud(t,n=[]){return s=>{s.providersResolver=(a,l)=>function(t,n,s){const a=dt();if(a.firstCreatePass){const l=fr(t);sp(s,a.data,a.blueprint,l,!0),sp(n,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,n)}}class lp{}const BC="ngComponent";class dw{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${Z(t)}. Did you add it to @NgModule.entryComponents?`);return n[BC]=t,n}(n)}}class Xa{}function Ou(...t){}function el(t,n){return new qr(Xn(t,n))}Xa.NULL=new dw;const jC=function(){return el(Ft(),ve())};let qr=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=jC,t})();function dp(t){return t instanceof qr?t.nativeElement:t}class tl{}let nl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>gw(),t})();const gw=function(){const t=ve(),s=er(Ft().index,t);return function(t){return t[11]}(Ar(s)?s:t)};let o_=(()=>{class t{}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:()=>null}),t})();class xu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const jd=new xu("12.2.4");class WC{constructor(){}supports(n){return Ed(n)}create(n){return new a_(n)}}const mw=(t,n)=>n;class a_{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||mw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,l=0,c=null;for(;s||a;){const g=!a||s&&s.currentIndex<ku(a,l,c)?s:a,m=ku(g,l,c),C=g.currentIndex;if(g===a)l--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)l++;else{c||(c=[]);const b=m-l,w=C-l;if(b!=w){for(let R=0;R<b;R++){const F=R<c.length?c[R]:c[R]=0,H=F+R;w<=H&&H<b&&(c[R]=F+1)}c[g.previousIndex]=w-b}}m!==C&&n(g,m,C)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Ed(n))throw new Error(`Error trying to diff '${Z(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,c,g,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)c=n[m],g=this._trackByFn(m,c),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,c,g,m)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,g,m),a=!0),s=s._next}else l=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[mn()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,m=>{g=this._trackByFn(l,m),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,m,g,l)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,g,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,l){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,c,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,c,l)):n=this._addAfter(new fp(s,a),c,l),n}_verifyReinsertion(n,s,a,l){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?n=this._reinsertAfter(c,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,c=n._nextRemoved;return null===l?this._removalsHead=c:l._nextRemoved=c,null===c?this._removalsTail=l:c._prevRemoved=l,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const l=null===s?this._itHead:s._next;return n._next=l,n._prev=s,null===l?this._itTail=n:l._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new zC),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class fp{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GC{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class zC{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new GC,this.map.set(s,a)),a.add(n)}get(n,s){const l=this.map.get(n);return l?l.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ku(t,n,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+n+l}class wi{constructor(){}supports(n){return n instanceof Map||Vs(n)}create(){return new Hd}}class Hd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Vs(n)))throw new Error(`Error trying to diff '${Z(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,s);const c=l._prev,g=l._next;return c&&(c._next=g),g&&(g._prev=c),l._next=null,l._prev=null,l}const a=new _w(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class _w{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function l_(){return new Fu([new WC])}let Fu=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||l_()),deps:[[t,new hi,new Hr]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:l_}),t})();function Lu(){return new pp([new wi])}let pp=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Lu()),deps:[[t,new hi,new Hr]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:Lu}),t})();function ar(t,n,s,a,l=!1){for(;null!==s;){const c=n[s.index];if(null!==c&&a.push(Ut(c)),dr(c))for(let m=10;m<c.length;m++){const C=c[m],b=C[1].firstChild;null!==b&&ar(C[1],C,b,a)}const g=s.type;if(8&g)ar(t,n,s.child,a);else if(32&g){const m=bg(s,n);let C;for(;C=m();)a.push(C)}else if(16&g){const m=Ng(n,s);if(Array.isArray(m))a.push(...m);else{const C=Jc(n[16]);ar(C[1],C,m,a,!0)}}s=l?s.projectionNext:s.next}return a}class Vu{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return ar(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(dr(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(ht(n,a),ji(s,a))}this._attachedToViewContainer=!1}py(this._lView[1],this._lView)}onDestroy(n){ru(this._lView[1],this._lView,null,n)}markForCheck(){Tf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){bl(!0);try{Kg(t,n,s)}finally{bl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Mo(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class yw extends Vu{constructor(n){super(n),this._view=n}detectChanges(){Ky(this._view)}checkNoChanges(){!function(t){bl(!0);try{Ky(t)}finally{bl(!1)}}(this._view)}get context(){return null}}const Yr=function(t){return function(t,n,s){if(Pi(t)&&!s){const a=er(t.index,n);return new Vu(a,a)}return 47&t.type?new Vu(n[16],n):null}(Ft(),ve(),16==(16&t))};let qC=(()=>{class t{}return t.__NG_ELEMENT_ID__=Yr,t})();const Cw=[new wi],bw=new Fu([new WC]),KC=new pp(Cw),QC=function(){return Uu(Ft(),ve())};let Gd=(()=>{class t{}return t.__NG_ELEMENT_ID__=QC,t})();const u_=Gd,mp=class extends u_{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=eu(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),xa(s,a,n),new Vu(a)}};function Uu(t,n){return 4&t.type?new mp(n,t,el(t,n)):null}class rl{}class JC{}const Aw=function(){return Zs(Ft(),ve())};let _p=(()=>{class t{}return t.__NG_ELEMENT_ID__=Aw,t})();const c_=_p,d_=class extends c_{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return el(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const n=jt(this._hostTNode,this._hostLView);if(po(n)){const s=aa(n,this._hostLView),a=ms(n);return new ys(s[1].data[a+8],s)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=XC(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const l=n.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(n,s,a,l,c){const g=a||this.parentInjector;if(!c&&null==n.ngModule&&g){const C=g.get(rl,null);C&&(c=C)}const m=n.create(g,l,void 0,c);return this.insert(m.hostView,s),m}insert(n,s){const a=n._lView,l=a[1];if(dr(a[3])){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const A=a[3],R=new d_(A,A[6],A[3]);R.detach(R.indexOf(n))}}const c=this._adjustIndex(s),g=this._lContainer;!function(t,n,s,a){const l=10+a,c=s.length;a>0&&(s[l-1][4]=n),a<c-10?(n[4]=s[l],Nr(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const g=n[17];null!==g&&s!==g&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(g,n);const m=n[19];null!==m&&m.insertView(t),n[2]|=128}(l,a,g,c);const m=Pg(c,g),C=a[11],b=ed(C,g[7]);return null!==b&&function(t,n,s,a,l,c){a[0]=l,a[6]=n,Mo(t,a,s,1,l,c)}(l,g[6],C,a,b,m),n.attachToViewContainerRef(),Nr(Ho(g),c,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=XC(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=ht(this._lContainer,s);a&&(ji(Ho(this._lContainer),s),py(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=ht(this._lContainer,s);return a&&null!=ji(Ho(this._lContainer),s)?new Vu(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function XC(t){return t[8]}function Ho(t){return t[8]||(t[8]=[])}function Zs(t,n){let s;const a=n[t.index];if(dr(a))s=a;else{let l;if(8&t.type)l=Ut(a);else{const c=n[11];l=c.createComment("");const g=Xn(t,n);Ra(c,ed(c,g),l,function(t,n){return kt(t)?t.nextSibling(n):n.nextSibling}(c,g),!1)}n[t.index]=s=Zy(a,n,l,t),_d(n,s)}return new d_(s,t,n)}const $u={};class T_ extends Xa{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Xt(n);return new Tp(s,this.ngModule)}}function A_(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const _E=new Ht("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Kl});class Tp extends lp{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(vf).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return A_(this.componentDef.inputs)}get outputs(){return A_(this.componentDef.outputs)}create(n,s,a,l){const c=(l=l||this.ngModule)?function(t,n){return{get:(s,a,l)=>{const c=t.get(s,$u,l);return c!==$u||a===$u?c:n.get(s,a,l)}}}(n,l.injector):n,g=c.get(tl,us),m=c.get(o_,null),C=g.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",w=a?function(t,n,s){if(kt(t))return t.selectRootElement(n,s===Te.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(C,a,this.componentDef.encapsulation):Dg(g.createRenderer(null,this.componentDef),b,function(t){const n=t.toLowerCase();return"svg"===n?fl:"math"===n?tc:null}(b)),A=this.componentDef.onPush?576:528,R=function(t,n){return{components:[],scheduler:t||Kl,clean:Bb,playerHandler:n||null,flags:0}}(),F=wf(0,null,null,1,0,null,null,null,null,null),H=eu(null,F,R,A,null,null,g,C,m,c);let se,Q;na(H);try{const Ee=function(t,n,s,a,l,c){const g=s[1];s[20]=t;const C=Oa(g,20,2,"#host",null),b=C.mergedAttrs=n.hostAttrs;null!==b&&(Rf(C,b,!0),null!==t&&(vc(l,t,b),null!==C.classes&&xg(l,t,C.classes),null!==C.styles&&No(l,t,C.styles)));const w=a.createRenderer(t,n),A=eu(s,Vy(n),null,n.onPush?64:16,s[20],C,a,w,c||null,null);return g.firstCreatePass&&(zn(ca(C,s),g,n.type),iu(g,C),Gy(C,s.length,1)),_d(s,A),s[20]=A}(w,this.componentDef,H,g,C);if(w)if(a)vc(C,w,["ng-version",jd.full]);else{const{attrs:me,classes:Ue}=function(t){const n=[],s=[];let a=1,l=2;for(;a<t.length;){let c=t[a];if("string"==typeof c)2===l?""!==c&&n.push(c,t[++a]):8===l&&s.push(c);else{if(!_i(l))break;l=c}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);me&&vc(C,w,me),Ue&&Ue.length>0&&xg(C,w,Ue.join(" "))}if(Q=yl(F,20),void 0!==s){const me=Q.projection=[];for(let Ue=0;Ue<this.ngContentSelectors.length;Ue++){const Ke=s[Ue];me.push(null!=Ke?Array.from(Ke):null)}}se=function(t,n,s,a,l){const c=s[1],g=function(t,n,s){const a=Ft();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),zy(t,a,n,tu(t,n,1,null),s));const l=ha(n,t,a.directiveStart,a);pn(l,n);const c=Xn(a,n);return c&&pn(c,n),l}(c,s,n);if(a.components.push(g),t[8]=g,l&&l.forEach(C=>C(g,n)),n.contentQueries){const C=Ft();n.contentQueries(1,g,C.directiveStart)}const m=Ft();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(co(m.index),$y(s[1],m,0,m.directiveStart,m.directiveEnd,n),Wy(n,g)),g}(Ee,this.componentDef,H,R,[Ua]),xa(F,H,null)}finally{ra()}return new uI(this.componentType,se,el(Q,H),H,Q)}}class uI extends class{}{constructor(n,s,a,l,c){super(),this.location=a,this._rootLView=l,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new yw(l),this.componentType=n}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const al=new Map;class dI extends rl{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new T_(this);const a=cr(n),l=n[Ie]||null;l&&Su(l),this._bootstrapComponents=_r(a.bootstrap),this._r3Injector=Fa(n,s,[{provide:rl,useValue:this},{provide:Xa,useValue:this.componentFactoryResolver}],Z(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Nt.THROW_IF_NOT_FOUND,a=Fe.Default){return n===Nt||n===rl||n===ka?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class M_ extends JC{constructor(n){super(),this.moduleType=n,null!==cr(n)&&function(t){const n=new Set;!function s(a){const l=cr(a,!0),c=l.id;null!==c&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${Z(n)} vs ${Z(n.name)}`)}(c,al.get(c),a),al.set(c,a));const g=_r(l.imports);for(const m of g)n.has(m)||(n.add(m),s(m))}(t)}(n)}create(n){return new dI(this.moduleType,n)}}function CE(t,n,s){const a=sn()+t,l=ve();return l[a]===nt?Qi(l,a,s?n.call(s):n()):Us(l,a)}function EE(t,n,s,a){return DE(ve(),sn(),t,n,s,a)}function bE(t,n,s,a,l){return TE(ve(),sn(),t,n,s,a,l)}function hI(t,n,s,a,l,c){return N_(ve(),sn(),t,n,s,a,l,c)}function fI(t,n,s,a,l,c,g){return AE(ve(),sn(),t,n,s,a,l,c,g)}function pI(t,n,s,a,l,c,g,m){const C=sn()+t,b=ve(),w=Fr(b,C,s,a,l,c);return Rn(b,C+4,g)||w?Qi(b,C+5,m?n.call(m,s,a,l,c,g):n(s,a,l,c,g)):Us(b,C+5)}function wE(t,n,s,a,l,c,g,m,C){const b=sn()+t,w=ve(),A=Fr(w,b,s,a,l,c);return xo(w,b+4,g,m)||A?Qi(w,b+6,C?n.call(C,s,a,l,c,g,m):n(s,a,l,c,g,m)):Us(w,b+6)}function gI(t,n,s,a,l,c,g,m,C,b){const w=sn()+t,A=ve();let R=Fr(A,w,s,a,l,c);return dn(A,w+4,g,m,C)||R?Qi(A,w+7,b?n.call(b,s,a,l,c,g,m,C):n(s,a,l,c,g,m,C)):Us(A,w+7)}function mI(t,n,s,a,l,c,g,m,C,b,w){const A=sn()+t,R=ve(),F=Fr(R,A,s,a,l,c);return Fr(R,A+4,g,m,C,b)||F?Qi(R,A+8,w?n.call(w,s,a,l,c,g,m,C,b):n(s,a,l,c,g,m,C,b)):Us(R,A+8)}function IE(t,n,s,a){return P_(ve(),sn(),t,n,s,a)}function ih(t,n){const s=t[n];return s===nt?void 0:s}function DE(t,n,s,a,l,c){const g=n+s;return Rn(t,g,l)?Qi(t,g+1,c?a.call(c,l):a(l)):ih(t,g+1)}function TE(t,n,s,a,l,c,g){const m=n+s;return xo(t,m,l,c)?Qi(t,m+2,g?a.call(g,l,c):a(l,c)):ih(t,m+2)}function N_(t,n,s,a,l,c,g,m){const C=n+s;return dn(t,C,l,c,g)?Qi(t,C+3,m?a.call(m,l,c,g):a(l,c,g)):ih(t,C+3)}function AE(t,n,s,a,l,c,g,m,C){const b=n+s;return Fr(t,b,l,c,g,m)?Qi(t,b+4,C?a.call(C,l,c,g,m):a(l,c,g,m)):ih(t,b+4)}function P_(t,n,s,a,l,c){let g=n+s,m=!1;for(let C=0;C<l.length;C++)Rn(t,g++,l[C])&&(m=!0);return m?Qi(t,g,a.apply(c,l)):ih(t,g)}function SE(t,n){const s=dt();let a;const l=t+20;s.firstCreatePass?(a=function(t,n){if(n)for(let s=n.length-1;s>=0;s--){const a=n[s];if(t===a.name)return a}throw new re("302",`The pipe '${t}' could not be found!`)}(n,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const c=a.factory||(a.factory=ls(a.type)),g=hn(Fo);try{const m=la(!1),C=c();return la(m),function(t,n,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=a}(s,ve(),l,C),C}finally{hn(g)}}function yI(t,n,s){const a=t+20,l=ve(),c=ki(l,a);return Wu(l,sh(l,a)?DE(l,sn(),n,c.transform,s,c):c.transform(s))}function vI(t,n,s,a){const l=t+20,c=ve(),g=ki(c,l);return Wu(c,sh(c,l)?TE(c,sn(),n,g.transform,s,a,g):g.transform(s,a))}function CI(t,n,s,a,l){const c=t+20,g=ve(),m=ki(g,c);return Wu(g,sh(g,c)?N_(g,sn(),n,m.transform,s,a,l,m):m.transform(s,a,l))}function EI(t,n,s,a,l,c){const g=t+20,m=ve(),C=ki(m,g);return Wu(m,sh(m,g)?AE(m,sn(),n,C.transform,s,a,l,c,C):C.transform(s,a,l,c))}function bI(t,n,s){const a=t+20,l=ve(),c=ki(l,a);return Wu(l,sh(l,a)?P_(l,sn(),n,c.transform,s,c):c.transform.apply(c,s))}function sh(t,n){return t[1].data[n].pure}function Wu(t,n){return vr.isWrapped(n)&&(n=vr.unwrap(n),t[Rr()]=nt),n}function O_(t){return n=>{setTimeout(t,void 0,n)}}const ns=class extends d.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var l,c,g;let m=n,C=s||(()=>null),b=a;if(n&&"object"==typeof n){const A=n;m=null===(l=A.next)||void 0===l?void 0:l.bind(A),C=null===(c=A.error)||void 0===c?void 0:c.bind(A),b=null===(g=A.complete)||void 0===g?void 0:g.bind(A)}this.__isAsync&&(C=O_(C),m&&(m=O_(m)),b&&(b=O_(b)));const w=super.subscribe({next:m,error:C,complete:b});return n instanceof te.w&&n.add(w),w}};function II(){return this._results[mn()]()}class Ap{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=mn(),a=Ap.prototype;a[s]||(a[s]=II)}get changes(){return this._changes||(this._changes=new ns)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const l=xn(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],c=n[a];if(s&&(l=s(l),c=s(c)),c!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Gu{constructor(n){this.queryList=n,this.matches=null}clone(){return new Gu(this.queryList)}setDirty(){this.queryList.setDirty()}}class PE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,l=[];for(let c=0;c<a;c++){const g=s.getByIndex(c);l.push(this.queries[g.indexInDeclarationView].clone())}return new PE(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==_(n,s).matches&&this.queries[s].setDirty()}}class DI{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class OE{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(n,l);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new OE(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class xE{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new xE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const c=a[l];this.matchTNodeWithReadOption(n,s,TI(s,c)),this.matchTNodeWithReadOption(n,s,nr(s,n,c,!1,!1))}else a===Gd?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,nr(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===qr||l===_p||l===Gd&&4&s.type)this.addMatch(s.index,-2);else{const c=nr(s,n,l,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function TI(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function $D(t,n,s,a){return-1===s?function(t,n){return 11&t.type?el(t,n):4&t.type?Uu(t,n):null}(n,t):-2===s?function(t,n,s){return s===qr?el(n,t):s===Gd?Uu(n,t):s===_p?Zs(n,t):void 0}(t,n,a):ha(t,t[1],s,n)}function AI(t,n,s,a){const l=n[19].queries[a];if(null===l.matches){const c=t.data,g=s.matches,m=[];for(let C=0;C<g.length;C+=2){const b=g[C];m.push(b<0?null:$D(n,c[b],g[C+1],s.metadata.read))}l.matches=m}return l.matches}function x_(t,n,s,a){const l=t.queries.getByIndex(s),c=l.matches;if(null!==c){const g=AI(t,n,l,s);for(let m=0;m<c.length;m+=2){const C=c[m];if(C>0)a.push(g[m/2]);else{const b=c[m+1],w=n[-C];for(let A=10;A<w.length;A++){const R=w[A];R[17]===R[3]&&x_(R[1],R,b,a)}if(null!==w[9]){const A=w[9];for(let R=0;R<A.length;R++){const F=A[R];x_(F[1],F,b,a)}}}}}return a}function Sp(t){const n=ve(),s=dt(),a=gc();hs(a+1);const l=_(s,a);if(t.dirty&&sc(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const c=l.crossesNgTemplate?x_(s,n,a,[]):AI(s,n,l,a);t.reset(c,dp),t.notifyOnChanges()}return!0}return!1}function GD(t,n,s){const a=dt();a.firstCreatePass&&(u(a,new DI(t,n,s),-1),2==(2&n)&&(a.staticViewQueries=!0)),o(a,ve(),n)}function i(t,n,s,a){const l=dt();if(l.firstCreatePass){const c=Ft();u(l,new DI(n,s,a),c.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}o(l,ve(),s)}function r(){return t=ve(),n=gc(),t[19].queries[n].queryList;var t,n}function o(t,n,s){const a=new Ap(4==(4&s));ru(t,n,a,a.destroy),null===n[19]&&(n[19]=new PE),n[19].queries.push(new Gu(a))}function u(t,n,s){null===t.queries&&(t.queries=new OE),t.queries.track(new xE(n,s))}function _(t,n){return t.queries.getByIndex(n)}function E(t,n){return Uu(t,n)}const T=(()=>({\u0275\u0275attribute:dm,\u0275\u0275attributeInterpolate1:Dv,\u0275\u0275attributeInterpolate2:Tv,\u0275\u0275attributeInterpolate3:du,\u0275\u0275attributeInterpolate4:bd,\u0275\u0275attributeInterpolate5:hm,\u0275\u0275attributeInterpolate6:fm,\u0275\u0275attributeInterpolate7:pm,\u0275\u0275attributeInterpolate8:gm,\u0275\u0275attributeInterpolateV:mm,\u0275\u0275defineComponent:ot,\u0275\u0275defineDirective:ul,\u0275\u0275defineInjectable:Qe,\u0275\u0275defineInjector:Qt,\u0275\u0275defineNgModule:to,\u0275\u0275definePipe:Yu,\u0275\u0275directiveInject:Fo,\u0275\u0275getInheritedFactory:Ol,\u0275\u0275inject:Zt,\u0275\u0275injectAttribute:vs,\u0275\u0275invalidFactory:Hv,\u0275\u0275invalidFactoryDep:ya,\u0275\u0275templateRefExtractor:E,\u0275\u0275NgOnChangesFeature:ec,\u0275\u0275ProvidersFeature:Ud,\u0275\u0275CopyDefinitionFeature:cm,\u0275\u0275InheritDefinitionFeature:Of,\u0275\u0275nextContext:Bf,\u0275\u0275namespaceHTML:mc,\u0275\u0275namespaceMathML:KE,\u0275\u0275namespaceSVG:YE,\u0275\u0275enableBindings:bh,\u0275\u0275disableBindings:cs,\u0275\u0275elementStart:lt,\u0275\u0275elementEnd:Xi,\u0275\u0275element:xt,\u0275\u0275elementContainerStart:Wa,\u0275\u0275elementContainerEnd:Uf,\u0275\u0275elementContainer:qt,\u0275\u0275pureFunction0:CE,\u0275\u0275pureFunction1:EE,\u0275\u0275pureFunction2:bE,\u0275\u0275pureFunction3:hI,\u0275\u0275pureFunction4:fI,\u0275\u0275pureFunction5:pI,\u0275\u0275pureFunction6:wE,\u0275\u0275pureFunction7:gI,\u0275\u0275pureFunction8:mI,\u0275\u0275pureFunctionV:IE,\u0275\u0275getCurrentView:ft,\u0275\u0275restoreView:uc,\u0275\u0275listener:Cr,\u0275\u0275projection:w0,\u0275\u0275syntheticHostProperty:Iu,\u0275\u0275syntheticHostListener:Gv,\u0275\u0275pipeBind1:yI,\u0275\u0275pipeBind2:vI,\u0275\u0275pipeBind3:CI,\u0275\u0275pipeBind4:EI,\u0275\u0275pipeBindV:bI,\u0275\u0275projectionDef:b0,\u0275\u0275hostProperty:zm,\u0275\u0275property:Vf,\u0275\u0275propertyInterpolate:Mm,\u0275\u0275propertyInterpolate1:Nm,\u0275\u0275propertyInterpolate2:Zv,\u0275\u0275propertyInterpolate3:qv,\u0275\u0275propertyInterpolate4:Pm,\u0275\u0275propertyInterpolate5:Ga,\u0275\u0275propertyInterpolate6:gt,\u0275\u0275propertyInterpolate7:Ad,\u0275\u0275propertyInterpolate8:Sd,\u0275\u0275propertyInterpolateV:Om,\u0275\u0275pipe:SE,\u0275\u0275queryRefresh:Sp,\u0275\u0275viewQuery:GD,\u0275\u0275loadQuery:r,\u0275\u0275contentQuery:i,\u0275\u0275reference:ym,\u0275\u0275classMap:$s,\u0275\u0275classMapInterpolate1:$m,\u0275\u0275classMapInterpolate2:R0,\u0275\u0275classMapInterpolate3:Wf,\u0275\u0275classMapInterpolate4:aC,\u0275\u0275classMapInterpolate5:lC,\u0275\u0275classMapInterpolate6:Gf,\u0275\u0275classMapInterpolate7:M0,\u0275\u0275classMapInterpolate8:zf,\u0275\u0275classMapInterpolateV:bu,\u0275\u0275styleMap:zr,\u0275\u0275styleMapInterpolate1:Wm,\u0275\u0275styleMapInterpolate2:Gm,\u0275\u0275styleMapInterpolate3:N0,\u0275\u0275styleMapInterpolate4:P0,\u0275\u0275styleMapInterpolate5:uC,\u0275\u0275styleMapInterpolate6:O0,\u0275\u0275styleMapInterpolate7:x0,\u0275\u0275styleMapInterpolate8:k0,\u0275\u0275styleMapInterpolateV:Zr,\u0275\u0275styleProp:Xv,\u0275\u0275stylePropInterpolate1:Zf,\u0275\u0275stylePropInterpolate2:qf,\u0275\u0275stylePropInterpolate3:Yf,\u0275\u0275stylePropInterpolate4:Nd,\u0275\u0275stylePropInterpolate5:wu,\u0275\u0275stylePropInterpolate6:Vo,\u0275\u0275stylePropInterpolate7:Ya,\u0275\u0275stylePropInterpolate8:Ws,\u0275\u0275stylePropInterpolateV:cC,\u0275\u0275classProp:pu,\u0275\u0275advance:Dy,\u0275\u0275template:Sv,\u0275\u0275text:vu,\u0275\u0275textInterpolate:Hm,\u0275\u0275textInterpolate1:Cu,\u0275\u0275textInterpolate2:Eu,\u0275\u0275textInterpolate3:nC,\u0275\u0275textInterpolate4:Md,\u0275\u0275textInterpolate5:rC,\u0275\u0275textInterpolate6:iC,\u0275\u0275textInterpolate7:sC,\u0275\u0275textInterpolate8:$f,\u0275\u0275textInterpolateV:oC,\u0275\u0275i18n:aw,\u0275\u0275i18nAttributes:lw,\u0275\u0275i18nExp:FC,\u0275\u0275i18nStart:zs,\u0275\u0275i18nEnd:Nu,\u0275\u0275i18nApply:r_,\u0275\u0275i18nPostprocess:uw,\u0275\u0275resolveWindow:Yc,\u0275\u0275resolveDocument:df,\u0275\u0275resolveBody:Kc,\u0275\u0275setComponentScope:Jt,\u0275\u0275setNgModuleScope:qu,\u0275\u0275sanitizeHtml:af,\u0275\u0275sanitizeStyle:lf,\u0275\u0275sanitizeResourceUrl:uf,\u0275\u0275sanitizeScript:oy,\u0275\u0275sanitizeUrl:Zl,\u0275\u0275sanitizeUrlOrResourceUrl:gr,\u0275\u0275trustConstantHtml:Ze,\u0275\u0275trustConstantResourceUrl:an,forwardRef:B,resolveForwardRef:O}))(),we=[];function KD(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}const vA=_o("NgModule",t=>t,void 0,void 0,(t,n)=>EA(t,n)),EA=function(t,n={}){(function(t,n,s=!1){const a=xn(n.declarations||L);let l=null;Object.defineProperty(t,Y,{configurable:!0,get:()=>(null===l&&(l=Ot().compileNgModule(T,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:xn(n.bootstrap||L).map(O),declarations:a.map(O),imports:xn(n.imports||L).map(O).map(KD),exports:xn(n.exports||L).map(O).map(KD),schemas:n.schemas?xn(n.schemas):null,id:n.id||null}),l.schemas||(l.schemas=[])),l)});let c=null;Object.defineProperty(t,Pe,{get:()=>{if(null===c){const m=Ot();c=m.compileFactory(T,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:wo(t),target:m.FactoryTarget.NgModule,typeArgumentCount:0})}return c},configurable:!1});let g=null;Object.defineProperty(t,Ai,{get:()=>{if(null===g){const m={name:t.name,type:t,providers:n.providers||L,imports:[(n.imports||L).map(O),(n.exports||L).map(O)]};g=Ot().compileInjector(T,`ng:///${t.name}/\u0275inj.js`,m)}return g},configurable:!1})})(t,n),function(t,n){we.push({moduleType:t,ngModule:n})}(t,n)},NI=new Ht("Application Initializer");let Rp=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Ou,this.reject=Ou,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const c=this.appInits[l]();if(Vn(c))s.push(c);else if(Dd(c)){const g=new Promise((m,C)=>{c.subscribe({complete:m,error:C})});s.push(g)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Zt(NI,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const lT=new Ht("AppId"),wA={provide:lT,useFactory:function(){return`${PI()}${PI()}${PI()}`},deps:[]};function PI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uT=new Ht("Platform Initializer"),cT=new Ht("Platform ID"),dT=new Ht("appBootstrapListener");let hT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const LE=new Ht("LocaleId"),fT=new Ht("DefaultCurrencyCode");class DA{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}const OI=function(t){return new M_(t)},TA=OI,AA=function(t){return Promise.resolve(OI(t))},pT=function(t){const n=OI(t),a=_r(cr(t).declarations).reduce((l,c)=>{const g=Xt(c);return g&&l.push(new Tp(g)),l},[]);return new DA(n,a)},SA=pT,RA=function(t){return Promise.resolve(pT(t))};let k_=(()=>{class t{constructor(){this.compileModuleSync=TA,this.compileModuleAsync=AA,this.compileModuleAndAllComponentsSync=SA,this.compileModuleAndAllComponentsAsync=RA}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const PA=(()=>Promise.resolve(0))();function xI(t){"undefined"==typeof Zone?PA.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ti{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ns(!1),this.onMicrotaskEmpty=new ns(!1),this.onStable=new ns(!1),this.onError=new ns(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let t=It.requestAnimationFrame,n=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,FI(t),t.isCheckStableRunning=!0,kI(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),FI(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,c,g,m)=>{try{return gT(t),s.invokeTask(l,c,g,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&n(),mT(t)}},onInvoke:(s,a,l,c,g,m,C)=>{try{return gT(t),s.invoke(l,c,g,m,C)}finally{t.shouldCoalesceRunChangeDetection&&n(),mT(t)}},onHasTask:(s,a,l,c)=>{s.hasTask(l,c),a===l&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,FI(t),kI(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,l,c)=>(s.handleError(l,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ti.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ti.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,l){const c=this._inner,g=c.scheduleEventTask("NgZoneEvent: "+l,n,xA,Ou,Ou);try{return c.runTask(g,s,a)}finally{c.cancelTask(g)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const xA={};function kI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function FI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function gT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mT(t){t._nesting--,kI(t)}class LA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ns,this.onMicrotaskEmpty=new ns,this.onStable=new ns,this.onError=new ns}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,l){return n.apply(s,a)}}let _T=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ti.assertNotInAngularZone(),xI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xI(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(Zt(Ti))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),yT=(()=>{class t{constructor(){this._applications=new Map,LI.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return LI.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class VA{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function UA(t){LI=t}let LI=new VA,vT=!0,CT=!1;function VI(){return CT=!0,vT}function BA(){if(CT)throw new Error("Cannot enable prod mode after platform setup.");vT=!1}let Ys;const ET=new Ht("AllowMultipleToken");class ZA{constructor(n,s){this.name=n,this.token=s}}function bT(t,n,s=[]){const a=`Platform: ${n}`,l=new Ht(a);return(c=[])=>{let g=wT();if(!g||g.injector.get(ET,!1))if(t)t(s.concat(c).concat({provide:l,useValue:!0}));else{const m=s.concat(c).concat({provide:l,useValue:!0},{provide:yd,useValue:"platform"});!function(t){if(Ys&&!Ys.destroyed&&!Ys.injector.get(ET,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ys=t.get(IT);const n=t.get(uT,null);n&&n.forEach(s=>s())}(Nt.create({providers:m,name:a}))}return function(t){const n=wT();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(l)}}function wT(){return Ys&&!Ys.destroyed?Ys:null}let IT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const m=function(t,n){let s;return s="noop"===t?new LA:("zone.js"===t?void 0:t)||new Ti({enableLongStackTrace:VI(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:Ti,useValue:m}];return m.run(()=>{const b=Nt.create({providers:C,parent:this.injector,name:s.moduleType.name}),w=s.create(b),A=w.injector.get(v,null);if(!A)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const R=m.onError.subscribe({next:F=>{A.handleError(F)}});w.onDestroy(()=>{UI(this._modules,w),R.unsubscribe()})}),function(t,n,s){try{const a=s();return Vn(a)?a.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(A,m,()=>{const R=w.injector.get(Rp);return R.runInitializers(),R.donePromise.then(()=>(Su(w.injector.get(LE,Au)||Au),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,a=[]){const l=DT({},a);return function(t,n,s){const a=new M_(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,l))}_moduleDoBootstrap(s){const a=s.injector.get(F_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${Z(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Zt(Nt))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function DT(t,n){return Array.isArray(n)?n.reduce(DT,t):Object.assign(Object.assign({},t),n)}let F_=(()=>{class t{constructor(s,a,l,c,g){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=c,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new U.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),C=new U.y(b=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Ti.assertNotInAngularZone(),xI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Ti.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{w.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ee.T)(m,C.pipe((0,ue.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=s instanceof lp?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const c=function(t){return t.isBoundToModule}(l)?void 0:this._injector.get(rl),m=l.create(Nt.NULL,[],a||l.selector,c),C=m.location.nativeElement,b=m.injector.get(_T,null),w=b&&m.injector.get(yT);return b&&w&&w.registerApplication(C,b),m.onDestroy(()=>{this.detachView(m.hostView),UI(this.components,m),w&&w.unregisterApplication(C)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;UI(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(dT,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Zt(Ti),Zt(Nt),Zt(v),Zt(Xa),Zt(Rp))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function UI(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class XA{}class tS{}const nS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let rS=(()=>{class t{constructor(s,a){this._compiler=s,this._config=a||nS}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[a,l]=s.split("#");return void 0===l&&(l="default"),N(8255)(a).then(c=>c[l]).then(c=>RT(c,a,l)).then(c=>this._compiler.compileModuleAsync(c))}loadFactory(s){let[a,l]=s.split("#"),c="NgFactory";return void 0===l&&(l="default",c=""),N(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(g=>g[l+c]).then(g=>RT(g,a,l))}}return t.\u0275fac=function(s){return new(s||t)(Zt(k_),Zt(tS,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function RT(t,n,s){if(!t)throw new Error(`Cannot find '${s}' in '${n}'`);return t}const dS=function(t){return null},fS=bT(null,"core",[{provide:cT,useValue:"unknown"},{provide:IT,deps:[Nt]},{provide:yT,deps:[]},{provide:hT,deps:[]}]),yS=[{provide:F_,useClass:F_,deps:[Ti,Nt,v,Xa,Rp]},{provide:_E,deps:[Ti],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:Rp,useClass:Rp,deps:[[new Hr,NI]]},{provide:k_,useClass:k_,deps:[]},wA,{provide:Fu,useFactory:function(){return bw},deps:[]},{provide:pp,useFactory:function(){return KC},deps:[]},{provide:LE,useFactory:function(t){return Su(t=t||"undefined"!=typeof $localize&&$localize.locale||Au),t},deps:[[new Wi(LE),new Hr,new hi]]},{provide:fT,useValue:"USD"}];let CS=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Zt(F_))},t.\u0275mod=to({type:t}),t.\u0275inj=Qt({providers:yS}),t})()},8939:(Oe,ye,N)=>{"use strict";N.d(ye,{hO:()=>j,xv:()=>$,Dh:()=>Z,GT:()=>z,on:()=>P,pX:()=>ue});var d=N(7716),te=N(7841),U=N(9126);Oe=N.hmd(Oe);const ee=["ngOnDestroy"],ue=(W,re,ne,Ce={})=>new Proxy(W,{get:(ce,_e)=>ne.runOutsideAngular(()=>{var be;if(W[_e])return(null===(be=null==Ce?void 0:Ce.spy)||void 0===be?void 0:be.get)&&Ce.spy.get(_e,W[_e]),W[_e];if(ee.indexOf(_e)>-1)return()=>{};const De=re.toPromise().then(Me=>{const st=Me&&Me[_e];return"function"==typeof st?st.bind(Me):st&&st.then?st.then(le=>ne.run(()=>le)):ne.run(()=>st)});return new Proxy(()=>{},{get:(Me,st)=>De[st],apply:(Me,st,le)=>De.then(vt=>{var et;const oe=vt&&vt(...le);return(null===(et=null==Ce?void 0:Ce.spy)||void 0===et?void 0:et.apply)&&Ce.spy.apply(_e,le,oe),oe})})})}),z=(W,re)=>{re.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(Ce=>{Object.defineProperty(W.prototype,Ce,Object.getOwnPropertyDescriptor(ne.prototype||ne,Ce))})})};class pe{constructor(re){return re}}const Z=new d.OlP("angularfire2.app.options"),$=new d.OlP("angularfire2.app.name");function P(W,re,ne){const ce="object"==typeof ne&&ne||{};ce.name=ce.name||"string"==typeof ne&&ne||"[DEFAULT]";const be=te.Z.apps.filter(De=>De&&De.name===ce.name)[0]||re.runOutsideAngular(()=>te.Z.initializeApp(W,ce));try{JSON.stringify(W)!==JSON.stringify(be.options)&&B("error",`${be.name} Firebase App already initialized with different options${Oe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(De){}return new pe(be)}const B=(W,...re)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[W](...re)},O={provide:pe,useFactory:P,deps:[Z,d.R0b,[new d.FiY,$]]};let j=(()=>{class W{constructor(ne){te.Z.registerVersion("angularfire",U.q4.full,"core"),te.Z.registerVersion("angularfire",U.q4.full,"app-compat"),te.Z.registerVersion("angular",d.q4F.full,ne.toString())}static initializeApp(ne,Ce){return{ngModule:W,providers:[{provide:Z,useValue:ne},{provide:$,useValue:Ce}]}}}return W.\u0275fac=function(ne){return new(ne||W)(d.LFG(d.Lbi))},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({providers:[O]}),W})()},9126:(Oe,ye,N)=>{"use strict";N.d(ye,{q4:()=>P,iC:()=>oe,HU:()=>De,cc:()=>j});var d=N(7716);(0,N(5452).registerVersion)("firebase","9.0.1","app");var ue=N(7771),z=N(3637),pe=N(3342),Z=N(3101),$=N(309);Oe=N.hmd(Oe);const P=new d.GfV("7.0.3"),B=!!Oe.hot,O=(ae,...q)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ae](...q)};function j(ae,q,Ae,Le,ut){const[,ke,Be]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===ae)||[];if(ke)return function(ae,q){try{return ae.toString()===q.toString()}catch(Ae){return ae===q}}(ut,Be)||(O("error",`${q} was already initialized on the ${Ae} Firebase App with different settings.${B?" You may need to reload as Firebase is not HMR aware.":""}`),O("warn",{is:ut,was:Be})),ke;{const Ge=Le();return globalThis.\u0275AngularfireInstanceCache.push([ae,Ge,ut]),Ge}}function ce(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class _e{constructor(q,Ae=ue.N){this.zone=q,this.delegate=Ae}now(){return this.delegate.now()}schedule(q,Ae,Le){const ut=this.zone;return this.delegate.schedule(function(Be){ut.runGuarded(()=>{q.apply(this,[Be])})},Ae,Le)}}class be{constructor(q){this.zone=q,this.task=null}call(q,Ae){const Le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ce,{},ce,ce)),Ae.pipe((0,pe.b)({next:Le,complete:Le,error:Le})).subscribe(q).add(Le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let De=(()=>{class ae{constructor(Ae){this.ngZone=Ae,this.outsideAngular=Ae.runOutsideAngular(()=>new _e(Zone.current)),this.insideAngular=Ae.run(()=>new _e(Zone.current,z.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ae.\u0275fac=function(Ae){return new(Ae||ae)(d.LFG(d.R0b))},ae.\u0275prov=d.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})();function Me(){const ae=globalThis.\u0275AngularFireScheduler;if(!ae)throw new Error("AngularFireModule has not been provided");return ae}function oe(ae){return Me(),function(ae){return function(Ae){return(Ae=Ae.lift(new be(ae.ngZone))).pipe((0,Z.R)(ae.outsideAngular),(0,$.QV)(ae.insideAngular))}}(Me())(ae)}},4486:(Oe,ye,N)=>{"use strict";N.d(ye,{Z:()=>ne});var d=N(4685),te=N(6034),U=N(5452),ee=N(300);class ue{constructor(ce,_e){this._delegate=ce,this.firebase=_e,(0,U._addComponent)(ce,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ce,_e=U._DEFAULT_ENTRY_NAME){var be;this._delegate.checkDestroyed();const De=this._delegate.container.getProvider(ce);return!De.isInitialized()&&"EXPLICIT"===(null===(be=De.getComponent())||void 0===be?void 0:be.instantiationMode)&&De.initialize(),De.getImmediate({identifier:_e})}_removeServiceInstance(ce,_e=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(_e)}_addComponent(ce){(0,U._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,U._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function $(){const Ce=function(Ce){const ce={},_e={__esModule:!0,initializeApp:function(et,oe={}){const X=U.initializeApp(et,oe);if((0,d.r3)(ce,X.name))return ce[X.name];const ge=new Ce(X,_e);return ce[X.name]=ge,ge},app:De,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(et){const oe=et.name,X=oe.replace("-compat","");if(U._registerComponent(et)&&"PUBLIC"===et.type){const ge=(de=De())=>{if("function"!=typeof de[X])throw pe.create("invalid-app-argument",{appName:oe});return de[X]()};void 0!==et.serviceProps&&(0,d.ZB)(ge,et.serviceProps),_e[X]=ge,Ce.prototype[X]=function(...de){return this._getService.bind(this,oe).apply(this,et.multipleInstances?de:[])}}return"PUBLIC"===et.type?_e[X]:null},removeApp:function(et){delete ce[et]},useAsService:function(et,oe){return"serverAuth"===oe?null:oe},modularAPIs:U}};function De(et){if(!(0,d.r3)(ce,et=et||U._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:et});return ce[et]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(ce).map(et=>ce[et])}}),De.App=Ce,_e}(ue);return Ce.INTERNAL=Object.assign(Object.assign({},Ce.INTERNAL),{createFirebaseNamespace:$,extendNamespace:function(_e){(0,d.ZB)(Ce,_e)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ce}(),B=new ee.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ce=self.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const re=P;(0,U.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ne=re},5452:(Oe,ye,N)=>{"use strict";N.r(ye),N.d(ye,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Js,_DEFAULT_ENTRY_NAME:()=>ut,_addComponent:()=>rn,_addOrOverwriteComponent:()=>ti,_apps:()=>Be,_clearComponents:()=>Qt,_components:()=>Ge,_getProvider:()=>Qe,_registerComponent:()=>Pt,_removeServiceInstance:()=>ni,deleteApp:()=>Si,getApp:()=>wr,getApps:()=>Ai,initializeApp:()=>Xs,onLog:()=>vn,registerVersion:()=>Fe,setLogLevel:()=>ri});var d=N(8239),te=N(6034),U=N(300),ee=N(4685);class ue{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(mt=>{if(function(it){const $e=it.getComponent();return"VERSION"===(null==$e?void 0:$e.type)}(mt)){const pt=mt.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(mt=>mt).join(" ")}}const pe="@firebase/app",$=new U.Yd("@firebase/app"),ut="[DEFAULT]",ke={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Be=new Map,Ge=new Map;function rn(it,$e){try{it.container.addComponent($e)}catch(mt){$.debug(`Component ${$e.name} failed to register with FirebaseApp ${it.name}`,mt)}}function ti(it,$e){it.container.addOrOverwriteComponent($e)}function Pt(it){const $e=it.name;if(Ge.has($e))return $.debug(`There were multiple attempts to register component ${$e}.`),!1;Ge.set($e,it);for(const mt of Be.values())rn(mt,it);return!0}function Qe(it,$e){return it.container.getProvider($e)}function ni(it,$e,mt=ut){Qe(it,$e).clearInstance(mt)}function Qt(){Ge.clear()}const yn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class is{constructor($e,mt,pt){this._isDeleted=!1,this._options=Object.assign({},$e),this._config=Object.assign({},mt),this._name=mt.name,this._automaticDataCollectionEnabled=mt.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this.checkDestroyed(),this._automaticDataCollectionEnabled=$e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($e){this._isDeleted=$e}checkDestroyed(){if(this.isDeleted)throw yn.create("app-deleted",{appName:this._name})}}const Js="9.0.0";function Xs(it,$e={}){"object"!=typeof $e&&($e={name:$e});const mt=Object.assign({name:ut,automaticDataCollectionEnabled:!1},$e),pt=mt.name;if("string"!=typeof pt||!pt)throw yn.create("bad-app-name",{appName:String(pt)});const Cn=Be.get(pt);if(Cn){if((0,ee.vZ)(it,Cn.options)&&(0,ee.vZ)(mt,Cn.config))return Cn;throw yn.create("duplicate-app",{appName:pt})}const Mt=new te.H0(pt);for(const je of Ge.values())Mt.addComponent(je);const Te=new is(it,mt,Mt);return Be.set(pt,Te),Te}function wr(it=ut){const $e=Be.get(it);if(!$e)throw yn.create("no-app",{appName:it});return $e}function Ai(){return Array.from(Be.values())}function Si(it){return ss.apply(this,arguments)}function ss(){return(ss=(0,d.Z)(function*(it){const $e=it.name;Be.has($e)&&(Be.delete($e),yield Promise.all(it.container.getProviders().map(mt=>mt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Fe(it,$e,mt){var pt;let Cn=null!==(pt=ke[it])&&void 0!==pt?pt:it;mt&&(Cn+=`-${mt}`);const Mt=Cn.match(/\s|\//),Te=$e.match(/\s|\//);if(Mt||Te){const je=[`Unable to register library "${Cn}" with version "${$e}":`];return Mt&&je.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),Mt&&Te&&je.push("and"),Te&&je.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),void $.warn(je.join(" "))}Pt(new te.wA(`${Cn}-version`,()=>({library:Cn,version:$e}),"VERSION"))}function vn(it,$e){if(null!==it&&"function"!=typeof it)throw yn.create("invalid-log-argument");(0,U.Am)(it,$e)}function ri(it){(0,U.Ub)(it)}Pt(new te.wA("platform-logger",$e=>new ue($e),"PRIVATE")),Fe(pe,"0.7.0",undefined),Fe("fire-js","")},6034:(Oe,ye,N)=>{"use strict";N.d(ye,{wA:()=>U,H0:()=>Z,zt:()=>ue});var d=N(4762),te=N(4685),U=function(){function $(P,B,O){this.name=P,this.instanceFactory=B,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $.prototype.setInstantiationMode=function(P){return this.instantiationMode=P,this},$.prototype.setMultipleInstances=function(P){return this.multipleInstances=P,this},$.prototype.setServiceProps=function(P){return this.serviceProps=P,this},$.prototype.setInstanceCreatedCallback=function(P){return this.onInstanceCreated=P,this},$}(),ee="[DEFAULT]",ue=function(){function $(P,B){this.name=P,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $.prototype.get=function(P){var B=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(B)){var O=new te.BH;if(this.instancesDeferred.set(B,O),this.isInitialized(B)||this.shouldAutoInitialize())try{var j=this.getOrInitializeService({instanceIdentifier:B});j&&O.resolve(j)}catch(W){}}return this.instancesDeferred.get(B).promise},$.prototype.getImmediate=function(P){var B,O=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),j=null!==(B=null==P?void 0:P.optional)&&void 0!==B&&B;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(j)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(W){if(j)return null;throw W}},$.prototype.getComponent=function(){return this.component},$.prototype.setComponent=function(P){var B,O;if(P.name!==this.name)throw Error("Mismatching Component "+P.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=P,this.shouldAutoInitialize()){if(function($){return"EAGER"===$.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(be){}try{for(var j=(0,d.XA)(this.instancesDeferred.entries()),W=j.next();!W.done;W=j.next()){var re=(0,d.CR)(W.value,2),Ce=re[1],ce=this.normalizeInstanceIdentifier(re[0]);try{var _e=this.getOrInitializeService({instanceIdentifier:ce});Ce.resolve(_e)}catch(be){}}}catch(be){B={error:be}}finally{try{W&&!W.done&&(O=j.return)&&O.call(j)}finally{if(B)throw B.error}}}},$.prototype.clearInstance=function(P){void 0===P&&(P=ee),this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)},$.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var P;return(0,d.Jh)(this,function(B){switch(B.label){case 0:return P=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(P.filter(function(O){return"INTERNAL"in O}).map(function(O){return O.INTERNAL.delete()}))),(0,d.CR)(P.filter(function(O){return"_delete"in O}).map(function(O){return O._delete()}))))];case 1:return B.sent(),[2]}})})},$.prototype.isComponentSet=function(){return null!=this.component},$.prototype.isInitialized=function(P){return void 0===P&&(P=ee),this.instances.has(P)},$.prototype.getOptions=function(P){return void 0===P&&(P=ee),this.instancesOptions.get(P)||{}},$.prototype.initialize=function(P){var B,O;void 0===P&&(P={});var j=P.options,W=void 0===j?{}:j,re=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(re))throw Error(this.name+"("+re+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ne=this.getOrInitializeService({instanceIdentifier:re,options:W});try{for(var Ce=(0,d.XA)(this.instancesDeferred.entries()),ce=Ce.next();!ce.done;ce=Ce.next()){var _e=(0,d.CR)(ce.value,2),De=_e[1];re===this.normalizeInstanceIdentifier(_e[0])&&De.resolve(ne)}}catch(st){B={error:st}}finally{try{ce&&!ce.done&&(O=Ce.return)&&O.call(Ce)}finally{if(B)throw B.error}}return ne},$.prototype.onInit=function(P,B){var O,j=this.normalizeInstanceIdentifier(B),W=null!==(O=this.onInitCallbacks.get(j))&&void 0!==O?O:new Set;W.add(P),this.onInitCallbacks.set(j,W);var re=this.instances.get(j);return re&&P(re,j),function(){W.delete(P)}},$.prototype.invokeOnInitCallbacks=function(P,B){var O,j,W=this.onInitCallbacks.get(B);if(W)try{for(var re=(0,d.XA)(W),ne=re.next();!ne.done;ne=re.next()){var Ce=ne.value;try{Ce(P,B)}catch(ce){}}}catch(ce){O={error:ce}}finally{try{ne&&!ne.done&&(j=re.return)&&j.call(re)}finally{if(O)throw O.error}}},$.prototype.getOrInitializeService=function(P){var B=P.instanceIdentifier,O=P.options,j=void 0===O?{}:O,W=this.instances.get(B);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:z(B),options:j}),this.instances.set(B,W),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(W,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,W)}catch(re){}return W||null},$.prototype.normalizeInstanceIdentifier=function(P){return void 0===P&&(P=ee),this.component?this.component.multipleInstances?P:ee:P},$.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},$}();function z($){return $===ee?void 0:$}var Z=function(){function $(P){this.name=P,this.providers=new Map}return $.prototype.addComponent=function(P){var B=this.getProvider(P.name);if(B.isComponentSet())throw new Error("Component "+P.name+" has already been registered with "+this.name);B.setComponent(P)},$.prototype.addOrOverwriteComponent=function(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)},$.prototype.getProvider=function(P){if(this.providers.has(P))return this.providers.get(P);var B=new ue(P,this);return this.providers.set(P,B),B},$.prototype.getProviders=function(){return Array.from(this.providers.values())},$}()},300:(Oe,ye,N)=>{"use strict";function d(){for(var O=0,j=0,W=arguments.length;j<W;j++)O+=arguments[j].length;var re=Array(O),ne=0;for(j=0;j<W;j++)for(var Ce=arguments[j],ce=0,_e=Ce.length;ce<_e;ce++,ne++)re[ne]=Ce[ce];return re}N.d(ye,{in:()=>ee,Yd:()=>$,Ub:()=>P,Am:()=>B});var te,U=[],ee=(()=>{return(O=ee||(ee={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",ee;var O})(),ue={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},z=ee.INFO,pe=((te={})[ee.DEBUG]="log",te[ee.VERBOSE]="log",te[ee.INFO]="info",te[ee.WARN]="warn",te[ee.ERROR]="error",te),Z=function(O,j){for(var W=[],re=2;re<arguments.length;re++)W[re-2]=arguments[re];if(!(j<O.logLevel)){var ne=(new Date).toISOString(),Ce=pe[j];if(!Ce)throw new Error("Attempted to log a message with an invalid logType (value: "+j+")");console[Ce].apply(console,d(["["+ne+"]  "+O.name+":"],W))}},$=function(){function O(j){this.name=j,this._logLevel=z,this._logHandler=Z,this._userLogHandler=null,U.push(this)}return Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(j){if(!(j in ee))throw new TypeError('Invalid value "'+j+'" assigned to `logLevel`');this._logLevel=j},enumerable:!1,configurable:!0}),O.prototype.setLogLevel=function(j){this._logLevel="string"==typeof j?ue[j]:j},Object.defineProperty(O.prototype,"logHandler",{get:function(){return this._logHandler},set:function(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(j){this._userLogHandler=j},enumerable:!1,configurable:!0}),O.prototype.debug=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.DEBUG],j)),this._logHandler.apply(this,d([this,ee.DEBUG],j))},O.prototype.log=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.VERBOSE],j)),this._logHandler.apply(this,d([this,ee.VERBOSE],j))},O.prototype.info=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.INFO],j)),this._logHandler.apply(this,d([this,ee.INFO],j))},O.prototype.warn=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.WARN],j)),this._logHandler.apply(this,d([this,ee.WARN],j))},O.prototype.error=function(){for(var j=[],W=0;W<arguments.length;W++)j[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.ERROR],j)),this._logHandler.apply(this,d([this,ee.ERROR],j))},O}();function P(O){U.forEach(function(j){j.setLogLevel(O)})}function B(O,j){for(var W=function(ce){var _e=null;j&&j.level&&(_e=ue[j.level]),ce.userLogHandler=null===O?null:function(be,De){for(var Me=[],st=2;st<arguments.length;st++)Me[st-2]=arguments[st];var le=Me.map(function(vt){if(null==vt)return null;if("string"==typeof vt)return vt;if("number"==typeof vt||"boolean"==typeof vt)return vt.toString();if(vt instanceof Error)return vt.message;try{return JSON.stringify(vt)}catch(et){return null}}).filter(function(vt){return vt}).join(" ");De>=(null!=_e?_e:be.logLevel)&&O({level:ee[De].toLowerCase(),message:le,args:Me,type:be.name})}},re=0,ne=U;re<ne.length;re++)W(ne[re])}},4685:(Oe,ye,N)=>{"use strict";N.d(ye,{BH:()=>W,LL:()=>Ae,ZR:()=>q,gQ:()=>Si,hu:()=>U,g5:()=>ee,US:()=>pe,tV:()=>P,h$:()=>Z,r3:()=>ni,Sg:()=>re,ne:()=>ss,p$:()=>B,vZ:()=>is,ZB:()=>O,gK:()=>$e,pd:()=>Ai,m9:()=>St,z$:()=>ne,GJ:()=>Qe,jU:()=>_e,ru:()=>be,xb:()=>_n,w1:()=>st,hl:()=>oe,uI:()=>Ce,UG:()=>ce,Yr:()=>vt,b$:()=>De,w9:()=>Pt,cI:()=>ke,UI:()=>yn,xO:()=>Xs,zd:()=>wr,DV:()=>Qt,ug:()=>Te,dS:()=>Mt,Pz:()=>Be,Dv:()=>it,Wj:()=>pt,lb:()=>Cn});var d=N(4762),U=function(L,k){if(!L)throw ee(k)},ee=function(L){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+L)},ue=function(L){for(var k=[],K=0,ie=0;ie<L.length;ie++){var Y=L.charCodeAt(ie);Y<128?k[K++]=Y:Y<2048?(k[K++]=Y>>6|192,k[K++]=63&Y|128):55296==(64512&Y)&&ie+1<L.length&&56320==(64512&L.charCodeAt(ie+1))?(Y=65536+((1023&Y)<<10)+(1023&L.charCodeAt(++ie)),k[K++]=Y>>18|240,k[K++]=Y>>12&63|128,k[K++]=Y>>6&63|128,k[K++]=63&Y|128):(k[K++]=Y>>12|224,k[K++]=Y>>6&63|128,k[K++]=63&Y|128)}return k},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(L,k){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var K=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[],Y=0;Y<L.length;Y+=3){var Ie=L[Y],Pe=Y+1<L.length,_t=Pe?L[Y+1]:0,Ct=Y+2<L.length,ot=Ct?L[Y+2]:0,Pn=(15&_t)<<2|ot>>6,ii=63&ot;Ct||(ii=64,Pe||(Pn=64)),ie.push(K[Ie>>2],K[(3&Ie)<<4|_t>>4],K[Pn],K[ii])}return ie.join("")},encodeString:function(L,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(L):this.encodeByteArray(ue(L),k)},decodeString:function(L,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(L):function(L){for(var k=[],K=0,ie=0;K<L.length;){var Y=L[K++];if(Y<128)k[ie++]=String.fromCharCode(Y);else if(Y>191&&Y<224){var Ie=L[K++];k[ie++]=String.fromCharCode((31&Y)<<6|63&Ie)}else if(Y>239&&Y<365){var Ct=((7&Y)<<18|(63&(Ie=L[K++]))<<12|(63&(Pe=L[K++]))<<6|63&L[K++])-65536;k[ie++]=String.fromCharCode(55296+(Ct>>10)),k[ie++]=String.fromCharCode(56320+(1023&Ct))}else{Ie=L[K++];var Pe=L[K++];k[ie++]=String.fromCharCode((15&Y)<<12|(63&Ie)<<6|63&Pe)}}return k.join("")}(this.decodeStringToByteArray(L,k))},decodeStringToByteArray:function(L,k){this.init_();for(var K=k?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[],Y=0;Y<L.length;){var Ie=K[L.charAt(Y++)],_t=Y<L.length?K[L.charAt(Y)]:0,ot=++Y<L.length?K[L.charAt(Y)]:64,Nn=++Y<L.length?K[L.charAt(Y)]:64;if(++Y,null==Ie||null==_t||null==ot||null==Nn)throw Error();ie.push(Ie<<2|_t>>4),64!==ot&&(ie.push(_t<<4&240|ot>>2),64!==Nn&&ie.push(ot<<6&192|Nn))}return ie},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}},Z=function(L){var k=ue(L);return pe.encodeByteArray(k,!0)},$=function(L){return Z(L).replace(/\./g,"")},P=function(L){try{return pe.decodeString(L,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function B(L){return O(void 0,L)}function O(L,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return k}for(var ie in k)!k.hasOwnProperty(ie)||!j(ie)||(L[ie]=O(L[ie],k[ie]));return L}function j(L){return"__proto__"!==L}var W=function(){function L(){var k=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(K,ie){k.resolve=K,k.reject=ie})}return L.prototype.wrapCallback=function(k){var K=this;return function(ie,Y){ie?K.reject(ie):K.resolve(Y),"function"==typeof k&&(K.promise.catch(function(){}),1===k.length?k(ie):k(ie,Y))}},L}();function re(L,k){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ie=k||"demo-project",Y=L.iat||0,Ie=L.sub||L.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Pe=(0,d.pi)({iss:"https://securetoken.google.com/"+ie,aud:ie,iat:Y,exp:Y+3600,auth_time:Y,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},L);return[$(JSON.stringify({alg:"none",type:"JWT"})),$(JSON.stringify(Pe)),""].join(".")}function ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(L){return!1}}function _e(){return"object"==typeof self&&self.self===self}function be(){var L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){var L=ne();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function vt(){return!1}function oe(){return"indexedDB"in self&&null!=indexedDB}var q=function(L){function k(K,ie,Y){var Ie=L.call(this,ie)||this;return Ie.code=K,Ie.customData=Y,Ie.name="FirebaseError",Object.setPrototypeOf(Ie,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ie,Ae.prototype.create),Ie}return(0,d.ZT)(k,L),k}(Error),Ae=function(){function L(k,K,ie){this.service=k,this.serviceName=K,this.errors=ie}return L.prototype.create=function(k){for(var K=[],ie=1;ie<arguments.length;ie++)K[ie-1]=arguments[ie];var Y=K[0]||{},Ie=this.service+"/"+k,Pe=this.errors[k],_t=Pe?Le(Pe,Y):"Error",Ct=this.serviceName+": "+_t+" ("+Ie+").",ot=new q(Ie,Ct,Y);return ot},L}();function Le(L,k){return L.replace(ut,function(K,ie){var Y=k[ie];return null!=Y?String(Y):"<"+ie+"?>"})}var ut=/\{\$([^}]+)}/g;function ke(L){return JSON.parse(L)}function Be(L){return JSON.stringify(L)}var Ge=function(L){var k={},K={},ie={},Y="";try{var Ie=L.split(".");k=ke(P(Ie[0])||""),K=ke(P(Ie[1])||""),Y=Ie[2],ie=K.d||{},delete K.d}catch(Pe){}return{header:k,claims:K,data:ie,signature:Y}},Pt=function(L){var K=Ge(L).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},Qe=function(L){var k=Ge(L).claims;return"object"==typeof k&&!0===k.admin};function ni(L,k){return Object.prototype.hasOwnProperty.call(L,k)}function Qt(L,k){if(Object.prototype.hasOwnProperty.call(L,k))return L[k]}function _n(L){for(var k in L)if(Object.prototype.hasOwnProperty.call(L,k))return!1;return!0}function yn(L,k,K){var ie={};for(var Y in L)Object.prototype.hasOwnProperty.call(L,Y)&&(ie[Y]=k.call(K,L[Y],Y,L));return ie}function is(L,k){if(L===k)return!0;for(var K=Object.keys(L),ie=Object.keys(k),Y=0,Ie=K;Y<Ie.length;Y++){if(!ie.includes(Pe=Ie[Y]))return!1;var _t=L[Pe],Ct=k[Pe];if(Js(_t)&&Js(Ct)){if(!is(_t,Ct))return!1}else if(_t!==Ct)return!1}for(var ot=0,Jt=ie;ot<Jt.length;ot++){var Pe;if(!K.includes(Pe=Jt[ot]))return!1}return!0}function Js(L){return null!==L&&"object"==typeof L}function Xs(L){for(var k=[],K=function(Ct,ot){Array.isArray(ot)?ot.forEach(function(Jt){k.push(encodeURIComponent(Ct)+"="+encodeURIComponent(Jt))}):k.push(encodeURIComponent(Ct)+"="+encodeURIComponent(ot))},ie=0,Y=Object.entries(L);ie<Y.length;ie++){var Ie=Y[ie];K(Ie[0],Ie[1])}return k.length?"&"+k.join("&"):""}function wr(L){var k={};return L.replace(/^\?/,"").split("&").forEach(function(ie){if(ie){var Y=ie.split("="),Pe=Y[1];k[decodeURIComponent(Y[0])]=decodeURIComponent(Pe)}}),k}function Ai(L){var k=L.indexOf("?");if(!k)return"";var K=L.indexOf("#",k);return L.substring(k,K>0?K:void 0)}var Si=function(){function L(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var k=1;k<this.blockSize;++k)this.pad_[k]=0;this.reset()}return L.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},L.prototype.compress_=function(k,K){K||(K=0);var ie=this.W_;if("string"==typeof k)for(var Y=0;Y<16;Y++)ie[Y]=k.charCodeAt(K)<<24|k.charCodeAt(K+1)<<16|k.charCodeAt(K+2)<<8|k.charCodeAt(K+3),K+=4;else for(Y=0;Y<16;Y++)ie[Y]=k[K]<<24|k[K+1]<<16|k[K+2]<<8|k[K+3],K+=4;for(Y=16;Y<80;Y++)ie[Y]=4294967295&((Ie=ie[Y-3]^ie[Y-8]^ie[Y-14]^ie[Y-16])<<1|Ie>>>31);var Nn,Pn,Pe=this.chain_[0],_t=this.chain_[1],Ct=this.chain_[2],ot=this.chain_[3],Jt=this.chain_[4];for(Y=0;Y<80;Y++){Y<40?Y<20?(Nn=ot^_t&(Ct^ot),Pn=1518500249):(Nn=_t^Ct^ot,Pn=1859775393):Y<60?(Nn=_t&Ct|ot&(_t|Ct),Pn=2400959708):(Nn=_t^Ct^ot,Pn=3395469782);var Ie=(Pe<<5|Pe>>>27)+Nn+Jt+Pn+ie[Y]&4294967295;Jt=ot,ot=Ct,Ct=4294967295&(_t<<30|_t>>>2),_t=Pe,Pe=Ie}this.chain_[0]=this.chain_[0]+Pe&4294967295,this.chain_[1]=this.chain_[1]+_t&4294967295,this.chain_[2]=this.chain_[2]+Ct&4294967295,this.chain_[3]=this.chain_[3]+ot&4294967295,this.chain_[4]=this.chain_[4]+Jt&4294967295},L.prototype.update=function(k,K){if(null!=k){void 0===K&&(K=k.length);for(var ie=K-this.blockSize,Y=0,Ie=this.buf_,Pe=this.inbuf_;Y<K;){if(0===Pe)for(;Y<=ie;)this.compress_(k,Y),Y+=this.blockSize;if("string"==typeof k){for(;Y<K;)if(Ie[Pe]=k.charCodeAt(Y),++Y,++Pe===this.blockSize){this.compress_(Ie),Pe=0;break}}else for(;Y<K;)if(Ie[Pe]=k[Y],++Y,++Pe===this.blockSize){this.compress_(Ie),Pe=0;break}}this.inbuf_=Pe,this.total_+=K}},L.prototype.digest=function(){var k=[],K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&K,K/=256;this.compress_(this.buf_);var Y=0;for(ie=0;ie<5;ie++)for(var Ie=24;Ie>=0;Ie-=8)k[Y]=this.chain_[ie]>>Ie&255,++Y;return k},L}();function ss(L,k){var K=new Fe(L,k);return K.subscribe.bind(K)}var Fe=function(){function L(k,K){var ie=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(function(){k(ie)}).catch(function(Y){ie.error(Y)})}return L.prototype.next=function(k){this.forEachObserver(function(K){K.next(k)})},L.prototype.error=function(k){this.forEachObserver(function(K){K.error(k)}),this.close(k)},L.prototype.complete=function(){this.forEachObserver(function(k){k.complete()}),this.close()},L.prototype.subscribe=function(k,K,ie){var Ie,Y=this;if(void 0===k&&void 0===K&&void 0===ie)throw new Error("Missing Observer.");void 0===(Ie=function(L,k){if("object"!=typeof L||null===L)return!1;for(var K=0,ie=["next","error","complete"];K<ie.length;K++){var Y=ie[K];if(Y in L&&"function"==typeof L[Y])return!0}return!1}(k)?k:{next:k,error:K,complete:ie}).next&&(Ie.next=hn),void 0===Ie.error&&(Ie.error=hn),void 0===Ie.complete&&(Ie.complete=hn);var Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Y.finalError?Ie.error(Y.finalError):Ie.complete()}catch(_t){}}),this.observers.push(Ie),Pe},L.prototype.unsubscribeOne=function(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},L.prototype.forEachObserver=function(k){if(!this.finalized)for(var K=0;K<this.observers.length;K++)this.sendOne(K,k)},L.prototype.sendOne=function(k,K){var ie=this;this.task.then(function(){if(void 0!==ie.observers&&void 0!==ie.observers[k])try{K(ie.observers[k])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})},L.prototype.close=function(k){var K=this;this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(function(){K.observers=void 0,K.onNoObservers=void 0}))},L}();function hn(){}var it=function(L,k,K,ie){var Y;if(ie<k?Y="at least "+k:ie>K&&(Y=0===K?"none":"no more than "+K),Y)throw new Error(L+" failed: Was called with "+ie+(1===ie?" argument.":" arguments.")+" Expects "+Y+".")};function $e(L,k){return L+" failed: "+k+" argument "}function pt(L,k,K,ie){if((!ie||K)&&"function"!=typeof K)throw new Error($e(L,k)+"must be a valid function.")}function Cn(L,k,K,ie){if((!ie||K)&&("object"!=typeof K||null===K))throw new Error($e(L,k)+"must be a valid context object.")}var Mt=function(L){for(var k=[],K=0,ie=0;ie<L.length;ie++){var Y=L.charCodeAt(ie);if(Y>=55296&&Y<=56319){var Ie=Y-55296;ie++,U(ie<L.length,"Surrogate pair missing trail surrogate."),Y=65536+(Ie<<10)+(L.charCodeAt(ie)-56320)}Y<128?k[K++]=Y:Y<2048?(k[K++]=Y>>6|192,k[K++]=63&Y|128):Y<65536?(k[K++]=Y>>12|224,k[K++]=Y>>6&63|128,k[K++]=63&Y|128):(k[K++]=Y>>18|240,k[K++]=Y>>12&63|128,k[K++]=Y>>6&63|128,k[K++]=63&Y|128)}return k},Te=function(L){for(var k=0,K=0;K<L.length;K++){var ie=L.charCodeAt(K);ie<128?k++:ie<2048?k+=2:ie>=55296&&ie<=56319?(k+=4,K++):k+=3}return k};function St(L){return L&&L._delegate?L._delegate:L}},7841:(Oe,ye,N)=>{"use strict";N.d(ye,{Z:()=>d.Z});var d=N(4486);d.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(Oe,ye,N)=>{"use strict";N.r(ye);var d=N(8239),te=N(4486),U=N(4685),ee=N(5452),ue=N(4762),z=N(300),pe=N(6034);const re=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new z.Yd("@firebase/auth");function be(y,...h){_e.logLevel<=z.in.ERROR&&_e.error(`Auth (${ee.SDK_VERSION}): ${y}`,...h)}function De(y,...h){throw st(y,...h)}function Me(y,...h){return st(y,...h)}function st(y,...h){if("string"!=typeof y){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(p,...v)}return Ce.create(y,...h)}function le(y,h,...p){if(!y)throw st(h,...p)}function vt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw be(h),new Error(h)}function et(y,h){y||vt(h)}const oe=new Map;function X(y){et(y instanceof Function,"Expected a class definition");let h=oe.get(y);return h?(et(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,oe.set(y,h),h)}function ae(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function q(){return"http:"===Ae()||"https:"===Ae()}function Ae(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ke{constructor(h,p){this.shortDelay=h,this.longDelay=p,et(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(q()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Be(y,h){et(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Ge{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},ti=new ke(3e4,6e4);function Pt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function Qe(y,h,p,v){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(y,h,p,v,D={}){return Qt(y,D,()=>{let S={},G={};v&&("GET"===h?G=v:S={body:JSON.stringify(v)});const he=(0,U.xO)(Object.assign({key:y.config.apiKey},G)).slice(1),Se=new(Ge.headers());return Se.set("Content-Type","application/json"),Se.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Se.set("X-Firebase-Locale",y.languageCode),Ge.fetch()(Js(y,y.config.apiHost,p,he),Object.assign({method:h,headers:Se,referrerPolicy:"no-referrer"},S))})})).apply(this,arguments)}function Qt(y,h,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(y,h,p){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},rn),h);try{const D=new Xs(y),S=yield Promise.race([p(),D.promise]);D.clearNetworkTimeout();const G=yield S.json();if("needConfirmation"in G)throw wr(y,"account-exists-with-different-credential",G);if(S.ok&&!("errorMessage"in G))return G;{const Se=(S.ok?G.errorMessage:G.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Se)throw wr(y,"credential-already-in-use",G);if("EMAIL_EXISTS"===Se)throw wr(y,"email-already-in-use",G);De(y,v[Se]||Se.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(D){if(D instanceof U.ZR)throw D;De(y,"network-request-failed")}})).apply(this,arguments)}function yn(y,h,p,v){return is.apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(y,h,p,v,D={}){const S=yield Qe(y,h,p,v,D);return"mfaPendingCredential"in S&&De(y,"multi-factor-auth-required",{serverResponse:S}),S})).apply(this,arguments)}function Js(y,h,p,v){const D=`${h}${p}?${v}`;return y.config.emulator?Be(y.config,D):`${y.config.apiScheme}://${D}`}class Xs{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(Me(this.auth,"timeout")),ti.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(y,h,p){const v={appName:y.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const D=Me(y,h,v);return D.customData._tokenResponse=p,D}function Si(){return(Si=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function ss(y,h){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function vn(y,h){return ri.apply(this,arguments)}function ri(){return(ri=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function hn(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function mt(){return(mt=(0,d.Z)(function*(y,h=!1){const p=(0,U.m9)(y),v=yield p.getIdToken(h),D=Cn(v);le(D&&D.exp&&D.auth_time&&D.iat,p.auth,"internal-error");const S="object"==typeof D.firebase?D.firebase:void 0,G=null==S?void 0:S.sign_in_provider;return{claims:D,token:v,authTime:hn(pt(D.auth_time)),issuedAtTime:hn(pt(D.iat)),expirationTime:hn(pt(D.exp)),signInProvider:G||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function pt(y){return 1e3*Number(y)}function Cn(y){const[h,p,v]=y.split(".");if(void 0===h||void 0===p||void 0===v)return be("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,U.tV)(p);return D?JSON.parse(D):(be("Failed to decode base64 JWT payload"),null)}catch(D){return be("Caught error parsing JWT payload as JSON",D),null}}function Te(y,h){return je.apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof U.ZR&&Zu(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function Zu({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class eo{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const D=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class ur{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=hn(this.lastLoginAt),this.creationTime=hn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function It(y){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(y){var h;const p=y.auth,v=yield y.getIdToken(),D=yield Te(y,vn(p,{idToken:v}));le(null==D?void 0:D.users.length,p,"internal-error");const S=D.users[0];y._notifyReloadListener(S);const G=(null===(h=S.providerUserInfo)||void 0===h?void 0:h.length)?k(S.providerUserInfo):[],he=L(y.providerData,G),Ve=!!y.isAnonymous&&!(y.email&&S.passwordHash||(null==he?void 0:he.length)),He={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:he,metadata:new ur(S.createdAt,S.lastLoginAt),isAnonymous:Ve};Object.assign(y,He)})).apply(this,arguments)}function St(){return(St=(0,d.Z)(function*(y){const h=(0,U.m9)(y);yield It(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function L(y,h){return[...y.filter(v=>!h.some(D=>D.providerId===v.providerId)),...h]}function k(y){return y.map(h=>{var{providerId:p}=h,v=(0,ue._T)(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function ie(){return(ie=(0,d.Z)(function*(y,h){const p=yield Qt(y,{},()=>{const v=(0,U.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:D,apiKey:S}=y.config,G=Js(y,D,"/v1/token",`key=${S}`);return Ge.fetch()(G,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:v})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){le(h.idToken,"internal-error"),le(void 0!==h.idToken,"internal-error"),le(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(y){const h=Cn(y);return le(h,"internal-error"),le(void 0!==h.exp,"internal-error"),le(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,d.Z)(function*(){return le(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,d.Z)(function*(){const{accessToken:D,refreshToken:S,expiresIn:G}=yield function(y,h){return ie.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(D,S,Number(G))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:D,expirationTime:S}=p,G=new Y;return v&&(le("string"==typeof v,"internal-error",{appName:h}),G.refreshToken=v),D&&(le("string"==typeof D,"internal-error",{appName:h}),G.accessToken=D),S&&(le("number"==typeof S,"internal-error",{appName:h}),G.expirationTime=S),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return vt("not implemented")}}function Ie(y,h){le("string"==typeof y||void 0===y,"internal-error",{appName:h})}class Pe{constructor(h){var{uid:p,auth:v,stsTokenManager:D}=h,S=(0,ue._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new eo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.metadata=new ur(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,d.Z)(function*(){const v=yield Te(p,p.stsTokenManager.getToken(p.auth,h));return le(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function(y){return mt.apply(this,arguments)}(this,h)}reload(){return function(y){return St.apply(this,arguments)}(this)}_assign(h){this!==h&&(le(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Pe(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,d.Z)(function*(){let D=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),D=!0),p&&(yield It(v)),yield v.auth._persistUserIfCurrent(v),D&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,d.Z)(function*(){const p=yield h.getIdToken();return yield Te(h,function(y,h){return Si.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,D,S,G,he,Se,Ne,Ve;const He=null!==(v=p.displayName)&&void 0!==v?v:void 0,Et=null!==(D=p.email)&&void 0!==D?D:void 0,Fn=null!==(S=p.phoneNumber)&&void 0!==S?S:void 0,Ps=null!==(G=p.photoURL)&&void 0!==G?G:void 0,Cg=null!==(he=p.tenantId)&&void 0!==he?he:void 0,Kl=null!==(Se=p._redirectEventId)&&void 0!==Se?Se:void 0,Yc=null!==(Ne=p.createdAt)&&void 0!==Ne?Ne:void 0,df=null!==(Ve=p.lastLoginAt)&&void 0!==Ve?Ve:void 0,{uid:Kc,emailVerified:Os,isAnonymous:_r,providerData:hf,stsTokenManager:Eg}=p;le(Kc&&Eg,h,"internal-error");const Qc=Y.fromJSON(this.name,Eg);le("string"==typeof Kc,h,"internal-error"),Ie(He,h.name),Ie(Et,h.name),le("boolean"==typeof Os,h,"internal-error"),le("boolean"==typeof _r,h,"internal-error"),Ie(Fn,h.name),Ie(Ps,h.name),Ie(Cg,h.name),Ie(Kl,h.name),Ie(Yc,h.name),Ie(df,h.name);const ff=new Pe({uid:Kc,auth:h,email:Et,emailVerified:Os,displayName:He,isAnonymous:_r,photoURL:Ps,phoneNumber:Fn,tenantId:Cg,stsTokenManager:Qc,createdAt:Yc,lastLoginAt:df});return hf&&Array.isArray(hf)&&(ff.providerData=hf.map(Tn=>Object.assign({},Tn))),Kl&&(ff._redirectEventId=Kl),ff}static _fromIdTokenResponse(h,p,v=!1){return(0,d.Z)(function*(){const D=new Y;D.updateFromServerResponse(p);const S=new Pe({uid:p.localId,auth:h,stsTokenManager:D,isAnonymous:v});return yield It(S),S})()}}const Ct=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(p,v){var D=this;return(0,d.Z)(function*(){D.storage[p]=v})()}_get(p){var v=this;return(0,d.Z)(function*(){const D=v.storage[p];return void 0===D?null:D})()}_remove(p){var v=this;return(0,d.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return y.type="NONE",y})();function ot(y,h,p){return`firebase:${y}:${h}:${p}`}class Jt{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:D,name:S}=this.auth;this.fullUserKey=ot(this.userKey,D.apiKey,S),this.fullPersistenceKey=ot("persistence",D.apiKey,S),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Pe._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,d.Z)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,v="authUser"){return(0,d.Z)(function*(){if(!p.length)return new Jt(X(Ct),h,v);const D=(yield Promise.all(p.map(function(){var Ne=(0,d.Z)(function*(Ve){if(yield Ve._isAvailable())return Ve});return function(Ve){return Ne.apply(this,arguments)}}()))).filter(Ne=>Ne);let S=D[0]||X(Ct);const G=ot(v,h.config.apiKey,h.name);let he=null;for(const Ne of p)try{const Ve=yield Ne._get(G);if(Ve){const He=Pe._fromJSON(h,Ve);Ne!==S&&(he=He),S=Ne;break}}catch(Ve){}const Se=D.filter(Ne=>Ne._shouldAllowMigration);return S._shouldAllowMigration&&Se.length?(S=Se[0],he&&(yield S._set(G,he.toJSON())),yield Promise.all(p.map(function(){var Ne=(0,d.Z)(function*(Ve){if(Ve!==S)try{yield Ve._remove(G)}catch(He){}});return function(Ve){return Ne.apply(this,arguments)}}())),new Jt(S,h,v)):new Jt(S,h,v)})()}}function Nn(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(qu(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Pn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ul(h))return"Blackberry";if(Yu(h))return"Webos";if(ii(h))return"Safari";if((h.includes("chrome/")||to(h))&&!h.includes("edge/"))return"Chrome";if(no(h))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Pn(y=(0,U.z$)()){return/firefox\//i.test(y)}function ii(y=(0,U.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function to(y=(0,U.z$)()){return/crios\//i.test(y)}function qu(y=(0,U.z$)()){return/iemobile/i.test(y)}function no(y=(0,U.z$)()){return/android/i.test(y)}function ul(y=(0,U.z$)()){return/blackberry/i.test(y)}function Yu(y=(0,U.z$)()){return/webos/i.test(y)}function Xt(y=(0,U.z$)()){return/iphone|ipad|ipod/i.test(y)}function uh(y=(0,U.z$)()){return Xt(y)||no(y)||Yu(y)||ul(y)||/windows phone/i.test(y)||qu(y)}function Re(y,h=[]){let p;switch(y){case"Browser":p=Nn((0,U.z$)());break;case"Worker":p=`${Nn((0,U.z$)())}-${y}`;break;default:p=y}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ee.SDK_VERSION}/${v}`}class ct{constructor(h,p){this.app=h,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hn(this),this.idTokenSubscription=new Hn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=X(p)),this._initializationPromise=this.queue((0,d.Z)(function*(){var D;v._deleted||(v.persistenceManager=yield Jt.create(v,h),!v._deleted&&((null===(D=v._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)&&(yield v._popupRedirectResolver._initialize(v)),yield v.initializeCurrentUser(p),!v._deleted&&(v._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,d.Z)(function*(){var v;let D=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const S=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,G=null==D?void 0:D._redirectEventId,he=yield p.tryRedirectSignIn(h);(!S||S===G)&&(null==he?void 0:he.user)&&(D=he.user)}return D?D._redirectEventId?(le(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===D._redirectEventId?p.directlySetCurrentUser(D):p.reloadAndSetCurrentUserOrClear(D)):p.reloadAndSetCurrentUserOrClear(D):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,d.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(D){yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,d.Z)(function*(){try{yield It(h)}catch(v){if("auth/network-request-failed"!==v.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,d.Z)(function*(){const v=h?(0,U.m9)(h):null;return v&&le(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,d.Z)(function*(){if(!p._deleted)return h&&le(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,d.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,d.Z)(function*(){yield p.assertedPersistence.setPersistence(X(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new U.LL("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,d.Z)(function*(){const D=yield v.getOrInitRedirectPersistenceManager(p);return null===h?D.removeCurrentUser():D.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,d.Z)(function*(){if(!p.redirectPersistenceManager){const v=h&&X(h)||p._popupRedirectResolver;le(v,p,"argument-error"),p.redirectPersistenceManager=yield Jt.create(p,[X(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,d.Z)(function*(){var v,D;return p._isInitialized&&(yield p.queue((0,d.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,d.Z)(function*(){if(h===p.currentUser)return p.queue((0,d.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,D){if(this._deleted)return()=>{};const S="function"==typeof p?p:p.next.bind(p),G=this._isInitialized?Promise.resolve():this._initializationPromise;return le(G,this,"internal-error"),G.then(()=>S(this.currentUser)),"function"==typeof p?h.addObserver(p,v,D):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,d.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function tt(y){return(0,U.m9)(y)}class Hn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,U.ne)(p=>this.observer=p)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ln(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Gt(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class Tr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return vt("not implemented")}_getIdTokenResponse(h){return vt("not implemented")}_linkToIdToken(h,p){return vt("not implemented")}_getReauthenticationResolver(h){return vt("not implemented")}}function Je(y,h){return oi.apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:resetPassword",Pt(y,h))})).apply(this,arguments)}function Ri(y,h){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ko(y,h){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:update",Pt(y,h))})).apply(this,arguments)}function Mi(){return(Mi=(0,d.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithPassword",Pt(y,h))})).apply(this,arguments)}function $n(y,h){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:sendOobCode",Pt(y,h))})).apply(this,arguments)}function ch(y,h){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,d.Z)(function*(y,h){return $n(y,h)})).apply(this,arguments)}function cl(y,h){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,d.Z)(function*(y,h){return $n(y,h)})).apply(this,arguments)}function ro(y,h){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(y,h){return $n(y,h)})).apply(this,arguments)}function ai(y,h){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(y,h){return $n(y,h)})).apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,h))})).apply(this,arguments)}function Xo(){return(Xo=(0,d.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,h))})).apply(this,arguments)}class Pi extends Tr{constructor(h,p,v,D=null){super("password",v),this._email=h,this._password=p,this._tenantId=D}static _fromEmailAndPassword(h,p){return new Pi(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new Pi(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,d.Z)(function*(){switch(p.signInMethod){case"password":return function(y,h){return Mi.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(y,h){return Ar.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:De(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,d.Z)(function*(){switch(v.signInMethod){case"password":return Ri(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(y,h){return Xo.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:De(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function hr(y,h){return fr.apply(this,arguments)}function fr(){return(fr=(0,d.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithIdp",Pt(y,h))})).apply(this,arguments)}class li extends Tr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new li(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):De("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:D}=p,S=(0,ue._T)(p,["providerId","signInMethod"]);if(!v||!D)return null;const G=new li(v,D);return Object.assign(G,S),G}_getIdTokenResponse(h){return hr(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,hr(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,hr(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,U.xO)(p)}return h}}function Fp(y,h){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:sendVerificationCode",Pt(y,h))})).apply(this,arguments)}function dh(){return(dh=(0,d.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,h))})).apply(this,arguments)}function hh(){return(hh=(0,d.Z)(function*(y,h){const p=yield yn(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,h));if(p.temporaryProof)throw wr(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const W_={USER_NOT_FOUND:"user-not-found"};function fh(){return(fh=(0,d.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),W_)})).apply(this,arguments)}class io extends Tr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new io({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new io({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function(y,h){return dh.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function(y,h){return hh.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(y,h){return fh.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:D}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:D}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:S}=h;return v||p||D||S?new io({verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:S}):null}}class dl{constructor(h){var p,v,D,S,G,he;const Se=(0,U.zd)((0,U.pd)(h)),Ne=null!==(p=Se.apiKey)&&void 0!==p?p:null,Ve=null!==(v=Se.oobCode)&&void 0!==v?v:null,He=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Se.mode)&&void 0!==D?D:null);le(Ne&&Ve&&He,"argument-error"),this.apiKey=Ne,this.operation=He,this.code=Ve,this.continueUrl=null!==(S=Se.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(G=Se.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(he=Se.tenantId)&&void 0!==he?he:null}static parseLink(h){const p=function(y){const h=(0,U.zd)((0,U.pd)(y)).link,p=h?(0,U.zd)((0,U.pd)(h)).deep_link_id:null,v=(0,U.zd)((0,U.pd)(y)).deep_link_id;return(v?(0,U.zd)((0,U.pd)(v)).link:null)||v||p||h||y}(h);try{return new dl(p)}catch(v){return null}}}let ph=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,v){return Pi._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const D=dl.parseLink(v);return le(D,"argument-error"),Pi._fromEmailAndCode(p,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Oi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class as extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class xi extends as{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return le("providerId"in p&&"signInMethod"in p,"argument-error"),li._fromParams(p)}credential(h){return this._credential(h)}_credential(h){return le(h.idToken||h.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return xi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return xi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:D,pendingToken:S,nonce:G,providerId:he}=h;if(!v&&!D&&!p&&!S||!he)return null;try{return new xi(he)._credential({idToken:p,accessToken:v,rawNonce:G,pendingToken:S})}catch(Se){return null}}}let Lp=(()=>{class y extends as{constructor(){super("facebook.com")}static credential(p){return li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ju=(()=>{class y extends as{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:D}=p;if(!v&&!D)return null;try{return y.credential(v,D)}catch(S){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Xu=(()=>{class y extends as{constructor(){super("github.com")}static credential(p){return li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class so extends Tr{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return hr(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,hr(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,hr(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:D,pendingToken:S}=p;return v&&D&&S&&v===D?new so(v,S):null}static _create(h,p){return new so(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let gh=(()=>{class y extends as{constructor(){super("twitter.com")}static credential(p,v){return li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:D}=p;if(!v||!D)return null;try{return y.credential(v,D)}catch(S){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function mh(y,h){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:signUp",Pt(y,h))})).apply(this,arguments)}class pr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,D=!1){return(0,d.Z)(function*(){const S=yield Pe._fromIdTokenResponse(h,v,D),G=_h(v);return new pr({user:S,providerId:G,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const D=_h(v);return new pr({user:h,providerId:D,_tokenResponse:v,operationType:p})})()}}function _h(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function vh(){return(vh=(0,d.Z)(function*(y){var h;const p=tt(y);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new pr({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield mh(p,{returnSecureToken:!0}),D=yield pr._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class Wn extends U.ZR{constructor(h,p,v,D){var S;super(p.code,p.message),this.operationType=v,this.user=D,this.name="FirebaseError",Object.setPrototypeOf(this,Wn.prototype),this.appName=h.name,this.code=p.code,this.tenantId=null!==(S=h.tenantId)&&void 0!==S?S:void 0,this.serverResponse=p.customData.serverResponse}static _fromErrorAndOperation(h,p,v,D){return new Wn(h,p,v,D)}}function fl(y,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?Wn._fromErrorAndOperation(y,S,h,v):S})}function tc(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function nc(){return(nc=(0,d.Z)(function*(y,h){const p=(0,U.m9)(y);yield kt(!0,p,h);const{providerUserInfo:v}=yield ss(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),D=tc(v||[]);return p.providerData=p.providerData.filter(S=>D.has(S.providerId)),D.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function gl(y,h){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,d.Z)(function*(y,h,p=!1){const v=yield Te(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return pr._forOperation(y,"link",v)})).apply(this,arguments)}function kt(y,h,p){return ml.apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(y,h,p){yield It(h);const D=!1===y?"provider-already-linked":"no-such-provider";le(tc(h.providerData).has(p)===y,h.auth,D)})).apply(this,arguments)}function us(y,h){return rc.apply(this,arguments)}function rc(){return(rc=(0,d.Z)(function*(y,h,p=!1){const{auth:v}=y,D="reauthenticate";try{const S=yield Te(y,fl(v,D,h,y),p);le(S.idToken,v,"internal-error");const G=Cn(S.idToken);le(G,v,"internal-error");const{sub:he}=G;return le(y.uid===he,v,"user-mismatch"),pr._forOperation(y,D,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&De(v,"user-mismatch"),S}})).apply(this,arguments)}function Ut(y,h){return ic.apply(this,arguments)}function ic(){return(ic=(0,d.Z)(function*(y,h,p=!1){const v="signIn",D=yield fl(y,v,h),S=yield pr._fromIdTokenResponse(y,v,D);return p||(yield y._updateCurrentUser(S.user)),S})).apply(this,arguments)}function _l(y,h){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(y,h){return Ut(tt(y),h)})).apply(this,arguments)}function Xn(y,h){return ta.apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(y,h){const p=(0,U.m9)(y);return yield kt(!1,p,h.providerId),gl(p,h)})).apply(this,arguments)}function yl(y,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(y,h){return us((0,U.m9)(y),h)})).apply(this,arguments)}function er(y,h){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:signInWithCustomToken",Pt(y,h))})).apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(y,h){const p=tt(y),v=yield er(p,{token:h,returnSecureToken:!0}),D=yield pr._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ur{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?vl._fromServerResponse(h,p):De(h,"internal-error")}}class vl extends Ur{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new vl(p)}}function lo(y,h,p){var v;le((null===(v=p.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),le(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(le(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iosBundleId=p.iOS.bundleId),p.android&&(le(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function oc(){return(oc=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y),D={requestType:"PASSWORD_RESET",email:h};p&&lo(v,D,p),yield cl(v,D)})).apply(this,arguments)}function ac(){return(ac=(0,d.Z)(function*(y,h,p){yield Je((0,U.m9)(y),{oobCode:h,newPassword:p})})).apply(this,arguments)}function lc(){return(lc=(0,d.Z)(function*(y,h){yield Ko((0,U.m9)(y),{oobCode:h})})).apply(this,arguments)}function bh(y,h){return cs.apply(this,arguments)}function cs(){return(cs=(0,d.Z)(function*(y,h){const p=(0,U.m9)(y),v=yield Je(p,{oobCode:h}),D=v.requestType;switch(le(D,p,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(v.mfaInfo,p,"internal-error");default:le(v.email,p,"internal-error")}let S=null;return v.mfaInfo&&(S=Ur._fromServerResponse(tt(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:S},operation:D}})).apply(this,arguments)}function dt(){return(dt=(0,d.Z)(function*(y,h){const{data:p}=yield bh((0,U.m9)(y),h);return p.email})).apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(y,h,p){const v=tt(y),D=yield mh(v,{returnSecureToken:!0,email:h,password:p}),S=yield pr._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y),D={requestType:"EMAIL_SIGNIN",email:h};le(p.handleCodeInApp,v,"argument-error"),p&&lo(v,D,p),yield ro(v,D)})).apply(this,arguments)}function wh(){return(wh=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y),D=ph.credentialWithLink(h,p||ae());return le(D._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),_l(v,D)})).apply(this,arguments)}function Bp(y,h){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:createAuthUri",Pt(y,h))})).apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(y,h){const v={identifier:h,continueUri:q()?ae():"http://localhost"},{signinMethods:D}=yield Bp((0,U.m9)(y),v);return D||[]})).apply(this,arguments)}function dc(){return(dc=(0,d.Z)(function*(y,h){const p=(0,U.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&lo(p.auth,D,h);const{email:S}=yield ch(p.auth,D);S!==y.email&&(yield y.reload())})).apply(this,arguments)}function tr(){return(tr=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&lo(v.auth,S,p);const{email:G}=yield ai(v.auth,S);G!==y.email&&(yield y.reload())})).apply(this,arguments)}function q_(y,h){return wl.apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(y,h){return Qe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function hc(){return(hc=(0,d.Z)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,U.m9)(y),S={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},G=yield Te(v,q_(v.auth,S));v.displayName=G.displayName||null,v.photoURL=G.photoUrl||null;const he=v.providerData.find(({providerId:Se})=>"password"===Se);he&&(he.displayName=v.displayName,he.photoURL=v.photoURL),yield v._updateTokensIfNecessary(G)})).apply(this,arguments)}function gc(y,h,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(y,h,p){const{auth:v}=y,S={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(S.email=h),p&&(S.password=p);const G=yield Te(y,Ri(v,S));yield y._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class fs{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class na extends fs{constructor(h,p,v,D){super(h,p,v),this.username=D}}class Th extends fs{constructor(h,p){super(h,"facebook.com",p)}}class jp extends na{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Ah extends fs{constructor(h,p){super(h,"google.com",p)}}class Hp extends na{constructor(h,p,v){super(h,"twitter.com",p,v)}}function ra(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(y){var h,p;if(!y)return null;const{providerId:v}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},S=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const G=null===(p=null===(h=Cn(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(G)return new fs(S,"anonymous"!==G&&"custom"!==G?G:null)}if(!v)return null;switch(v){case"facebook.com":return new Th(S,D);case"github.com":return new jp(S,D);case"google.com":return new Ah(S,D);case"twitter.com":return new Hp(S,D,y.screenName||null);case"custom":case"anonymous":return new fs(S,null);default:return new fs(S,v,D)}}(p)}class ps{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new ps("enroll",h)}static _fromMfaPendingCredential(h){return new ps("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return ps._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return ps._fromIdtoken(h.multiFactorSession.idToken)}return null}}class _c{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=tt(h),D=(p.serverResponse.mfaInfo||[]).map(G=>Ur._fromServerResponse(v,G));le(p.serverResponse.mfaPendingCredential,v,"internal-error");const S=ps._fromMfaPendingCredential(p.serverResponse.mfaPendingCredential);return new _c(S,D,function(){var G=(0,d.Z)(function*(he){const Se=yield he._process(v,S);delete p.serverResponse.mfaInfo,delete p.serverResponse.mfaPendingCredential;const Ne=Object.assign(Object.assign({},p.serverResponse),{idToken:Se.idToken,refreshToken:Se.refreshToken});switch(p.operationType){case"signIn":const Ve=yield pr._fromIdTokenResponse(v,p.operationType,Ne);return yield v._updateCurrentUser(Ve.user),Ve;case"reauthenticate":return le(p.user,v,"internal-error"),pr._forOperation(p.user,p.operationType,Ne);default:De(v,"internal-error")}});return function(he){return G.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,d.Z)(function*(){return p.signInResolver(h)})()}}function Il(y,h){return Qe(y,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:y.tenantId},h))}class ia{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Ur._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new ia(h)}getSession(){var h=this;return(0,d.Z)(function*(){return ps._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var v=this;return(0,d.Z)(function*(){const D=h,S=yield v.getSession(),G=yield Te(v.user,D._process(v.user.auth,S,p));return yield v.user._updateTokensIfNecessary(G),v.user.reload()})()}unenroll(h){var p=this;return(0,d.Z)(function*(){const v="string"==typeof h?h:h.uid,D=yield p.user.getIdToken(),S=yield Te(p.user,function(y,h){return Qe(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:y.tenantId},h))}(p.user.auth,{idToken:D,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:G})=>G!==v),yield p.user._updateTokensIfNecessary(S);try{yield p.user.reload()}catch(G){if("auth/user-token-expired"!==G.code)throw G}})()}}const Tl=new WeakMap,Mr="__sak";class sa{constructor(h,p){this.storage=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Mr,"1"),this.storage.removeItem(Mr),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}}const Al=(()=>{class y extends sa{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,U.z$)();return ii(y)||Xt(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=uh(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const D=this.storage.getItem(v),S=this.localCache[v];D!==S&&p(v,S,D)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((he,Se,Ne)=>{this.notifyListeners(he,Ne)});const D=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(D);if(p.newValue!==he)null!==p.newValue?this.storage.setItem(D,p.newValue):this.storage.removeItem(D);else if(this.localCache[D]===p.newValue&&!v)return}const S=()=>{const he=this.storage.getItem(D);!v&&this.localCache[D]===he||this.notifyListeners(D,he)},G=this.storage.getItem(D);(0,U.w1)()&&10===document.documentMode&&G!==p.newValue&&p.newValue!==p.oldValue?setTimeout(S,10):S()}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const S of Array.from(D))S(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var D=()=>super._set,S=this;return(0,d.Z)(function*(){yield D().call(S,p,v),S.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,D=this;return(0,d.Z)(function*(){const S=yield v().call(D,p);return D.localCache[p]=JSON.stringify(S),S})()}_remove(p){var v=()=>super._remove,D=this;return(0,d.Z)(function*(){yield v().call(D,p),delete D.localCache[p]})()}}return y.type="LOCAL",y})(),gs=(()=>{class y extends sa{constructor(){super(window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return y.type="SESSION",y})();let vc=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(S=>S.isListeningto(p));if(v)return v;const D=new y(p);return this.receivers.push(D),D}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,d.Z)(function*(){const D=p,{eventId:S,eventType:G,data:he}=D.data,Se=v.handlersMap[G];if(!(null==Se?void 0:Se.size))return;D.ports[0].postMessage({status:"ack",eventId:S,eventType:G});const Ne=Array.from(Se).map(function(){var He=(0,d.Z)(function*(Et){return Et(D.origin,he)});return function(Et){return He.apply(this,arguments)}}()),Ve=yield function(y){return Promise.all(y.map(function(){var h=(0,d.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(Ne);D.ports[0].postMessage({status:"done",eventId:S,eventType:G,response:Ve})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function fo(y="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return y+p}class Br{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,v=50){var D=this;return(0,d.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let G,he;return new Promise((Se,Ne)=>{const Ve=fo("",20);S.port1.start();const He=setTimeout(()=>{Ne(new Error("unsupported_event"))},v);he={messageChannel:S,onMessage(Et){const Fn=Et;if(Fn.data.eventId===Ve)switch(Fn.data.status){case"ack":clearTimeout(He),G=setTimeout(()=>{Ne(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Se(Fn.data.response);break;default:clearTimeout(He),clearTimeout(G),Ne(new Error("invalid_response"))}}},D.handlers.add(he),S.port1.addEventListener("message",he.onMessage),D.target.postMessage({eventType:h,eventId:Ve,data:p},[S.port2])}).finally(()=>{he&&D.removeMessageHandler(he)})})()}}function zt(){return window}function po(){return void 0!==zt().WorkerGlobalScope&&"function"==typeof zt().importScripts}function Mh(){return(Mh=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const la="firebaseLocalStorageDb",ua="firebaseLocalStorage",Ph="fbase_key";class Sl{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Cc(y,h){return y.transaction([ua],h?"readwrite":"readonly").objectStore(ua)}function Rl(){const y=indexedDB.open(la,1);return new Promise((h,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(ua,{keyPath:Ph})}catch(D){p(D)}}),y.addEventListener("success",(0,d.Z)(function*(){const v=y.result;v.objectStoreNames.contains(ua)?h(v):(v.close(),yield function(){const y=indexedDB.deleteDatabase(la);return new Sl(y).toPromise()}(),h(yield Rl()))}))})}function Ml(y,h,p){return jt.apply(this,arguments)}function jt(){return(jt=(0,d.Z)(function*(y,h,p){const v=Cc(y,!0).put({[Ph]:h,value:p});return new Sl(v).toPromise()})).apply(this,arguments)}function da(){return(da=(0,d.Z)(function*(y,h){const p=Cc(y,!1).get(h),v=yield new Sl(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function at(y,h){const p=Cc(y,!0).delete(h);return new Sl(p).toPromise()}const go=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,d.Z)(function*(){return p.db||(p.db=yield Rl()),p.db})()}_withRetries(p){var v=this;return(0,d.Z)(function*(){let D=0;for(;;)try{const S=yield v._openDb();return yield p(S)}catch(S){if(D++>3)throw S;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,d.Z)(function*(){return po()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,d.Z)(function*(){p.receiver=vc._getInstance(po()?self:null),p.receiver._subscribe("keyChanged",function(){var v=(0,d.Z)(function*(D,S){return{keyProcessed:(yield p._poll()).includes(S.key)}});return function(D,S){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,d.Z)(function*(D,S){return["keyChanged"]});return function(D,S){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,d.Z)(function*(){var v,D;if(p.activeServiceWorker=yield function(){return Mh.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Br(p.activeServiceWorker);const S=yield p.sender._send("ping",{},800);!S||(null===(v=S[0])||void 0===v?void 0:v.fulfilled)&&(null===(D=S[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,d.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Rl();return yield Ml(p,Mr,"1"),yield at(p,Mr),!0}catch(p){}return!1})()}_withPendingWrite(p){var v=this;return(0,d.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(S=>Ml(S,p,v)),D.localCache[p]=v,D.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,d.Z)(function*(){const D=yield v._withRetries(S=>function(y,h){return da.apply(this,arguments)}(S,p));return v.localCache[p]=D,D})()}_remove(p){var v=this;return(0,d.Z)(function*(){return v._withPendingWrite((0,d.Z)(function*(){return yield v._withRetries(D=>at(D,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,d.Z)(function*(){const v=yield p._withRetries(G=>{const he=Cc(G,!1).getAll();return new Sl(he).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const D=[],S=new Set;for(const{fbase_key:G,value:he}of v)S.add(G),JSON.stringify(p.localCache[G])!==JSON.stringify(he)&&(p.notifyListeners(G,he),D.push(G));for(const G of Object.keys(p.localCache))p.localCache[G]&&!S.has(G)&&(p.notifyListeners(G,null),D.push(G));return D})()}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const S of Array.from(D))S(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function _s(y,h){return Qe(y,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:y.tenantId},h))}function Pl(){return(Pl=(0,d.Z)(function*(y){return(yield Qe(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ec(y){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=h,v.onerror=D=>{const S=Me("internal-error");S.customData=D,p(S)},v.type="text/javascript",v.charset="UTF-8",function(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(v)})}function ys(y){return`__${y}${Math.floor(1e6*Math.random())}`}const vs=1e12;class en{constructor(h){this.auth=h,this.counter=vs,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new rr(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||vs;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||vs))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,d.Z)(function*(){var v;return null===(v=p._widgets.get(h||vs))||void 0===v||v.execute(),""})()}}class rr{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof h?document.getElementById(h):h;le(D,"argument-error",{appName:p}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}();const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _o=ys("rcb"),xl=new ke(3e4,6e4);class Gp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zt().grecaptcha}load(h,p=""){return le((y=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(zt().grecaptcha):new Promise((v,D)=>{const S=zt().setTimeout(()=>{D(Me(h,"network-request-failed"))},xl.get());zt()[_o]=()=>{zt().clearTimeout(S),delete zt()[_o];const he=zt().grecaptcha;if(!he)return void D(Me(h,"internal-error"));const Se=he.render;he.render=(Ne,Ve)=>{const He=Se(Ne,Ve);return this.counter++,He},this.hostLanguage=p,v(he)},Ec(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:_o,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(S),D(Me(h,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!zt().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fh{load(h){return(0,d.Z)(function*(){return new en(h)})()}clearedOneInstance(){}}const Lh="recaptcha",Vh={theme:"light",type:"image"};class Ht{constructor(h,p=Object.assign({},Vh),v){this.parameters=p,this.type=Lh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tt(v),this.isInvisible="invisible"===this.parameters.size,le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof h?document.getElementById(h):h;le(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fh:new Gp,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(S=>{const G=he=>{!he||(h.tokenChangeListeners.delete(G),S(he))};h.tokenChangeListeners.add(G),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=zt()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){le(q()&&!po(),h.auth,"internal-error"),yield function(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function(y){return Pl.apply(this,arguments)}(h.auth);le(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fa{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=io._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function bc(){return(bc=(0,d.Z)(function*(y,h,p){const v=tt(y),D=yield pa(v,h,(0,U.m9)(p));return new fa(D,S=>_l(v,S))})).apply(this,arguments)}function Uh(){return(Uh=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y);yield kt(!1,v,"phone");const D=yield pa(v.auth,h,(0,U.m9)(p));return new fa(D,S=>Xn(v,S))})).apply(this,arguments)}function wc(){return(wc=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y),D=yield pa(v.auth,h,(0,U.m9)(p));return new fa(D,S=>yl(v,S))})).apply(this,arguments)}function pa(y,h,p){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,d.Z)(function*(y,h,p){var v;const D=yield p.verify();try{let S;if(le("string"==typeof D,y,"argument-error"),le(p.type===Lh,y,"argument-error"),S="string"==typeof h?{phoneNumber:h}:h,"session"in S){const G=S.session;if("phoneNumber"in S)return le("enroll"===G.type,y,"internal-error"),(yield Il(y,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{le("signin"===G.type,y,"internal-error");const he=(null===(v=S.multiFactorHint)||void 0===v?void 0:v.uid)||S.multiFactorUid;return le(he,y,"missing-multi-factor-info"),(yield _s(y,{mfaPendingCredential:G.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield Fp(y,{phoneNumber:S.phoneNumber,recaptchaToken:D});return G}}finally{p._reset()}})).apply(this,arguments)}function Ui(){return(Ui=(0,d.Z)(function*(y,h){yield gl((0,U.m9)(y),h)})).apply(this,arguments)}let ga=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=tt(p)}verifyPhoneNumber(p,v){return pa(this.auth,p,(0,U.m9)(v))}static credential(p,v){return io._fromVerification(p,v)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:D}=p;return v&&D?io._fromTokenResponse(v,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ot(y,h){return h?X(h):(le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Bi extends Tr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return hr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return hr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return hr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Cs(y){return Ut(y.auth,new Bi(y),y.bypassAuthState)}function Kp(y){const{auth:h,user:p}=y;return le(p,h,"internal-error"),us(p,new Bi(y),y.bypassAuthState)}function jh(y){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(y){const{auth:h,user:p}=y;return le(p,h,"internal-error"),gl(p,new Bi(y),y.bypassAuthState)})).apply(this,arguments)}class Lt{constructor(h,p,v,D,S=!1){this.auth=h,this.resolver=v,this.user=D,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,d.Z)(function*(v,D){h.pendingPromise={resolve:v,reject:D};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(S){h.reject(S)}});return function(v,D){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,d.Z)(function*(){const{urlResponse:v,sessionId:D,postBody:S,tenantId:G,error:he,type:Se}=h;if(he)return void p.reject(he);const Ne={auth:p.auth,requestUri:v,sessionId:D,tenantId:G||void 0,postBody:S||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Se)(Ne))}catch(Ve){p.reject(Ve)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Cs;case"linkViaPopup":case"linkViaRedirect":return jh;case"reauthViaPopup":case"reauthViaRedirect":return Kp;default:De(this.auth,"internal-error")}}resolve(h){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nr=new ke(2e3,1e4);function ui(){return(ui=(0,d.Z)(function*(y,h,p){const v=tt(y);le(h instanceof Oi,y,"argument-error");const D=Ot(v,p);return new ma(v,"signInViaPopup",h,D).executeNotNull()})).apply(this,arguments)}function Dc(){return(Dc=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y);le(h instanceof Oi,v.auth,"argument-error");const D=Ot(v.auth,p);return new ma(v.auth,"reauthViaPopup",h,D,v).executeNotNull()})).apply(this,arguments)}function kl(){return(kl=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y);le(h instanceof Oi,v.auth,"argument-error");const D=Ot(v.auth,p);return new ma(v.auth,"linkViaPopup",h,D,v).executeNotNull()})).apply(this,arguments)}let ma=(()=>{class y extends Lt{constructor(p,v,D,S,G){super(p,v,S,G),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,d.Z)(function*(){const v=yield p.execute();return le(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,d.Z)(function*(){et(1===p.filter.length,"Popup operations only handle one event");const v=fo();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(D=>{p.reject(D)}),p.resolver._isIframeWebStorageSupported(p.auth,D=>{D||p.reject(Me(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,D;this.pollId=(null===(D=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Nr.get())};p()}}return y.currentPopupAction=null,y})();const En=new Map;class Tc extends Lt{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,d.Z)(function*(){let v=En.get(p.auth._key());if(!v){try{const S=(yield function(y,h){return Xp.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(S)}catch(D){v=()=>Promise.reject(D)}En.set(p.auth._key(),v)}return v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const D=yield v.auth._redirectUserForId(h.eventId);if(D)return v.user=D,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Xp(){return(Xp=(0,d.Z)(function*(y,h){const p=Gh(h),v="true"===(yield Wh(y)._get(p));return yield Wh(y)._remove(p),v})).apply(this,arguments)}function Ac(y,h){return $h.apply(this,arguments)}function $h(){return($h=(0,d.Z)(function*(y,h){return Wh(y)._set(Gh(h),"true")})).apply(this,arguments)}function Wh(y){return X(y._redirectPersistence)}function Gh(y){return ot("pendingRedirect",y.config.apiKey,y.name)}function Hi(){return(Hi=(0,d.Z)(function*(y,h,p){const v=tt(y);le(h instanceof Oi,y,"argument-error");const D=Ot(v,p);return yield Ac(D,v),D._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y);le(h instanceof Oi,v.auth,"argument-error");const D=Ot(v.auth,p);yield Ac(D,v.auth);const S=yield Mc(v);return D._openRedirect(v.auth,h,"reauthViaRedirect",S)})).apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(y,h,p){const v=(0,U.m9)(y);le(h instanceof Oi,v.auth,"argument-error");const D=Ot(v.auth,p);yield kt(!1,v,h.providerId),yield Ac(D,v.auth);const S=yield Mc(v);return D._openRedirect(v.auth,h,"linkViaRedirect",S)})).apply(this,arguments)}function Rc(){return(Rc=(0,d.Z)(function*(y,h){return yield tt(y)._initializationPromise,bs(y,h,!1)})).apply(this,arguments)}function bs(y,h){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,d.Z)(function*(y,h,p=!1){const v=tt(y),D=Ot(v,h),G=yield new Tc(v,D,p).execute();return G&&!p&&(delete G.user._redirectEventId,yield v._persistUserIfCurrent(G.user),yield v._setRedirectUser(null,h)),G})).apply(this,arguments)}function Mc(y){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(y){const h=fo(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class qh{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ya(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!ya(h)){const D=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(Me(this.auth,D))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zt(h))}saveEventToCache(h){this.cachedEventUids.add(Zt(h)),this.lastProcessedEventTime=Date.now()}}function Zt(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function ya({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Is(y){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(y,h={}){return Qe(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Ll=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ds=/^https?/;function Yh(){return(Yh=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Is(y);for(const p of h)try{if(Wi(p))return}catch(v){}De(y,"unauthorized-domain")})).apply(this,arguments)}function Wi(y){const h=ae(),{protocol:p,hostname:v}=new URL(h);if(y.startsWith("chrome-extension://")){const G=new URL(y);return""===G.hostname&&""===v?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&G.hostname===v}if(!Ds.test(p))return!1;if(Ll.test(y))return v===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(v)}const Hr=new ke(3e4,6e4);function Ts(){const y=zt().___jsl;if(null==y?void 0:y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Eo=null;function Vl(y){return Eo=Eo||function(y){return new Promise((h,p)=>{var v,D,S;function G(){Ts(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ts(),p(Me(y,"network-request-failed"))},timeout:Hr.get()})}if(null===(D=null===(v=zt().gapi)||void 0===v?void 0:v.iframes)||void 0===D?void 0:D.Iframe)h(gapi.iframes.getContext());else{if(!(null===(S=zt().gapi)||void 0===S?void 0:S.load)){const he=ys("iframefcb");return zt()[he]=()=>{gapi.load?G():p(Me(y,"network-request-failed"))},Ec(`https://apis.google.com/js/api.js?onload=${he}`)}G()}}).catch(h=>{throw Eo=null,h})}(y),Eo}const bo=new ke(5e3,15e3),eg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ey=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $r(y){const h=y.config;le(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?Be(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:y.name,v:ee.SDK_VERSION},D=ey.get(y.config.apiHost);D&&(v.eid=D);const S=y._getFrameworks();return S.length&&(v.fw=S.join(",")),`${p}?${(0,U.xO)(v).slice(1)}`}function Ul(){return(Ul=(0,d.Z)(function*(y){const h=yield Vl(y),p=zt().gapi;return le(p,y,"internal-error"),h.open({where:document.body,url:$r(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eg,dontclear:!0},v=>new Promise(function(){var D=(0,d.Z)(function*(S,G){yield v.restyle({setHideOnLeave:!1});const he=Me(y,"network-request-failed"),Se=zt().setTimeout(()=>{G(he)},bo.get());function Ne(){zt().clearTimeout(Se),S(v)}v.ping(Ne).then(Ne,()=>{G(he)})});return function(S,G){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const eb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function xc(y,h,p,v,D,S){le(y.config.authDomain,y,"auth-domain-config-required"),le(y.config.apiKey,y,"invalid-api-key");const G={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:v,v:ee.SDK_VERSION,eventId:D};if(h instanceof Oi){h.setDefaultLanguage(y.languageCode),G.providerId=h.providerId||"",(0,U.xb)(h.getCustomParameters())||(G.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Se,Ne]of Object.entries(S||{}))G[Se]=Ne}if(h instanceof as){const Se=h.getScopes().filter(Ne=>""!==Ne);Se.length>0&&(G.scopes=Se.join(","))}y.tenantId&&(G.tid=y.tenantId);const he=G;for(const Se of Object.keys(he))void 0===he[Se]&&delete he[Se];return`${function({config:y}){return y.emulator?Be(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,U.xO)(he).slice(1)}`}const kc="webStorageSupport";class Hl extends class{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return vt("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Hl(h)}_finalizeEnroll(h,p,v){return function(y,h){return Qe(y,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:y.tenantId},h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function(y,h){return Qe(y,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:y.tenantId},h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Vc{constructor(){}static assertion(h){return Hl._fromCredential(h)}}var y;class Uc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,d.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{var D;h((null===(D=v)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bn(){return window}function Bc(){return(Bc=(0,d.Z)(function*(y,h,p){var v;const{BuildInfo:D}=bn();et(h.sessionId,"AuthEvent did not contain a session ID");const S=yield ag(h.sessionId),G={};return Xt()?G.ibi=D.packageName:no()?G.apn=D.packageName:De(y,"operation-not-supported-in-this-environment"),D.displayName&&(G.appDisplayName=D.displayName),G.sessionId=S,xc(y,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,G)})).apply(this,arguments)}function Wl(){return(Wl=(0,d.Z)(function*(y){const{BuildInfo:h}=bn(),p={};Xt()?p.iosBundleId=h.packageName:no()?p.androidPackageName=h.packageName:De(y,"operation-not-supported-in-this-environment"),yield Is(y,p)})).apply(this,arguments)}function Gl(){return(Gl=(0,d.Z)(function*(y,h,p){const{cordova:v}=bn();let D=()=>{};try{yield new Promise((S,G)=>{let he=null;function Se(){var He;S();const Et=null===(He=v.plugins.browsertab)||void 0===He?void 0:He.close;"function"==typeof Et&&Et(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Ne(){he||(he=window.setTimeout(()=>{G(Me(y,"redirect-cancelled-by-user"))},2e3))}function Ve(){"visible"===(null==document?void 0:document.visibilityState)&&Ne()}h.addPassiveListener(Se),document.addEventListener("resume",Ne,!1),no()&&document.addEventListener("visibilitychange",Ve,!1),D=()=>{h.removePassiveListener(Se),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",Ve,!1),he&&window.clearTimeout(he)}})}finally{D()}})).apply(this,arguments)}function ag(y){return va.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(y){const h=lg(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function lg(y){if(et(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let v=0;v<y.length;v++)p[v]=y.charCodeAt(v);return p}y="Browser",(0,ee._registerComponent)(new pe.wA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),{apiKey:D,authDomain:S}=v.options;return(G=>{le(D&&!D.includes(":"),"invalid-api-key",{appName:G.name}),le(!(null==S?void 0:S.includes(":")),"argument-error",{appName:G.name});const he={apiKey:D,authDomain:S,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Re(y)},Se=new ct(G,he);return function(y,h){const p=(null==h?void 0:h.persistence)||[],v=(Array.isArray(p)?p:[p]).map(X);(null==h?void 0:h.errorMap)&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(Se,p),Se})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new pe.wA("auth-internal",h=>{const p=tt(h.getProvider("auth").getImmediate());return new Uc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)("@firebase/auth","0.17.1",void 0);class tf extends qh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,d.Z)(function*(){yield h.initPromise})()}}function ir(y){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,d.Z)(function*(y){const h=yield zl()._get(Wc(y));return h&&(yield zl()._remove(Wc(y))),h})).apply(this,arguments)}function $c(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const v=Math.floor(Math.random()*h.length);y.push(h.charAt(v))}return y.join("")}function zl(){return X(Al)}function Wc(y){return ot("authEvent",y.config.apiKey,y.name)}function Do(y){if(!(null==y?void 0:y.includes("?")))return{};const[h,...p]=y.split("?");return(0,U.zd)(p.join("?"))}function hg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function ba(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function To(y=(0,U.z$)()){return!("file:"!==ba()&&"ionic:"!==ba()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function af(){try{const y=self.localStorage,h=fo();if(y)return y.setItem(h,"1"),y.removeItem(h),!function(y=(0,U.z$)()){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,U.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,U.hl)()}catch(y){return lf()&&(0,U.hl)()}return!1}function lf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zl(){return("http:"===ba()||"https:"===ba()||(0,U.ru)()||To())&&!((0,U.b$)()||(0,U.UG)())&&af()&&!lf()}function uf(){return To()&&"undefined"!=typeof document}function Ze(){return(Ze=(0,d.Z)(function*(){return!!uf()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const an={LOCAL:"local",NONE:"none",SESSION:"session"},Ao=le,gr="persistence";function mr(y){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,d.Z)(function*(y){yield y._initializationPromise;const h=ql(),p=ot(gr,y.config.apiKey,y.name);(null==h?void 0:h.sessionStorage)&&h.sessionStorage.setItem(p,y._getPersistence())})).apply(this,arguments)}function ql(){return"undefined"!=typeof window?window:null}const Zc=le;class fi{constructor(){this.browserResolver=X(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gs,this._completeRedirectFn=bs}_openPopup(h,p,v,D){var S=this;return(0,d.Z)(function*(){var G;et(null===(G=S.eventManagers[h._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const he=xc(h,p,v,ae(),D);return function(y,h,p,v=500,D=600){const S=Math.max((window.screen.availHeight-D)/2,0).toString(),G=Math.max((window.screen.availWidth-v)/2,0).toString();let he="";const Se=Object.assign(Object.assign({},eb),{width:v.toString(),height:D.toString(),top:S,left:G}),Ne=(0,U.z$)().toLowerCase();p&&(he=to(Ne)?"_blank":p),Pn(Ne)&&(h=h||"http://localhost",Se.scrollbars="yes");const Ve=Object.entries(Se).reduce((Et,[Fn,Ps])=>`${Et}${Fn}=${Ps},`,"");if(function(y=(0,U.z$)()){var h;return Xt(y)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Ne)&&"_self"!==he)return function(y,h){const p=document.createElement("a");p.href=y,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",he),new Pc(null);const He=window.open(h||"",he,Ve);le(He,y,"popup-blocked");try{He.focus()}catch(Et){}return new Pc(He)}(h,he,fo())})()}_openRedirect(h,p,v,D){var S=this;return(0,d.Z)(function*(){return yield S._originValidation(h),y=xc(h,p,v,ae(),D),zt().location.href=y,new Promise(()=>{});var y})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:D,promise:S}=this.eventManagers[p];return D?Promise.resolve(D):(et(S,"If manager is not set, promise should be"),S)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v}initAndGetManager(h){var p=this;return(0,d.Z)(function*(){const v=yield function(y){return Ul.apply(this,arguments)}(h),D=new qh(h);return v.register("authEvent",S=>(le(null==S?void 0:S.authEvent,h,"invalid-auth-event"),{status:D.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:D},p.iframes[h._key()]=v,D})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(kc,{type:kc},D=>{var S;const G=null===(S=null==D?void 0:D[0])||void 0===S?void 0:S[kc];void 0!==G&&p(!!G),De(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(y){return Yh.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return uh()||ii()||Xt()}}),this.cordovaResolver=X(class{constructor(){this._redirectPersistence=gs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bs}_initialize(h){var p=this;return(0,d.Z)(function*(){const v=h._key();let D=p.eventManagers.get(v);return D||(D=new tf(h),p.eventManagers.set(v,D),p.attachCallbackListeners(h,D)),D})()}_openPopup(h){De(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,D){var S=this;return(0,d.Z)(function*(){!function(y){var h,p,v,D,S,G,he,Se,Ne,Ve;const He=bn();le("function"==typeof(null===(h=null==He?void 0:He.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(void 0!==(null===(p=null==He?void 0:He.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(S=null===(D=null===(v=null==He?void 0:He.cordova)||void 0===v?void 0:v.plugins)||void 0===D?void 0:D.browsertab)||void 0===S?void 0:S.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Se=null===(he=null===(G=null==He?void 0:He.cordova)||void 0===G?void 0:G.plugins)||void 0===he?void 0:he.browsertab)||void 0===Se?void 0:Se.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Ve=null===(Ne=null==He?void 0:He.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===Ve?void 0:Ve.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const G=yield S._initialize(h);yield G.initialized(),G.resetRedirect(),En.clear(),yield S._originValidation(h);const he=function(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:$c(),postBody:null,tenantId:y.tenantId,error:Me(y,"no-auth-event")}}(h,v,D);yield function(y,h){return zl()._set(Wc(y),h)}(h,he);const Se=yield function(y,h,p){return Bc.apply(this,arguments)}(h,he,p),Ne=yield function(y){const{cordova:h}=bn();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let D=null;v?h.plugins.browsertab.openUrl(y):D=h.InAppBrowser.open(y,function(y=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(D)})})}(Se);return function(y,h,p){return Gl.apply(this,arguments)}(h,G,Ne)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(y){return Wl.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:D,BuildInfo:S}=bn(),G=setTimeout((0,d.Z)(function*(){yield ir(h),p.onEvent(hg())}),500),he=function(){var Ve=(0,d.Z)(function*(He){clearTimeout(G);const Et=yield ir(h);let Fn=null;Et&&(null==He?void 0:He.url)&&(Fn=function(y,h){var p,v;const D=function(y){const h=Do(y),p=h.link?decodeURIComponent(h.link):void 0,v=Do(p).link,D=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Do(D).link||D||v||p||y}(h);if(D.includes("/__/auth/callback")){const S=Do(D),G=S.firebaseError?function(y){try{return JSON.parse(y)}catch(h){return null}}(decodeURIComponent(S.firebaseError)):null,he=null===(v=null===(p=null==G?void 0:G.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],Se=he?Me(he):null;return Se?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Se,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(Et,He.url)),p.onEvent(Fn||hg())});return function(Et){return Ve.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,he);const Se=D,Ne=`${S.packageName.toLowerCase()}://`;bn().handleOpenURL=function(){var Ve=(0,d.Z)(function*(He){if(He.toLowerCase().startsWith(Ne)&&he({url:He}),"function"==typeof Se)try{Se(He)}catch(Et){console.error(Et)}});return function(He){return Ve.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=gs,this._completeRedirectFn=bs}_initialize(h){var p=this;return(0,d.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,D){var S=this;return(0,d.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(h,p,v,D)})()}_openRedirect(h,p,v,D){var S=this;return(0,d.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(h,p,v,D)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return uf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,d.Z)(function*(){if(h.underlyingResolver)return;const p=yield function(){return Ze.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function pn(y){return y.unwrap()}function qc(y){return yg(y)}function _g(y,h){var p;const v=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new pi(y,function(y,h){var p;const v=(0,U.m9)(y),D=h;return le(h.operationType,v,"argument-error"),le(null===(p=D.serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),_c._fromError(v,D)}(y,h));else if(v){const D=yg(h),S=h;D&&(S.credential=D,S.tenantId=v.tenantId||void 0,S.email=v.email||void 0,S.phoneNumber=v.phoneNumber||void 0)}}function yg(y){const{_tokenResponse:h}=y instanceof U.ZR?y.customData:y;if(!h)return null;if(!(y instanceof U.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ga.credentialFromResult(y);const p=h.providerId;if(!p||"password"===p)return null;let v;switch(p){case"google.com":v=Ju;break;case"facebook.com":v=Lp;break;case"github.com":v=Xu;break;case"twitter.com":v=gh;break;default:const{oauthIdToken:D,oauthAccessToken:S,oauthTokenSecret:G,pendingToken:he,nonce:Se}=h;return S||G||D||he?he?p.startsWith("saml.")?so._create(p,he):li._fromParams({providerId:p,signInMethod:p,pendingToken:he,idToken:D,accessToken:S}):new xi(p).credential({idToken:D,accessToken:S,rawNonce:Se}):null}return y instanceof U.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function gn(y,h){return So.apply(this,arguments)}function So(){return(So=(0,d.Z)(function*(y,h){let p;try{p=yield h}catch(S){throw S instanceof U.ZR&&_g(y,S),S}const{operationType:v,user:D}=p;return{operationType:v,credential:qc(p),additionalUserInfo:ra(p),user:Wr.getOrCreate(D)}})).apply(this,arguments)}function Yl(y,h){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>gn(y,p.confirm(v))}})).apply(this,arguments)}class pi{constructor(h,p){this.resolver=p,this.auth=function(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return gn(pn(this.auth),this.resolver.resolveSignIn(h))}}class Wr{constructor(h){this._delegate=h,this.multiFactor=function(y){const h=(0,U.m9)(y);return Tl.has(h)||Tl.set(h,ia._fromUser(h)),Tl.get(h)}(h)}static getOrCreate(h){return Wr.USER_MAP.has(h)||Wr.USER_MAP.set(h,new Wr(h)),Wr.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,d.Z)(function*(){return gn(p.auth,Xn(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,d.Z)(function*(){return Yl(v.auth,function(y,h,p){return Uh.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,d.Z)(function*(){return gn(p.auth,function(y,h,p){return kl.apply(this,arguments)}(p._delegate,h,fi))})()}linkWithRedirect(h){var p=this;return(0,d.Z)(function*(){return yield mr(tt(p.auth)),function(y,h,p){return function(y,h,p){return Sc.apply(this,arguments)}(y,h,p)}(p._delegate,h,fi)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,d.Z)(function*(){return gn(p.auth,yl(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Yl(this.auth,function(y,h,p){return wc.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return gn(this.auth,function(y,h,p){return Dc.apply(this,arguments)}(this._delegate,h,fi))}reauthenticateWithRedirect(h){var p=this;return(0,d.Z)(function*(){return yield mr(tt(p.auth)),function(y,h,p){return function(y,h,p){return di.apply(this,arguments)}(y,h,p)}(p._delegate,h,fi)})()}sendEmailVerification(h){return function(y,h){return dc.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,d.Z)(function*(){return yield function(y,h){return nc.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function(y,h){return gc((0,U.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function(y,h){return gc((0,U.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(y,h){return Ui.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(y,h){return hc.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function(y,h,p){return tr.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wr.USER_MAP=new WeakMap;const Da=le;let Ns=(()=>{class y{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=p.options;Da(D,"invalid-api-key",{appName:p.name});let S=[Ct];if("undefined"!=typeof window){S=function(y,h){const p=ql();if(!(null==p?void 0:p.sessionStorage))return[];const v=ot(gr,y,h);switch(p.sessionStorage.getItem(v)){case an.NONE:return[Ct];case an.LOCAL:return[go,gs];case an.SESSION:return[gs];default:return[]}}(D,p.name);for(const he of[go,Al,gs])S.includes(he)||S.push(he)}Da(D,"invalid-api-key",{appName:p.name});const G="undefined"!=typeof window?fi:void 0;this._delegate=v.initialize({options:{persistence:S,popupRedirectResolver:G}}),this._delegate._updateErrorMap(re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function(y,h,p){const v=tt(y);le(v._canInitEmulator,v,"emulator-config-failed"),le(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const D=!!(null==p?void 0:p.disableWarnings),S=ln(h),{host:G,port:he}=function(y){const h=ln(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(v);if(D){const S=D[1];return{host:S,port:Gt(v.substr(S.length+1))}}{const[S,G]=v.split(":");return{host:S,port:Gt(G)}}}(h);v.config.emulator={url:`${S}//${G}${null===he?"":`:${he}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:G,port:he,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:D})}),function(y){function h(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!y&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}(D)}(this._delegate,p,v)}applyActionCode(p){return function(y,h){return lc.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return bh(this._delegate,p)}confirmPasswordReset(p,v){return function(y,h,p){return ac.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var D=this;return(0,d.Z)(function*(){return gn(D._delegate,function(y,h,p){return Ft.apply(this,arguments)}(D._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function(y,h){return sn.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function(y,h){const p=dl.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,d.Z)(function*(){Da(Zl(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function(y,h){return Rc.apply(this,arguments)}(p._delegate,fi);return v?gn(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function(y,h){tt(y)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,v,D){const{next:S,error:G,complete:he}=un(p,v,D);return this._delegate.onAuthStateChanged(S,G,he)}onIdTokenChanged(p,v,D){const{next:S,error:G,complete:he}=un(p,v,D);return this._delegate.onIdTokenChanged(S,G,he)}sendSignInLinkToEmail(p,v){return function(y,h,p){return Gn.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function(y,h,p){return oc.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,d.Z)(function*(){let D;switch(function(y,h){Ao(Object.values(an).includes(h),y,"invalid-persistence-type"),(0,U.b$)()?Ao(h!==an.SESSION,y,"unsupported-persistence-type"):(0,U.UG)()?Ao(h===an.NONE,y,"unsupported-persistence-type"):lf()?Ao(h===an.NONE||h===an.LOCAL&&(0,U.hl)(),y,"unsupported-persistence-type"):Ao(h===an.NONE||af(),y,"unsupported-persistence-type")}(v._delegate,p),p){case an.SESSION:D=gs;break;case an.LOCAL:D=(yield X(go)._isAvailable())?go:Al;break;case an.NONE:D=Ct;break;default:return De("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return gn(this._delegate,function(y){return vh.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return gn(this._delegate,_l(this._delegate,p))}signInWithCustomToken(p){return gn(this._delegate,function(y,h){return ao.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return gn(this._delegate,function(y,h,p){return _l((0,U.m9)(y),ph.credential(h,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return gn(this._delegate,function(y,h,p){return wh.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return Yl(this._delegate,function(y,h,p){return bc.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,d.Z)(function*(){return Da(Zl(),v._delegate,"operation-not-supported-in-this-environment"),gn(v._delegate,function(y,h,p){return ui.apply(this,arguments)}(v._delegate,p,fi))})()}signInWithRedirect(p){var v=this;return(0,d.Z)(function*(){return Da(Zl(),v._delegate,"operation-not-supported-in-this-environment"),yield mr(v._delegate),function(y,h,p){return function(y,h,p){return Hi.apply(this,arguments)}(y,h,p)}(v._delegate,p,fi)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function(y,h){return dt.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=an,y})();function un(y,h,p){let v=y;"function"!=typeof y&&({next:v,error:h,complete:p}=y);const D=v;return{next:G=>D(G&&Wr.getOrCreate(G)),error:h,complete:p}}class Ta{constructor(){this.providerId="phone",this._delegate=new ga(pn(te.Z.auth()))}static credential(h,p){return ga.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}Ta.PHONE_SIGN_IN_METHOD=ga.PHONE_SIGN_IN_METHOD,Ta.PROVIDER_ID=ga.PROVIDER_ID;const cf=le;class ay{constructor(h,p,v=te.Z.app()){var D;cf(null===(D=v.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Ht(h,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new pe.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Ns(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ph,FacebookAuthProvider:Lp,GithubAuthProvider:Xu,GoogleAuthProvider:Ju,OAuthProvider:xi,PhoneAuthProvider:Ta,PhoneMultiFactorGenerator:Vc,RecaptchaVerifier:ay,TwitterAuthProvider:gh,Auth:Ns,AuthCredential:Tr,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.1.1")}(te.Z)},7574:(Oe,ye,N)=>{"use strict";N.d(ye,{y:()=>B});var d=N(7393),U=N(9181),ee=N(6490),z=N(6554),pe=N(4487);var P=N(2494);let B=(()=>{class j{constructor(re){this._isScalar=!1,re&&(this._subscribe=re)}lift(re){const ne=new j;return ne.source=this,ne.operator=re,ne}subscribe(re,ne,Ce){const{operator:ce}=this,_e=function(j,W,re){if(j){if(j instanceof d.L)return j;if(j[U.b])return j[U.b]()}return j||W||re?new d.L(j,W,re):new d.L(ee.c)}(re,ne,Ce);if(_e.add(ce?ce.call(_e,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!_e.syncErrorThrowable?this._subscribe(_e):this._trySubscribe(_e)),P.v.useDeprecatedSynchronousErrorHandling&&_e.syncErrorThrowable&&(_e.syncErrorThrowable=!1,_e.syncErrorThrown))throw _e.syncErrorValue;return _e}_trySubscribe(re){try{return this._subscribe(re)}catch(ne){P.v.useDeprecatedSynchronousErrorHandling&&(re.syncErrorThrown=!0,re.syncErrorValue=ne),function(j){for(;j;){const{closed:W,destination:re,isStopped:ne}=j;if(W||ne)return!1;j=re&&re instanceof d.L?re:null}return!0}(re)?re.error(ne):console.warn(ne)}}forEach(re,ne){return new(ne=O(ne))((Ce,ce)=>{let _e;_e=this.subscribe(be=>{try{re(be)}catch(De){ce(De),_e&&_e.unsubscribe()}},ce,Ce)})}_subscribe(re){const{source:ne}=this;return ne&&ne.subscribe(re)}[z.L](){return this}pipe(...re){return 0===re.length?this:function(j){return 0===j.length?pe.y:1===j.length?j[0]:function(re){return j.reduce((ne,Ce)=>Ce(ne),re)}}(re)(this)}toPromise(re){return new(re=O(re))((ne,Ce)=>{let ce;this.subscribe(_e=>ce=_e,_e=>Ce(_e),()=>ne(ce))})}}return j.create=W=>new j(W),j})();function O(j){if(j||(j=P.v.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},6490:(Oe,ye,N)=>{"use strict";N.d(ye,{c:()=>U});var d=N(2494),te=N(4449);const U={closed:!0,next(ee){},error(ee){if(d.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,te.z)(ee)},complete(){}}},9765:(Oe,ye,N)=>{"use strict";N.d(ye,{Yc:()=>pe,xQ:()=>Z});var d=N(7574),te=N(7393),U=N(5319),ee=N(7971),ue=N(8858),z=N(9181);class pe extends te.L{constructor(B){super(B),this.destination=B}}let Z=(()=>{class P extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[z.b](){return new pe(this)}lift(O){const j=new $(this,this);return j.operator=O,j}next(O){if(this.closed)throw new ee.N;if(!this.isStopped){const{observers:j}=this,W=j.length,re=j.slice();for(let ne=0;ne<W;ne++)re[ne].next(O)}}error(O){if(this.closed)throw new ee.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:j}=this,W=j.length,re=j.slice();for(let ne=0;ne<W;ne++)re[ne].error(O);this.observers.length=0}complete(){if(this.closed)throw new ee.N;this.isStopped=!0;const{observers:O}=this,j=O.length,W=O.slice();for(let re=0;re<j;re++)W[re].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new ee.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new ee.N;return this.hasError?(O.error(this.thrownError),U.w.EMPTY):this.isStopped?(O.complete(),U.w.EMPTY):(this.observers.push(O),new ue.W(this,O))}asObservable(){const O=new d.y;return O.source=this,O}}return P.create=(B,O)=>new $(B,O),P})();class $ extends Z{constructor(B,O){super(),this.destination=B,this.source=O}next(B){const{destination:O}=this;O&&O.next&&O.next(B)}error(B){const{destination:O}=this;O&&O.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:O}=this;return O?this.source.subscribe(B):U.w.EMPTY}}},8858:(Oe,ye,N)=>{"use strict";N.d(ye,{W:()=>te});var d=N(5319);class te extends d.w{constructor(ee,ue){super(),this.subject=ee,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ee=this.subject,ue=ee.observers;if(this.subject=null,!ue||0===ue.length||ee.isStopped||ee.closed)return;const z=ue.indexOf(this.subscriber);-1!==z&&ue.splice(z,1)}}},7393:(Oe,ye,N)=>{"use strict";N.d(ye,{L:()=>pe});var d=N(9105),te=N(6490),U=N(5319),ee=N(9181),ue=N(2494),z=N(4449);class pe extends U.w{constructor(P,B,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!P){this.destination=te.c;break}if("object"==typeof P){P instanceof pe?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new Z(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new Z(this,P,B,O)}}[ee.b](){return this}static create(P,B,O){const j=new pe(P,B,O);return j.syncErrorThrowable=!1,j}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class Z extends pe{constructor(P,B,O,j){super(),this._parentSubscriber=P;let W,re=this;(0,d.m)(B)?W=B:B&&(W=B.next,O=B.error,j=B.complete,B!==te.c&&(re=Object.create(B),(0,d.m)(re.unsubscribe)&&this.add(re.unsubscribe.bind(re)),re.unsubscribe=this.unsubscribe.bind(this))),this._context=re,this._next=W,this._error=O,this._complete=j}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ue.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:O}=ue.v;if(this._error)O&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(B.syncErrorThrowable)O?(B.syncErrorValue=P,B.syncErrorThrown=!0):(0,z.z)(P),this.unsubscribe();else{if(this.unsubscribe(),O)throw P;(0,z.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const B=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,B){try{P.call(this._context,B)}catch(O){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw O;(0,z.z)(O)}}__tryOrSetError(P,B,O){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,O)}catch(j){return ue.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=j,P.syncErrorThrown=!0,!0):((0,z.z)(j),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(Oe,ye,N)=>{"use strict";N.d(ye,{w:()=>z});var d=N(9796),te=N(1555),U=N(9105);const ue=(()=>{function Z($){return Error.call(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((P,B)=>`${B+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$,this}return Z.prototype=Object.create(Error.prototype),Z})();class z{constructor($){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,$&&(this._ctorUnsubscribe=!0,this._unsubscribe=$)}unsubscribe(){let $;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:B,_unsubscribe:O,_subscriptions:j}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof z)P.remove(this);else if(null!==P)for(let W=0;W<P.length;++W)P[W].remove(this);if((0,U.m)(O)){B&&(this._unsubscribe=void 0);try{O.call(this)}catch(W){$=W instanceof ue?pe(W.errors):[W]}}if((0,d.k)(j)){let W=-1,re=j.length;for(;++W<re;){const ne=j[W];if((0,te.K)(ne))try{ne.unsubscribe()}catch(Ce){$=$||[],Ce instanceof ue?$=$.concat(pe(Ce.errors)):$.push(Ce)}}}if($)throw new ue($)}add($){let P=$;if(!$)return z.EMPTY;switch(typeof $){case"function":P=new z($);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof z)){const j=P;P=new z,P._subscriptions=[j]}break;default:throw new Error("unrecognized teardown "+$+" added to Subscription.")}let{_parentOrParents:B}=P;if(null===B)P._parentOrParents=this;else if(B instanceof z){if(B===this)return P;P._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return P;B.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[P]:O.push(P),P}remove($){const P=this._subscriptions;if(P){const B=P.indexOf($);-1!==B&&P.splice(B,1)}}}var Z;function pe(Z){return Z.reduce(($,P)=>$.concat(P instanceof ue?P.errors:P),[])}z.EMPTY=((Z=new z).closed=!0,Z)},2494:(Oe,ye,N)=>{"use strict";N.d(ye,{v:()=>te});let d=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ee.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=U},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(Oe,ye,N)=>{"use strict";N.d(ye,{IY:()=>ee,Ds:()=>z,ft:()=>Z});var d=N(7393),te=N(7574),U=N(7444);class ee extends d.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class z extends d.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function Z($,P){if(P.closed)return;if($ instanceof te.y)return $.subscribe(P);let B;try{B=(0,U.s)($)(P)}catch(O){P.error(O)}return B}},2441:(Oe,ye,N)=>{"use strict";N.d(ye,{c:()=>ue,N:()=>z});var d=N(9765),te=N(7574),U=N(5319),ee=N(1307);class ue extends te.y{constructor(B,O){super(),this.source=B,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new U.w,B.add(this.source.subscribe(new pe(this.getSubject(),this))),B.closed&&(this._connection=null,B=U.w.EMPTY)),B}refCount(){return(0,ee.x)()(this)}}const z=(()=>{const P=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class pe extends d.Yc{constructor(B,O){super(B),this.connectable=O}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const O=B._connection;B._refCount=0,B._subject=null,B._connection=null,O&&O.unsubscribe()}}}},9193:(Oe,ye,N)=>{"use strict";N.d(ye,{E:()=>te,c:()=>U});var d=N(7574);const te=new d.y(ue=>ue.complete());function U(ue){return ue?function(ue){return new d.y(z=>ue.schedule(()=>z.complete()))}(ue):te}},4402:(Oe,ye,N)=>{"use strict";N.d(ye,{D:()=>re});var d=N(7574),te=N(7444),U=N(5319),ee=N(6554),pe=N(4087),Z=N(377),B=N(4072),O=N(9489);function re(ne,Ce){return Ce?function(ne,Ce){if(null!=ne){if(function(ne){return ne&&"function"==typeof ne[ee.L]}(ne))return function(ne,Ce){return new d.y(ce=>{const _e=new U.w;return _e.add(Ce.schedule(()=>{const be=ne[ee.L]();_e.add(be.subscribe({next(De){_e.add(Ce.schedule(()=>ce.next(De)))},error(De){_e.add(Ce.schedule(()=>ce.error(De)))},complete(){_e.add(Ce.schedule(()=>ce.complete()))}}))})),_e})}(ne,Ce);if((0,B.t)(ne))return function(ne,Ce){return new d.y(ce=>{const _e=new U.w;return _e.add(Ce.schedule(()=>ne.then(be=>{_e.add(Ce.schedule(()=>{ce.next(be),_e.add(Ce.schedule(()=>ce.complete()))}))},be=>{_e.add(Ce.schedule(()=>ce.error(be)))}))),_e})}(ne,Ce);if((0,O.z)(ne))return(0,pe.r)(ne,Ce);if(function(ne){return ne&&"function"==typeof ne[Z.hZ]}(ne)||"string"==typeof ne)return function(ne,Ce){if(!ne)throw new Error("Iterable cannot be null");return new d.y(ce=>{const _e=new U.w;let be;return _e.add(()=>{be&&"function"==typeof be.return&&be.return()}),_e.add(Ce.schedule(()=>{be=ne[Z.hZ](),_e.add(Ce.schedule(function(){if(ce.closed)return;let De,Me;try{const st=be.next();De=st.value,Me=st.done}catch(st){return void ce.error(st)}Me?ce.complete():(ce.next(De),this.schedule())}))})),_e})}(ne,Ce)}throw new TypeError((null!==ne&&typeof ne||ne)+" is not observable")}(ne,Ce):ne instanceof d.y?ne:new d.y((0,te.s)(ne))}},6693:(Oe,ye,N)=>{"use strict";N.d(ye,{n:()=>ee});var d=N(7574),te=N(5015),U=N(4087);function ee(ue,z){return z?(0,U.r)(ue,z):new d.y((0,te.V)(ue))}},6682:(Oe,ye,N)=>{"use strict";N.d(ye,{T:()=>ue});var d=N(7574),te=N(4869),U=N(3282),ee=N(6693);function ue(...z){let pe=Number.POSITIVE_INFINITY,Z=null,$=z[z.length-1];return(0,te.K)($)?(Z=z.pop(),z.length>1&&"number"==typeof z[z.length-1]&&(pe=z.pop())):"number"==typeof $&&(pe=z.pop()),null===Z&&1===z.length&&z[0]instanceof d.y?z[0]:(0,U.J)(pe)((0,ee.n)(z,Z))}},5917:(Oe,ye,N)=>{"use strict";N.d(ye,{of:()=>ee});var d=N(4869),te=N(6693),U=N(4087);function ee(...ue){let z=ue[ue.length-1];return(0,d.K)(z)?(ue.pop(),(0,U.r)(ue,z)):(0,te.n)(ue)}},8002:(Oe,ye,N)=>{"use strict";N.d(ye,{U:()=>te});var d=N(7393);function te(ue,z){return function(Z){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Z.lift(new U(ue,z))}}class U{constructor(z,pe){this.project=z,this.thisArg=pe}call(z,pe){return pe.subscribe(new ee(z,this.project,this.thisArg))}}class ee extends d.L{constructor(z,pe,Z){super(z),this.project=pe,this.count=0,this.thisArg=Z||this}_next(z){let pe;try{pe=this.project.call(this.thisArg,z,this.count++)}catch(Z){return void this.destination.error(Z)}this.destination.next(pe)}}},3282:(Oe,ye,N)=>{"use strict";N.d(ye,{J:()=>U});var d=N(9773),te=N(4487);function U(ee=Number.POSITIVE_INFINITY){return(0,d.zg)(te.y,ee)}},9773:(Oe,ye,N)=>{"use strict";N.d(ye,{zg:()=>ee});var d=N(8002),te=N(4402),U=N(5345);function ee(Z,$,P=Number.POSITIVE_INFINITY){return"function"==typeof $?B=>B.pipe(ee((O,j)=>(0,te.D)(Z(O,j)).pipe((0,d.U)((W,re)=>$(O,W,j,re))),P)):("number"==typeof $&&(P=$),B=>B.lift(new ue(Z,P)))}class ue{constructor($,P=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=P}call($,P){return P.subscribe(new z($,this.project,this.concurrent))}}class z extends U.Ds{constructor($,P,B=Number.POSITIVE_INFINITY){super($),this.project=P,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let P;const B=this.index++;try{P=this.project($,B)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(P)}_innerSub($){const P=new U.IY(this),B=this.destination;B.add(P);const O=(0,U.ft)($,P);O!==P&&B.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($){this.destination.next($)}notifyComplete(){const $=this.buffer;this.active--,$.length>0?this._next($.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Oe,ye,N)=>{"use strict";N.d(ye,{ht:()=>B,QV:()=>$});var d=N(7393),te=N(9193),U=N(5917),ee=N(7574);class Z{constructor(W,re,ne){this.kind=W,this.value=re,this.error=ne,this.hasValue="N"===W}observe(W){switch(this.kind){case"N":return W.next&&W.next(this.value);case"E":return W.error&&W.error(this.error);case"C":return W.complete&&W.complete()}}do(W,re,ne){switch(this.kind){case"N":return W&&W(this.value);case"E":return re&&re(this.error);case"C":return ne&&ne()}}accept(W,re,ne){return W&&"function"==typeof W.next?this.observe(W):this.do(W,re,ne)}toObservable(){switch(this.kind){case"N":return(0,U.of)(this.value);case"E":return j=this.error,new ee.y(re=>re.error(j));case"C":return(0,te.c)()}var j;throw new Error("unexpected notification kind value")}static createNext(W){return void 0!==W?new Z("N",W):Z.undefinedValueNotification}static createError(W){return new Z("E",void 0,W)}static createComplete(){return Z.completeNotification}}function $(j,W=0){return function(ne){return ne.lift(new P(j,W))}}Z.completeNotification=new Z("C"),Z.undefinedValueNotification=new Z("N",void 0);class P{constructor(W,re=0){this.scheduler=W,this.delay=re}call(W,re){return re.subscribe(new B(W,this.scheduler,this.delay))}}class B extends d.L{constructor(W,re,ne=0){super(W),this.scheduler=re,this.delay=ne}static dispatch(W){const{notification:re,destination:ne}=W;re.observe(ne),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(B.dispatch,this.delay,new O(W,this.destination)))}_next(W){this.scheduleMessage(Z.createNext(W))}_error(W){this.scheduleMessage(Z.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(Z.createComplete()),this.unsubscribe()}}class O{constructor(W,re){this.notification=W,this.destination=re}}},1307:(Oe,ye,N)=>{"use strict";N.d(ye,{x:()=>te});var d=N(7393);function te(){return function(z){return z.lift(new U(z))}}class U{constructor(z){this.connectable=z}call(z,pe){const{connectable:Z}=this;Z._refCount++;const $=new ee(z,Z),P=pe.subscribe($);return $.closed||($.connection=Z.connect()),P}}class ee extends d.L{constructor(z,pe){super(z),this.connectable=pe}_unsubscribe(){const{connectable:z}=this;if(!z)return void(this.connection=null);this.connectable=null;const pe=z._refCount;if(pe<=0)return void(this.connection=null);if(z._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:Z}=this,$=z._connection;this.connection=null,$&&(!Z||$===Z)&&$.unsubscribe()}}},8819:(Oe,ye,N)=>{"use strict";N.d(ye,{B:()=>pe});var d=N(2441);var ee=N(1307),ue=N(9765);function z(){return new ue.xQ}function pe(){return Z=>(0,ee.x)()(function(Z,$){return function(B){let O;O="function"==typeof Z?Z:function(){return Z};const j=Object.create(B,d.N);return j.source=B,j.subjectFactory=O,j}}(z)(Z))}},3101:(Oe,ye,N)=>{"use strict";N.d(ye,{R:()=>Ce});var d=N(7574);let te=1;const U=Promise.resolve(),ee={};function ue(_e){return _e in ee&&(delete ee[_e],!0)}const z={setImmediate(_e){const be=te++;return ee[be]=!0,U.then(()=>ue(be)&&_e()),be},clearImmediate(_e){ue(_e)}};var Z=N(6465),P=N(6102);const j=new class extends P.v{flush(be){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let Me,st=-1,le=De.length;be=be||De.shift();do{if(Me=be.execute(be.state,be.delay))break}while(++st<le&&(be=De.shift()));if(this.active=!1,Me){for(;++st<le&&(be=De.shift());)be.unsubscribe();throw Me}}}(class extends Z.o{constructor(be,De){super(be,De),this.scheduler=be,this.work=De}requestAsyncId(be,De,Me=0){return null!==Me&&Me>0?super.requestAsyncId(be,De,Me):(be.actions.push(this),be.scheduled||(be.scheduled=z.setImmediate(be.flush.bind(be,null))))}recycleAsyncId(be,De,Me=0){if(null!==Me&&Me>0||null===Me&&this.delay>0)return super.recycleAsyncId(be,De,Me);0===be.actions.length&&(z.clearImmediate(De),be.scheduled=void 0)}});var W=N(9796);class ne extends d.y{constructor(be,De=0,Me=j){var _e;super(),this.source=be,this.delayTime=De,this.scheduler=Me,(!(!(0,W.k)(_e=De)&&_e-parseFloat(_e)+1>=0)||De<0)&&(this.delayTime=0),(!Me||"function"!=typeof Me.schedule)&&(this.scheduler=j)}static create(be,De=0,Me=j){return new ne(be,De,Me)}static dispatch(be){const{source:De,subscriber:Me}=be;return this.add(De.subscribe(Me))}_subscribe(be){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:be})}}function Ce(_e,be=0){return function(Me){return Me.lift(new ce(_e,be))}}class ce{constructor(be,De){this.scheduler=be,this.delay=De}call(be,De){return new ne(De,this.delay,this.scheduler).subscribe(be)}}},3342:(Oe,ye,N)=>{"use strict";N.d(ye,{b:()=>ee});var d=N(7393);function te(){}var U=N(9105);function ee(pe,Z,$){return function(B){return B.lift(new ue(pe,Z,$))}}class ue{constructor(Z,$,P){this.nextOrObserver=Z,this.error=$,this.complete=P}call(Z,$){return $.subscribe(new z(Z,this.nextOrObserver,this.error,this.complete))}}class z extends d.L{constructor(Z,$,P,B){super(Z),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=P||te,this._tapComplete=B||te,(0,U.m)($)?(this._context=this,this._tapNext=$):$&&(this._context=$,this._tapNext=$.next||te,this._tapError=$.error||te,this._tapComplete=$.complete||te)}_next(Z){try{this._tapNext.call(this._context,Z)}catch($){return void this.destination.error($)}this.destination.next(Z)}_error(Z){try{this._tapError.call(this._context,Z)}catch($){return void this.destination.error($)}this.destination.error(Z)}_complete(){try{this._tapComplete.call(this._context)}catch(Z){return void this.destination.error(Z)}return this.destination.complete()}}},4087:(Oe,ye,N)=>{"use strict";N.d(ye,{r:()=>U});var d=N(7574),te=N(5319);function U(ee,ue){return new d.y(z=>{const pe=new te.w;let Z=0;return pe.add(ue.schedule(function(){Z!==ee.length?(z.next(ee[Z++]),z.closed||pe.add(this.schedule())):z.complete()})),pe})}},6465:(Oe,ye,N)=>{"use strict";N.d(ye,{o:()=>U});var d=N(5319);class te extends d.w{constructor(ue,z){super()}schedule(ue,z=0){return this}}class U extends te{constructor(ue,z){super(ue,z),this.scheduler=ue,this.work=z,this.pending=!1}schedule(ue,z=0){if(this.closed)return this;this.state=ue;const pe=this.id,Z=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(Z,pe,z)),this.pending=!0,this.delay=z,this.id=this.id||this.requestAsyncId(Z,this.id,z),this}requestAsyncId(ue,z,pe=0){return setInterval(ue.flush.bind(ue,this),pe)}recycleAsyncId(ue,z,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return z;clearInterval(z)}execute(ue,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ue,z);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,z){let Z,pe=!1;try{this.work(ue)}catch($){pe=!0,Z=!!$&&$||new Error($)}if(pe)return this.unsubscribe(),Z}_unsubscribe(){const ue=this.id,z=this.scheduler,pe=z.actions,Z=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Z&&pe.splice(Z,1),null!=ue&&(this.id=this.recycleAsyncId(z,ue,null)),this.delay=null}}},6102:(Oe,ye,N)=>{"use strict";N.d(ye,{v:()=>te});let d=(()=>{class U{constructor(ue,z=U.now){this.SchedulerAction=ue,this.now=z}schedule(ue,z=0,pe){return new this.SchedulerAction(this,ue).schedule(pe,z)}}return U.now=()=>Date.now(),U})();class te extends d{constructor(ee,ue=d.now){super(ee,()=>te.delegate&&te.delegate!==this?te.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ee,ue=0,z){return te.delegate&&te.delegate!==this?te.delegate.schedule(ee,ue,z):super.schedule(ee,ue,z)}flush(ee){const{actions:ue}=this;if(this.active)return void ue.push(ee);let z;this.active=!0;do{if(z=ee.execute(ee.state,ee.delay))break}while(ee=ue.shift());if(this.active=!1,z){for(;ee=ue.shift();)ee.unsubscribe();throw z}}}},3637:(Oe,ye,N)=>{"use strict";N.d(ye,{z:()=>U});var d=N(6465);const U=new(N(6102).v)(d.o)},7771:(Oe,ye,N)=>{"use strict";N.d(ye,{c:()=>z,N:()=>ue});var d=N(6465),U=N(6102);const ue=new class extends U.v{}(class extends d.o{constructor(Z,$){super(Z,$),this.scheduler=Z,this.work=$}schedule(Z,$=0){return $>0?super.schedule(Z,$):(this.delay=$,this.state=Z,this.scheduler.flush(this),this)}execute(Z,$){return $>0||this.closed?super.execute(Z,$):this._execute(Z,$)}requestAsyncId(Z,$,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(Z,$,P):Z.flush(this)}}),z=ue},377:(Oe,ye,N)=>{"use strict";N.d(ye,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Oe,ye,N)=>{"use strict";N.d(ye,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Oe,ye,N)=>{"use strict";N.d(ye,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Oe,ye,N)=>{"use strict";N.d(ye,{N:()=>te});const te=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(Oe,ye,N)=>{"use strict";function d(te){setTimeout(()=>{throw te},0)}N.d(ye,{z:()=>d})},4487:(Oe,ye,N)=>{"use strict";function d(te){return te}N.d(ye,{y:()=>d})},9796:(Oe,ye,N)=>{"use strict";N.d(ye,{k:()=>d});const d=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Oe,ye,N)=>{"use strict";N.d(ye,{z:()=>d});const d=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(Oe,ye,N)=>{"use strict";function d(te){return"function"==typeof te}N.d(ye,{m:()=>d})},1555:(Oe,ye,N)=>{"use strict";function d(te){return null!==te&&"object"==typeof te}N.d(ye,{K:()=>d})},4072:(Oe,ye,N)=>{"use strict";function d(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}N.d(ye,{t:()=>d})},4869:(Oe,ye,N)=>{"use strict";function d(te){return te&&"function"==typeof te.schedule}N.d(ye,{K:()=>d})},7444:(Oe,ye,N)=>{"use strict";N.d(ye,{s:()=>B});var d=N(5015),te=N(4449),ee=N(377),z=N(6554),Z=N(9489),$=N(4072),P=N(1555);const B=O=>{if(O&&"function"==typeof O[z.L])return(O=>j=>{const W=O[z.L]();if("function"!=typeof W.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return W.subscribe(j)})(O);if((0,Z.z)(O))return(0,d.V)(O);if((0,$.t)(O))return(O=>j=>(O.then(W=>{j.closed||(j.next(W),j.complete())},W=>j.error(W)).then(null,te.z),j))(O);if(O&&"function"==typeof O[ee.hZ])return(O=>j=>{const W=O[ee.hZ]();for(;;){let re;try{re=W.next()}catch(ne){return j.error(ne),j}if(re.done){j.complete();break}if(j.next(re.value),j.closed)break}return"function"==typeof W.return&&j.add(()=>{W.return&&W.return()}),j})(O);{const W=`You provided ${(0,P.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(W)}}},5015:(Oe,ye,N)=>{"use strict";N.d(ye,{V:()=>d});const d=te=>U=>{for(let ee=0,ue=te.length;ee<ue&&!U.closed;ee++)U.next(te[ee]);U.complete()}},3376:(Oe,ye,N)=>{"use strict";var d=N(7716);let te=null;function U(){return te}const pe=new d.OlP("DocumentToken");let Z=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:$,token:i,providedIn:"platform"}),i})();function $(){return(0,d.LFG)(B)}const P=new d.OlP("Location Initialized");let B=(()=>{class i extends Z{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(e){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,u){O()?this._history.pushState(e,o,u):this.location.hash=u}replaceState(e,o,u){O()?this._history.replaceState(e,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(pe))},i.\u0275prov=(0,d.Yz7)({factory:j,token:i,providedIn:"platform"}),i})();function O(){return!!window.history.pushState}function j(){return new B((0,d.LFG)(pe))}function W(i,r){if(0==i.length)return r;if(0==r.length)return i;let e=0;return i.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?i+r.substring(1):1==e?i+r:i+"/"+r}function re(i){const r=i.match(/#|\?|$/),e=r&&r.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ne(i){return i&&"?"!==i[0]?"?"+i:i}let Ce=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:ce,token:i,providedIn:"root"}),i})();function ce(i){const r=(0,d.LFG)(pe).location;return new be((0,d.LFG)(Z),r&&r.origin||"")}const _e=new d.OlP("appBaseHref");let be=(()=>{class i extends Ce{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return W(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ne(this._platformLocation.search),u=this._platformLocation.hash;return u&&e?`${o}${u}`:o}pushState(e,o,u,f){const _=this.prepareExternalUrl(u+ne(f));this._platformLocation.pushState(e,o,_)}replaceState(e,o,u,f){const _=this.prepareExternalUrl(u+ne(f));this._platformLocation.replaceState(e,o,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Z),d.LFG(_e,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),De=(()=>{class i extends Ce{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=W(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,u,f){let _=this.prepareExternalUrl(u+ne(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.pushState(e,o,_)}replaceState(e,o,u,f){let _=this.prepareExternalUrl(u+ne(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Z),d.LFG(_e,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Me=(()=>{class i{constructor(e,o){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=re(vt(u)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ne(o))}normalize(e){return i.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,vt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",u=null){this._platformStrategy.pushState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(o)),u)}replaceState(e,o="",u=null){this._platformStrategy.replaceState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(u=>u(e,o))}subscribe(e,o,u){return this._subject.subscribe({next:e,error:o,complete:u})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Ce),d.LFG(Z))},i.normalizeQueryParams=ne,i.joinWithSlash=W,i.stripTrailingSlash=re,i.\u0275prov=(0,d.Yz7)({factory:st,token:i,providedIn:"root"}),i})();function st(){return new Me((0,d.LFG)(Ce),(0,d.LFG)(Z))}function vt(i){return i.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Zero=0]="Zero",X[X.One=1]="One",X[X.Two=2]="Two",X[X.Few=3]="Few",X[X.Many=4]="Many",X[X.Other=5]="Other",X))();const wr=d.kL8;class oi{}let Yo=(()=>{class i extends oi{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(wr(o||this.locale)(e)){case X.Zero:return"zero";case X.One:return"one";case X.Two:return"two";case X.Few:return"few";case X.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.soG))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),ec=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:oi,useClass:Yo}]}),i})(),fl=(()=>{class i{}return i.\u0275prov=(0,d.Yz7)({token:i,providedIn:"root",factory:()=>new tc((0,d.LFG)(pe),window)}),i})();class tc{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function(i,r){const e=i.getElementById(r)||i.getElementsByName(r)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const f=u.shadowRoot;if(f){const _=f.getElementById(r)||f.querySelector(`[name="${r}"]`);if(_)return _}u=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,u=e.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(o-f[0],u-f[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=pl(this.window.history)||pl(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function pl(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class ml extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new ml,te||(te=i)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=(us=us||document.querySelector("base"),us?us.getAttribute("href"):null);return null==e?null:function(i){Ut=Ut||document.createElement("a"),Ut.setAttribute("href",i);const r=Ut.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(i,r){r=encodeURIComponent(r);for(const e of i.split(";")){const o=e.indexOf("="),[u,f]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(u.trim()===r)return decodeURIComponent(f)}return null}(document.cookie,r)}}let Ut,us=null;const _l=new d.OlP("TRANSITION_ID"),Xn=[{provide:d.ip1,useFactory:function(i,r,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const o=U(),u=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<u.length;f++)o.remove(u[f])})}},deps:[_l,pe,d.zs3],multi:!0}];class ta{static init(){(0,d.VLi)(new ta)}addToWindow(r){d.dqk.getAngularTestability=(o,u=!0)=>{const f=r.findTestabilityInTree(o,u);if(null==f)throw new Error("Could not find testability for element.");return f},d.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(o=>{const u=d.dqk.getAllAngularTestabilities();let f=u.length,_=!1;const E=function(I){_=_||I,f--,0==f&&o(_)};u.forEach(function(I){I.whenStable(E)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const u=r.getTestability(e);return null!=u?u:o?U().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let yl=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const cs=new d.OlP("EventManagerPlugins");let ve=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,u){return this._findPluginFor(o).addEventListener(e,o,u)}addGlobalEventListener(e,o,u){return this._findPluginFor(o).addGlobalEventListener(e,o,u)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const u=this._plugins;for(let f=0;f<u.length;f++){const _=u[f];if(_.supports(e))return this._eventNameToPlugin.set(e,_),_}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(cs),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class dt{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const u=U().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,o)}}let uc=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Ft=(()=>{class i extends uc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,u){e.forEach(f=>{const _=this._doc.createElement("style");_.textContent=f,u.push(o.appendChild(_))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(cc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(e,u,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(cc))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(pe))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function cc(i){U().remove(i)}const ds={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gn=/%COMP%/g;function sn(i,r,e){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?sn(i,u,e):(u=u.replace(Gn,i),e.push(u))}return e}function Rr(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let Fi=(()=>{class i{constructor(e,o,u){this.eventManager=e,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new tr(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case d.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new hc(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(e),u}case 1:case d.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const u=sn(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(ve),d.LFG(Ft),d.LFG(d.AFp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class tr{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,e){return e?document.createElementNS(ds[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,u){if(u){e=u+":"+e;const f=ds[u];f?r.setAttributeNS(f,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const u=ds[o];u?r.removeAttributeNS(u,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,u){u&(d.JOm.DashCase|d.JOm.Important)?r.style.setProperty(e,o,u&d.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&d.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,Rr(o)):this.eventManager.addEventListener(r,e,Rr(o))}}class hc extends tr{constructor(r,e,o,u){super(r),this.component=o;const f=sn(u+"-"+o.id,o.styles,[]);e.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(Gn,u+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(Gn,u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class fc extends tr{constructor(r,e,o,u){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=sn(u.id,u.styles,[]);for(let _=0;_<f.length;_++){const E=document.createElement("style");E.textContent=f[_],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let pc=(()=>{class i extends dt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,u){return e.addEventListener(o,u,!1),()=>this.removeEventListener(e,o,u)}removeEventListener(e,o,u){return e.removeEventListener(o,u)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(pe))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const ra=["alt","control","meta","shift"],K_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},On={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mc={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let ps=(()=>{class i extends dt{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,u){const f=i.parseEventName(o),_=i.eventCallback(f.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(e,f.domEventName,_))}static parseEventName(e){const o=e.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const f=i._normalizeKey(o.pop());let _="";if(ra.forEach(I=>{const T=o.indexOf(I);T>-1&&(o.splice(T,1),_+=I+".")}),_+=f,0!=o.length||0===f.length)return null;const E={};return E.domEventName=u,E.fullKey=_,E}static getEventFullKey(e){let o="",u=function(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&On.hasOwnProperty(r)&&(r=On[r]))}return K_[r]||r}(e);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),ra.forEach(f=>{f!=u&&mc[f](e)&&(o+=f+".")}),o+=u,o}static eventCallback(e,o,u){return f=>{i.getEventFullKey(f)===e&&u.runGuarded(()=>o(f))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(pe))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const oa=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){ml.makeCurrent(),ta.init()},multi:!0},{provide:pe,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Sh=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:cs,useClass:pc,multi:!0,deps:[pe,d.R0b,d.Lbi]},{provide:cs,useClass:ps,multi:!0,deps:[pe]},[],{provide:Fi,useClass:Fi,deps:[ve,Ft,d.AFp]},{provide:d.FYo,useExisting:Fi},{provide:uc,useExisting:Ft},{provide:Ft,useClass:Ft,deps:[pe]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:ve,useClass:ve,deps:[cs,d.R0b]},{provide:class{},useClass:yl,deps:[]},[]];let Al=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:d.AFp,useValue:e.appId},{provide:_l,useExisting:d.AFp},Xn]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(i,12))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:Sh,imports:[ec,d.hGG]}),i})();"undefined"!=typeof window&&window;var Ml=N(4762),jt=N(4402),zn=N(7574),da=N(9796),at=N(8002);N(1555);let Lc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),$t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Lc]]}),i})(),af=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[$t]}),i})();var Ze=N(5917),an=N(9765),Ao=N(7971);class gr extends an.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const e=super._subscribe(r);return e&&!e.closed&&r.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ao.N;return this._value}next(r){super.next(this._value=r)}}var mg=N(4869),mr=N(7393);class Gi extends mr.L{notifyNext(r,e,o,u,f){this.destination.next(e)}notifyError(r,e){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class kn extends mr.L{constructor(r,e,o){super(),this.parent=r,this.outerValue=e,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ql=N(7444);function Zc(i,r,e,o,u=new kn(i,e,o)){if(!u.closed)return r instanceof zn.y?r.subscribe(u):(0,ql.s)(r)(u)}var fi=N(6693);const pn={};class qc{constructor(r){this.resultSelector=r}call(r,e){return e.subscribe(new _g(r,this.resultSelector))}}class _g extends Gi{constructor(r,e){super(r),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(pn),this.observables.push(r)}_complete(){const r=this.observables,e=r.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(Zc(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,e,o){const u=this.values,_=this.toRespond?u[o]===pn?--this.toRespond:this.toRespond:0;u[o]=e,0===_&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(r){let e;try{e=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const gn=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var So=N(3282);function Ia(...i){return(0,So.J)(1)((0,Ze.of)(...i))}var pi=N(9193);function Wr(i){return new zn.y(r=>{let e;try{e=i()}catch(u){return void r.error(u)}return(e?(0,jt.D)(e):(0,pi.c)()).subscribe(r)})}var Da=N(2441),Ns=N(5345);function un(i,r){return"function"==typeof r?e=>e.pipe(un((o,u)=>(0,jt.D)(i(o,u)).pipe((0,at.U)((f,_)=>r(o,f,u,_))))):e=>e.lift(new Ta(i))}class Ta{constructor(r){this.project=r}call(r,e){return e.subscribe(new cf(r,this.project))}}class cf extends Ns.Ds{constructor(r,e){super(r),this.project=e,this.index=0}_next(r){let e;const o=this.index++;try{e=this.project(r,o)}catch(u){return void this.destination.error(u)}this._innerSub(e)}_innerSub(r){const e=this.innerSubscription;e&&e.unsubscribe();const o=new Ns.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,Ns.ft)(r,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const vg=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Aa(i){return r=>0===i?(0,pi.c)():r.lift(new y(i))}class y{constructor(r){if(this.total=r,this.total<0)throw new vg}call(r,e){return e.subscribe(new h(r,this.total))}}class h extends mr.L{constructor(r,e){super(r),this.total=e,this.count=0}_next(r){const e=this.total,o=++this.count;o<=e&&(this.destination.next(r),o===e&&(this.destination.complete(),this.unsubscribe()))}}function v(i,r){let e=!1;return arguments.length>=2&&(e=!0),function(u){return u.lift(new D(i,r,e))}}class D{constructor(r,e,o=!1){this.accumulator=r,this.seed=e,this.hasSeed=o}call(r,e){return e.subscribe(new S(r,this.accumulator,this.seed,this.hasSeed))}}class S extends mr.L{constructor(r,e,o,u){super(r),this.accumulator=e,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const e=this.index++;let o;try{o=this.accumulator(this.seed,r,e)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}function G(i,r){return function(o){return o.lift(new he(i,r))}}class he{constructor(r,e){this.predicate=r,this.thisArg=e}call(r,e){return e.subscribe(new Se(r,this.predicate,this.thisArg))}}class Se extends mr.L{constructor(r,e,o){super(r),this.predicate=e,this.thisArg=o,this.count=0}_next(r){let e;try{e=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(r)}}function Ne(i){return function(e){const o=new Ve(i),u=e.lift(o);return o.caught=u}}class Ve{constructor(r){this.selector=r}call(r,e){return e.subscribe(new He(r,this.selector,this.caught))}}class He extends Ns.Ds{constructor(r,e,o){super(r),this.selector=e,this.caught=o}error(r){if(!this.isStopped){let e;try{e=this.selector(r,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const o=new Ns.IY(this);this.add(o);const u=(0,Ns.ft)(e,o);u!==o&&this.add(u)}}}var Et=N(9773);function Fn(i,r){return(0,Et.zg)(i,r,1)}function Ps(i){return function(e){return 0===i?(0,pi.c)():e.lift(new Cg(i))}}class Cg{constructor(r){if(this.total=r,this.total<0)throw new vg}call(r,e){return e.subscribe(new Kl(r,this.total))}}class Kl extends mr.L{constructor(r,e){super(r),this.total=e,this.ring=new Array,this.count=0}_next(r){const e=this.ring,o=this.total,u=this.count++;e.length<o?e.push(r):e[u%o]=r}_complete(){const r=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let f=0;f<o;f++){const _=e++%o;r.next(u[_])}}r.complete()}}function Yc(i=Os){return r=>r.lift(new df(i))}class df{constructor(r){this.errorFactory=r}call(r,e){return e.subscribe(new Kc(r,this.errorFactory))}}class Kc extends mr.L{constructor(r,e){super(r),this.errorFactory=e,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(e){r=e}this.destination.error(r)}}}function Os(){return new gn}function _r(i=null){return r=>r.lift(new hf(i))}class hf{constructor(r){this.defaultValue=r}call(r,e){return e.subscribe(new Eg(r,this.defaultValue))}}class Eg extends mr.L{constructor(r,e){super(r),this.defaultValue=e,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Qc=N(4487);function Tn(i,r){const e=arguments.length>=2;return o=>o.pipe(i?G((u,f)=>i(u,f,o)):Qc.y,Aa(1),e?_r(r):Yc(()=>new gn))}var sr=N(3342),bg=N(1307),ly=N(5319);class Jc{constructor(r){this.callback=r}call(r,e){return e.subscribe(new cy(r,this.callback))}}class cy extends mr.L{constructor(r,e){super(r),this.add(new ly.w(e))}}class zi{constructor(r,e){this.id=r,this.url=e}}class Xc extends zi{constructor(r,e,o="imperative",u=null){super(r,e),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sa extends zi{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wg extends zi{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sD extends zi{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ql extends zi{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ig extends zi{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dy extends zi{constructor(r,e,o,u,f){super(r,e),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nb extends zi{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dg extends zi{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hy{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fy{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rb{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ib{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sb{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ob{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tg{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class py{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ro(i){return new py(i)}const gy="ngNavigationCancelingError";function Ag(i){const r=Error("NavigationCancelingError: "+i);return r[gy]=!0,r}function _y(i,r,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<i.length))return null;const u={};for(let f=0;f<o.length;f++){const _=o[f],E=i[f];if(_.startsWith(":"))u[_.substring(1)]=E;else if(_!==E.path)return null}return{consumed:i.slice(0,o.length),posParams:u}}function gi(i,r){const e=i?Object.keys(i):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let u;for(let f=0;f<e.length;f++)if(u=e[f],!Sg(i[u],r[u]))return!1;return!0}function Sg(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const e=[...i].sort(),o=[...r].sort();return e.every((u,f)=>o[f]===u)}return i===r}function yy(i){return Array.prototype.concat.apply([],i)}function ed(i){return i.length>0?i[i.length-1]:null}function An(i,r){for(const e in i)i.hasOwnProperty(e)&&r(i[e],e)}function mi(i){return(0,d.CqO)(i)?i:(0,d.QGY)(i)?(0,jt.D)(Promise.resolve(i)):(0,Ze.of)(i)}const Rg={exact:function Ng(i,r,e){if(!No(i.segments,r.segments)||!Mo(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!i.children[o]||!Ng(i.children[o],r.children[o],e))return!1;return!0},subset:Og},Mg={exact:function(i,r){return gi(i,r)},subset:function(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>Sg(i[e],r[e]))},ignored:()=>!0};function td(i,r,e){return Rg[e.paths](i.root,r.root,e.matrixParams)&&Mg[e.queryParams](i.queryParams,r.queryParams)&&!("exact"===e.fragment&&i.fragment!==r.fragment)}function Og(i,r,e){return gf(i,r,r.segments,e)}function gf(i,r,e,o){if(i.segments.length>e.length){const u=i.segments.slice(0,e.length);return!(!No(u,e)||r.hasChildren()||!Mo(u,e,o))}if(i.segments.length===e.length){if(!No(i.segments,e)||!Mo(i.segments,e,o))return!1;for(const u in r.children)if(!i.children[u]||!Og(i.children[u],r.children[u],o))return!1;return!0}{const u=e.slice(0,i.segments.length),f=e.slice(i.segments.length);return!!(No(i.segments,u)&&Mo(i.segments,u,o)&&i.children[ht])&&gf(i.children[ht],r,f,o)}}function Mo(i,r,e){return r.every((o,u)=>Mg[e](i[u].parameters,o.parameters))}class Ma{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ro(this.queryParams)),this._queryParamMap}toString(){return Cy.serialize(this)}}class yt{constructor(r,e){this.segments=r,this.children=e,this.parent=null,An(e,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _f(this)}}class nd{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ro(this.parameters)),this._parameterMap}toString(){return wy(this)}}function No(i,r){return i.length===r.length&&i.every((e,o)=>e.path===r[o].path)}class mf{}class lb{parse(r){const e=new Ty(r);return new Ma(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){var i;return`${`/${Jl(r.root,!0)}`}${function(i){const r=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(u=>`${yf(e)}=${yf(u)}`).join("&"):`${yf(e)}=${yf(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${i=r.fragment,encodeURI(i)}`:""}`}}const Cy=new lb;function _f(i){return i.segments.map(r=>wy(r)).join("/")}function Jl(i,r){if(!i.hasChildren())return _f(i);if(r){const e=i.children[ht]?Jl(i.children[ht],!1):"",o=[];return An(i.children,(u,f)=>{f!==ht&&o.push(`${f}:${Jl(u,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,r){let e=[];return An(i.children,(o,u)=>{u===ht&&(e=e.concat(r(o,u)))}),An(i.children,(o,u)=>{u!==ht&&(e=e.concat(r(o,u)))}),e}(i,(o,u)=>u===ht?[Jl(i.children[ht],!1)]:[`${u}:${Jl(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[ht]?`${_f(i)}/${e[0]}`:`${_f(i)}/(${e.join("//")})`}}function Ey(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yf(i){return Ey(i).replace(/%3B/gi,";")}function kg(i){return Ey(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rd(i){return decodeURIComponent(i)}function by(i){return rd(i.replace(/\+/g,"%20"))}function wy(i){return`${kg(i.path)}${function(i){return Object.keys(i).map(r=>`;${kg(r)}=${kg(i[r])}`).join("")}(i.parameters)}`}const Iy=/^[^\/()?;=#]+/;function vf(i){const r=i.match(Iy);return r?r[0]:""}const db=/^[^=?&#]+/,nt=/^[^?&#]+/;class Ty{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[ht]=new yt(r,e)),o}parseSegment(){const r=vf(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new nd(rd(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=vf(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const u=vf(this.remaining);u&&(o=u,this.capture(o))}r[rd(e)]=rd(o)}parseQueryParam(r){const e=function(i){const r=i.match(db);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const _=function(i){const r=i.match(nt);return r?r[0]:""}(this.remaining);_&&(o=_,this.capture(o))}const u=by(e),f=by(o);if(r.hasOwnProperty(u)){let _=r[u];Array.isArray(_)||(_=[_],r[u]=_),_.push(f)}else r[u]=f}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=vf(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let f;o.indexOf(":")>-1?(f=o.substr(0,o.indexOf(":")),this.capture(f),this.capture(":")):r&&(f=ht);const _=this.parseChildren();e[f]=1===Object.keys(_).length?_[ht]:new yt([],_),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class id{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=Or(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=Or(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=Cf(r,this._root);return e.length<2?[]:e[e.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return Cf(r,this._root).map(e=>e.value)}}function Or(i,r){if(i===r.value)return r;for(const e of r.children){const o=Or(i,e);if(o)return o}return null}function Cf(i,r){if(i===r.value)return[r];for(const e of r.children){const o=Cf(i,e);if(o.length)return o.unshift(r),o}return[]}class xs{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Na(i){const r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}class Zi extends id{constructor(r,e){super(r),this.snapshot=e,Xl(this,r)}toString(){return this.snapshot.toString()}}function Ef(i,r){const e=function(i,r){const _=new Fg([],{},{},"",{},ht,r,null,i.root,-1,{});return new qi("",new xs(_,[]))}(i,r),o=new gr([new nd("",{})]),u=new gr({}),f=new gr({}),_=new gr({}),E=new gr(""),I=new Po(o,u,_,E,f,ht,r,e.root);return I.snapshot=e.root,new Zi(new xs(I,[]),e)}class Po{constructor(r,e,o,u,f,_,E,I){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=_,this.component=E,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(r=>Ro(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(r=>Ro(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fb(i,r="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const u=e[o],f=e[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(f.component)break;o--}}return function(i){return i.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Fg{constructor(r,e,o,u,f,_,E,I,T,x,V){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=_,this.component=E,this.routeConfig=I,this._urlSegment=T,this._lastPathIndex=x,this._resolve=V}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ro(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ro(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qi extends id{constructor(r,e){super(e),this.url=r,Xl(this,e)}toString(){return sd(this._root)}}function Xl(i,r){r.value._routerState=i,r.children.forEach(e=>Xl(i,e))}function sd(i){const r=i.children.length>0?` { ${i.children.map(sd).join(", ")} } `:"";return`${i.value}${r}`}function od(i){if(i.snapshot){const r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,gi(r.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),r.fragment!==e.fragment&&i.fragment.next(e.fragment),gi(r.params,e.params)||i.params.next(e.params),function(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!gi(i[e],r[e]))return!1;return!0}(r.url,e.url)||i.url.next(e.url),gi(r.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Ry(i,r){return gi(i.params,r.params)&&function(i,r){return No(i,r)&&i.every((e,o)=>gi(e.parameters,r[o].parameters))}(i.url,r.url)&&!(!i.parent!=!r.parent)&&(!i.parent||Ry(i.parent,r.parent))}function ad(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const u=function(i,r,e){return r.children.map(o=>{for(const u of e.children)if(i.shouldReuseRoute(o.value,u.value.snapshot))return ad(i,o,u);return ad(i,o)})}(i,r,e);return new xs(o,u)}{if(i.shouldAttach(r.value)){const f=i.retrieve(r.value);if(null!==f){const _=f.route;return gb(r,_),_}}const o=function(i){return new Po(new gr(i.url),new gr(i.params),new gr(i.queryParams),new gr(i.fragment),new gr(i.data),i.outlet,i.component,i)}(r.value),u=r.children.map(f=>ad(i,f));return new xs(o,u)}}function gb(i,r){if(i.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)gb(i.children[e],r.children[e])}function ld(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function ud(i){return"object"==typeof i&&null!=i&&i.outlets}function cd(i,r,e,o,u){let f={};return o&&An(o,(_,E)=>{f[E]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),new Ma(e.root===i?r:_b(e.root,i,r),f,u)}function _b(i,r,e){const o={};return An(i.children,(u,f)=>{o[f]=u===r?e:_b(u,r,e)}),new yt(i.segments,o)}class yb{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&ld(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(ud);if(u&&u!==ed(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ny{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function vb(i,r,e){if(i||(i=new yt([],{})),0===i.segments.length&&i.hasChildren())return Lg(i,r,e);const o=function(i,r,e){let o=0,u=r;const f={match:!1,pathIndex:0,commandIndex:0};for(;u<i.segments.length;){if(o>=e.length)return f;const _=i.segments[u],E=e[o];if(ud(E))break;const I=`${E}`,T=o<e.length-1?e[o+1]:null;if(u>0&&void 0===I)break;if(I&&T&&"object"==typeof T&&void 0===T.outlets){if(!Oy(I,T,_))return f;o+=2}else{if(!Oy(I,{},_))return f;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(i,r,e),u=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const f=new yt(i.segments.slice(0,o.pathIndex),{});return f.children[ht]=new yt(i.segments.slice(o.pathIndex),i.children),Lg(f,0,u)}return o.match&&0===u.length?new yt(i.segments,{}):o.match&&!i.hasChildren()?Py(i,r,e):o.match?Lg(i,0,u):Py(i,r,e)}function Lg(i,r,e){if(0===e.length)return new yt(i.segments,{});{const o=function(i){return ud(i[0])?i[0].outlets:{[ht]:i}}(e),u={};return An(o,(f,_)=>{"string"==typeof f&&(f=[f]),null!==f&&(u[_]=vb(i.children[_],r,f))}),An(i.children,(f,_)=>{void 0===o[_]&&(u[_]=f)}),new yt(i.segments,u)}}function Py(i,r,e){const o=i.segments.slice(0,r);let u=0;for(;u<e.length;){const f=e[u];if(ud(f)){const I=Oo(f.outlets);return new yt(o,I)}if(0===u&&ld(e[0])){o.push(new nd(i.segments[r].path,bf(e[0]))),u++;continue}const _=ud(f)?f.outlets[ht]:`${f}`,E=u<e.length-1?e[u+1]:null;_&&E&&ld(E)?(o.push(new nd(_,bf(E))),u+=2):(o.push(new nd(_,{})),u++)}return new yt(o,{})}function Oo(i){const r={};return An(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=Py(new yt([],{}),0,e))}),r}function bf(i){const r={};return An(i,(e,o)=>r[o]=`${e}`),r}function Oy(i,r,e){return i==e.path&&gi(r,e.parameters)}class Vg{constructor(r,e,o,u){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=u}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),od(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const u=Na(e);r.children.forEach(f=>{const _=f.value.outlet;this.deactivateRoutes(f,u[_],o),delete u[_]}),An(u,(f,_)=>{this.deactivateRouteAndItsChildren(f,o)})}deactivateRoutes(r,e,o){const u=r.value,f=e?e.value:null;if(u===f)if(u.component){const _=o.getContext(u.outlet);_&&this.deactivateChildRoutes(r,e,_.children)}else this.deactivateChildRoutes(r,e,o);else f&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),f=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:f})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),u=o&&r.value.component?o.children:e,f=Na(r);for(const _ of Object.keys(f))this.deactivateRouteAndItsChildren(f[_],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const u=Na(e);r.children.forEach(f=>{this.activateRoutes(f,u[f.value.outlet],o),this.forwardEvent(new ob(f.value.snapshot))}),r.children.length&&this.forwardEvent(new ib(r.value.snapshot))}activateRoutes(r,e,o){const u=r.value,f=e?e.value:null;if(od(u),u===f)if(u.component){const _=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,e,_.children)}else this.activateChildRoutes(r,e,o);else if(u.component){const _=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const E=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),_.children.onOutletReAttached(E.contexts),_.attachRef=E.componentRef,_.route=E.route.value,_.outlet&&_.outlet.attach(E.componentRef,E.route.value),Ug(E.route)}else{const E=function(i){for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(u.snapshot),I=E?E.module.componentFactoryResolver:null;_.attachRef=null,_.route=u,_.resolver=I,_.outlet&&_.outlet.activateWith(u,I),this.activateChildRoutes(r,null,_.children)}}else this.activateChildRoutes(r,null,o)}}function Ug(i){od(i.value),i.children.forEach(Ug)}class jg{constructor(r,e){this.routes=r,this.module=e}}function or(i){return"function"==typeof i}function Pa(i){return i instanceof Ma}const dd=Symbol("INITIAL_VALUE");function hd(){return un(i=>function(...i){let r,e;return(0,mg.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,da.k)(i[0])&&(i=i[0]),(0,fi.n)(i,e).lift(new qc(r))}(i.map(r=>r.pipe(Aa(1),function(...i){const r=i[i.length-1];return(0,mg.K)(r)?(i.pop(),e=>Ia(i,e,r)):e=>Ia(i,e)}(dd)))).pipe(v((r,e)=>{let o=!1;return e.reduce((u,f,_)=>u!==dd?u:(f===dd&&(o=!0),o||!1!==f&&_!==e.length-1&&!Pa(f)?u:f),r)},dd),G(r=>r!==dd),(0,at.U)(r=>Pa(r)?r:!0===r),Aa(1)))}let eu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&d._UZ(0,"router-outlet")},directives:function(){return[nv]},encapsulation:2}),i})();function Oa(i,r=""){for(let e=0;e<i.length;e++){const o=i[e];$g(o,tu(r,o))}}function $g(i,r){i.children&&Oa(i.children,r)}function tu(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function xa(i){const r=i.children&&i.children.map(xa),e=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==ht&&(e.component=eu),e}function Ln(i){return i.outlet||ht}function Ly(i,r){const e=i.filter(o=>Ln(o)===r);return e.push(...i.filter(o=>Ln(o)!==r)),e}const Wg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function fd(i,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},Wg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(r.matcher||_y)(e,i,r);if(!f)return Object.assign({},Wg);const _={};An(f.posParams,(I,T)=>{_[T]=I.path});const E=f.consumed.length>0?Object.assign(Object.assign({},_),f.consumed[f.consumed.length-1].parameters):_;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:E,positionalParamSegments:null!==(o=f.posParams)&&void 0!==o?o:{}}}function nu(i,r,e,o,u="corrected"){if(e.length>0&&function(i,r,e){return e.some(o=>pd(i,r,o)&&Ln(o)!==ht)}(i,e,o)){const _=new yt(r,function(i,r,e,o){const u={};u[ht]=o,o._sourceSegment=i,o._segmentIndexShift=r.length;for(const f of e)if(""===f.path&&Ln(f)!==ht){const _=new yt([],{});_._sourceSegment=i,_._segmentIndexShift=r.length,u[Ln(f)]=_}return u}(i,r,o,new yt(e,i.children)));return _._sourceSegment=i,_._segmentIndexShift=r.length,{segmentGroup:_,slicedSegments:[]}}if(0===e.length&&function(i,r,e){return e.some(o=>pd(i,r,o))}(i,e,o)){const _=new yt(i.segments,function(i,r,e,o,u,f){const _={};for(const E of o)if(pd(i,e,E)&&!u[Ln(E)]){const I=new yt([],{});I._sourceSegment=i,I._segmentIndexShift="legacy"===f?i.segments.length:r.length,_[Ln(E)]=I}return Object.assign(Object.assign({},u),_)}(i,r,e,o,i.children,u));return _._sourceSegment=i,_._segmentIndexShift=r.length,{segmentGroup:_,slicedSegments:e}}const f=new yt(i.segments,i.children);return f._sourceSegment=i,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:e}}function pd(i,r,e){return(!(i.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function bb(i,r,e,o){return!!(Ln(i)===o||o!==ht&&pd(r,e,i))&&("**"===i.path||fd(r,i,e).matched)}function zg(i,r,e){return 0===r.length&&!i.children[e]}class ru{constructor(r){this.segmentGroup=r||null}}class Uy{constructor(r){this.urlTree=r}}function gd(i){return new zn.y(r=>r.error(new ru(i)))}function By(i){return new zn.y(r=>r.error(new Uy(i)))}function wb(i){return new zn.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class Db{constructor(r,e,o,u,f){this.configLoader=e,this.urlSerializer=o,this.urlTree=u,this.config=f,this.allowRedirects=!0,this.ngModule=r.get(d.h0i)}apply(){const r=nu(this.urlTree.root,[],[],this.config).segmentGroup,e=new yt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ht).pipe((0,at.U)(f=>this.createUrlTree(jy(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ne(f=>{if(f instanceof Uy)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof ru?this.noMatchError(f):f}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,ht).pipe((0,at.U)(u=>this.createUrlTree(jy(u),r.queryParams,r.fragment))).pipe(Ne(u=>{throw u instanceof ru?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const u=r.segments.length>0?new yt([],{[ht]:r}):r;return new Ma(u,e,o)}expandSegmentGroup(r,e,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,at.U)(f=>new yt([],f))):this.expandSegment(r,o,e,o.segments,u,!0)}expandChildren(r,e,o){const u=[];for(const f of Object.keys(o.children))"primary"===f?u.unshift(f):u.push(f);return(0,jt.D)(u).pipe(Fn(f=>{const _=o.children[f],E=Ly(e,f);return this.expandSegmentGroup(r,E,_,f).pipe((0,at.U)(I=>({segment:I,outlet:f})))}),v((f,_)=>(f[_.outlet]=_.segment,f),{}),function(i,r){const e=arguments.length>=2;return o=>o.pipe(i?G((u,f)=>i(u,f,o)):Qc.y,Ps(1),e?_r(r):Yc(()=>new gn))}())}expandSegment(r,e,o,u,f,_){return(0,jt.D)(o).pipe(Fn(E=>this.expandSegmentAgainstRoute(r,e,o,E,u,f,_).pipe(Ne(T=>{if(T instanceof ru)return(0,Ze.of)(null);throw T}))),Tn(E=>!!E),Ne((E,I)=>{if(E instanceof gn||"EmptyError"===E.name){if(zg(e,u,f))return(0,Ze.of)(new yt([],{}));throw new ru(e)}throw E}))}expandSegmentAgainstRoute(r,e,o,u,f,_,E){return bb(u,e,f,_)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,e,u,f,_):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,u,f,_):gd(e):gd(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,u,f,_){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,_):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,f,_)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,u){const f=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?By(f):this.lineralizeSegments(o,f).pipe((0,Et.zg)(_=>{const E=new yt(_,{});return this.expandSegment(r,E,e,_,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,f,_){const{matched:E,consumedSegments:I,lastChild:T,positionalParamSegments:x}=fd(e,u,f);if(!E)return gd(e);const V=this.applyRedirectCommands(I,u.redirectTo,x);return u.redirectTo.startsWith("/")?By(V):this.lineralizeSegments(u,V).pipe((0,Et.zg)(J=>this.expandSegment(r,e,o,J.concat(f.slice(T)),_,!1)))}matchSegmentAgainstRoute(r,e,o,u,f){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Ze.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,at.U)(J=>(o._loadedConfig=J,new yt(u,{})))):(0,Ze.of)(new yt(u,{}));const{matched:_,consumedSegments:E,lastChild:I}=fd(e,o,u);if(!_)return gd(e);const T=u.slice(I);return this.getChildConfig(r,o,u).pipe((0,Et.zg)(V=>{const J=V.module,fe=V.routes,{segmentGroup:we,slicedSegments:ze}=nu(e,E,T,fe),Ye=new yt(we.segments,we.children);if(0===ze.length&&Ye.hasChildren())return this.expandChildren(J,fe,Ye).pipe((0,at.U)(In=>new yt(E,In)));if(0===fe.length&&0===ze.length)return(0,Ze.of)(new yt(E,{}));const nn=Ln(o)===f;return this.expandSegment(J,Ye,fe,ze,nn?ht:f,!0).pipe((0,at.U)(wt=>new yt(E.concat(wt.segments),wt.children)))}))}getChildConfig(r,e,o){return e.children?(0,Ze.of)(new jg(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,Ze.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,Et.zg)(u=>{return u?this.configLoader.load(r.injector,e).pipe((0,at.U)(f=>(e._loadedConfig=f,f))):(i=e,new zn.y(r=>r.error(Ag(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Ze.of)(new jg([],r))}runCanLoadGuards(r,e,o){const u=e.canLoad;if(!u||0===u.length)return(0,Ze.of)(!0);const f=u.map(_=>{const E=r.get(_);let I;if((i=E)&&or(i.canLoad))I=E.canLoad(e,o);else{if(!or(E))throw new Error("Invalid CanLoad guard");I=E(e,o)}var i;return mi(I)});return(0,Ze.of)(f).pipe(hd(),(0,sr.b)(_=>{if(!Pa(_))return;const E=Ag(`Redirecting to "${this.urlSerializer.serialize(_)}"`);throw E.url=_,E}),(0,at.U)(_=>!0===_))}lineralizeSegments(r,e){let o=[],u=e.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,Ze.of)(o);if(u.numberOfChildren>1||!u.children[ht])return wb(r.redirectTo);u=u.children[ht]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,u){const f=this.createSegmentGroup(r,e.root,o,u);return new Ma(f,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return An(r,(u,f)=>{if("string"==typeof u&&u.startsWith(":")){const E=u.substring(1);o[f]=e[E]}else o[f]=u}),o}createSegmentGroup(r,e,o,u){const f=this.createSegments(r,e.segments,o,u);let _={};return An(e.children,(E,I)=>{_[I]=this.createSegmentGroup(r,E,o,u)}),new yt(f,_)}createSegments(r,e,o,u){return e.map(f=>f.path.startsWith(":")?this.findPosParam(r,f,u):this.findOrReturn(f,o))}findPosParam(r,e,o){const u=o[e.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return u}findOrReturn(r,e){let o=0;for(const u of e){if(u.path===r.path)return e.splice(o),u;o++}return r}}function jy(i){const r={};for(const o of Object.keys(i.children)){const f=jy(i.children[o]);(f.segments.length>0||f.hasChildren())&&(r[o]=f)}return function(i){if(1===i.numberOfChildren&&i.children[ht]){const r=i.children[ht];return new yt(i.segments.concat(r.segments),r.children)}return i}(new yt(i.segments,r))}class Tb{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class If{constructor(r,e){this.component=r,this.route=e}}function Zg(i,r,e){const o=i._root;return md(o,r?r._root:null,e,[o.value])}function Df(i,r,e){const o=function(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(i)}function md(i,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=Na(r);return i.children.forEach(_=>{(function(i,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=i.value,_=r?r.value:null,E=e?e.getContext(i.value.outlet):null;if(_&&f.routeConfig===_.routeConfig){const I=function(i,r,e){if("function"==typeof e)return e(i,r);switch(e){case"pathParamsChange":return!No(i.url,r.url);case"pathParamsOrQueryParamsChange":return!No(i.url,r.url)||!gi(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ry(i,r)||!gi(i.queryParams,r.queryParams);case"paramsChange":default:return!Ry(i,r)}}(_,f,f.routeConfig.runGuardsAndResolvers);I?u.canActivateChecks.push(new Tb(o)):(f.data=_.data,f._resolvedData=_._resolvedData),md(i,r,f.component?E?E.children:null:e,o,u),I&&E&&E.outlet&&E.outlet.isActivated&&u.canDeactivateChecks.push(new If(E.outlet.component,_))}else _&&iu(r,E,u),u.canActivateChecks.push(new Tb(o)),md(i,null,f.component?E?E.children:null:e,o,u)})(_,f[_.value.outlet],e,o.concat([_.value]),u),delete f[_.value.outlet]}),An(f,(_,E)=>iu(_,e.getContext(E),u)),u}function iu(i,r,e){const o=Na(i),u=i.value;An(o,(f,_)=>{iu(f,u.component?r?r.children.getContext(_):null:r,e)}),e.canDeactivateChecks.push(new If(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class Ob{}function xb(i){return new zn.y(r=>r.error(i))}class kb{constructor(r,e,o,u,f,_){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=_}recognize(){const r=nu(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,ht);if(null===e)return null;const o=new Fg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new xs(o,e),f=new qi(this.url,u);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(r){const e=r.value,o=fb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const f of Object.keys(e.children)){const _=e.children[f],E=Ly(r,f),I=this.processSegmentGroup(E,_,f);if(null===I)return null;o.push(...I)}const u=qy(o);return u.sort((r,e)=>r.value.outlet===ht?-1:e.value.outlet===ht?1:r.value.outlet.localeCompare(e.value.outlet)),u}processSegment(r,e,o,u){for(const f of r){const _=this.processSegmentAgainstRoute(f,e,o,u);if(null!==_)return _}return zg(e,o,u)?[]:null}processSegmentAgainstRoute(r,e,o,u){if(r.redirectTo||!bb(r,e,o,u))return null;let f,_=[],E=[];if("**"===r.path){const fe=o.length>0?ed(o).parameters:{};f=new Fg(o,fe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yy(r),Ln(r),r.component,r,_d(e),Tf(e)+o.length,Af(r))}else{const fe=fd(e,r,o);if(!fe.matched)return null;_=fe.consumedSegments,E=o.slice(fe.lastChild),f=new Fg(_,fe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yy(r),Ln(r),r.component,r,_d(e),Tf(e)+_.length,Af(r))}const I=(i=r).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:x}=nu(e,_,E,I.filter(fe=>void 0===fe.redirectTo),this.relativeLinkResolution);var i;if(0===x.length&&T.hasChildren()){const fe=this.processChildren(I,T);return null===fe?null:[new xs(f,fe)]}if(0===I.length&&0===x.length)return[new xs(f,[])];const V=Ln(r)===u,J=this.processSegment(I,T,x,V?ht:u);return null===J?null:[new xs(f,J)]}}function Yg(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function qy(i){const r=[],e=new Set;for(const o of i){if(!Yg(o)){r.push(o);continue}const u=r.find(f=>o.value.routeConfig===f.value.routeConfig);void 0!==u?(u.children.push(...o.children),e.add(u)):r.push(o)}for(const o of e){const u=qy(o.children);r.push(new xs(o.value,u))}return r.filter(o=>!e.has(o))}function _d(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Tf(i){let r=i,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function Yy(i){return i.data||{}}function Af(i){return i.resolve||{}}function Qy(i){return un(r=>{const e=i(r);return e?(0,jt.D)(e).pipe((0,at.U)(()=>r)):(0,Ze.of)(r)})}class Xy extends class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const Sf=new d.OlP("ROUTES");class Jg{constructor(r,e,o,u){this.loader=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const u=this.loadModuleFactory(e.loadChildren).pipe((0,at.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(e);const _=f.create(r);return new jg(yy(_.injector.get(Sf,void 0,d.XFs.Self|d.XFs.Optional)).map(xa),_)}),Ne(f=>{throw e._loader$=void 0,f}));return e._loader$=new Da.c(u,()=>new an.xQ).pipe((0,bg.x)()),e._loader$}loadModuleFactory(r){return"string"==typeof r?(0,jt.D)(this.loader.load(r)):mi(r()).pipe((0,Et.zg)(e=>e instanceof d.YKP?(0,Ze.of)(e):(0,jt.D)(this.compiler.compileModuleAsync(e))))}}class ev{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yr,this.attachRef=null}}class yr{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new ev,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}class jb{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function Hb(i){throw i}function mD(i,r,e){return r.parse("/")}function ka(i,r){return(0,Ze.of)(null)}const tv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cn=(()=>{class i{constructor(e,o,u,f,_,E,I,T){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=u,this.location=f,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new an.xQ,this.errorHandler=Hb,this.malformedUriErrorHandler=mD,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ka,afterPreactivation:ka},this.urlHandlingStrategy=new jb,this.routeReuseStrategy=new Xy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=_.get(d.h0i),this.console=_.get(d.c2e);const J=_.get(d.R0b);this.isNgZoneEnabled=J instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new Ma(new yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Jg(E,I,fe=>this.triggerEvent(new hy(fe)),fe=>this.triggerEvent(new fy(fe))),this.routerState=Ef(this.currentUrlTree,this.rootComponentType),this.transitions=new gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(G(u=>0!==u.id),(0,at.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),un(u=>{let f=!1,_=!1;return(0,Ze.of)(u).pipe((0,sr.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),un(E=>{const I=!this.navigated||E.extractedUrl.toString()!==this.browserUrlTree.toString(),T=("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl);if(su(E.source)&&(this.browserUrlTree=E.rawUrl),T)return(0,Ze.of)(E).pipe(un(x=>{const V=this.transitions.getValue();return o.next(new Xc(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?pi.E:Promise.resolve(x)}),function(i,r,e,o){return un(u=>function(i,r,e,o,u){return new Db(i,r,e,o,u).apply()}(i,r,e,u.extractedUrl,o).pipe((0,at.U)(f=>Object.assign(Object.assign({},u),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,sr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(i,r,e,o,u){return(0,Et.zg)(f=>function(i,r,e,o,u="emptyOnly",f="legacy"){try{const _=new kb(i,r,e,o,u,f).recognize();return null===_?xb(new Ob):(0,Ze.of)(_)}catch(_){return xb(_)}}(i,r,f.urlAfterRedirects,e(f.urlAfterRedirects),o,u).pipe((0,at.U)(_=>Object.assign(Object.assign({},f),{targetSnapshot:_}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,sr.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const V=new Ql(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(V)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:J,source:fe,restoredState:we,extras:ze}=E,Ye=new Xc(V,this.serializeUrl(J),fe,we);o.next(Ye);const nn=Ef(J,this.rootComponentType).snapshot;return(0,Ze.of)(Object.assign(Object.assign({},E),{targetSnapshot:nn,urlAfterRedirects:J,extras:Object.assign(Object.assign({},ze),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,this.browserUrlTree=E.urlAfterRedirects,E.resolve(null),pi.E}),Qy(E=>{const{targetSnapshot:I,id:T,extractedUrl:x,rawUrl:V,extras:{skipLocationChange:J,replaceUrl:fe}}=E;return this.hooks.beforePreactivation(I,{navigationId:T,appliedUrlTree:x,rawUrlTree:V,skipLocationChange:!!J,replaceUrl:!!fe})}),(0,sr.b)(E=>{const I=new Ig(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),(0,at.U)(E=>Object.assign(Object.assign({},E),{guards:Zg(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function(i,r){return(0,Et.zg)(e=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:f,canDeactivateChecks:_}}=e;return 0===_.length&&0===f.length?(0,Ze.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,r,e,o){return(0,jt.D)(i).pipe((0,Et.zg)(u=>function(i,r,e,o,u){const f=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,Ze.of)(!0);const _=f.map(E=>{const I=Df(E,r,u);let T;if(function(i){return i&&or(i.canDeactivate)}(I))T=mi(I.canDeactivate(i,r,e,o));else{if(!or(I))throw new Error("Invalid CanDeactivate guard");T=mi(I(i,r,e,o))}return T.pipe(Tn())});return(0,Ze.of)(_).pipe(hd())}(u.component,u.route,e,r,o)),Tn(u=>!0!==u,!0))}(_,o,u,i).pipe((0,Et.zg)(E=>E&&function(i){return"boolean"==typeof i}(E)?function(i,r,e,o){return(0,jt.D)(r).pipe(Fn(u=>Ia(function(i,r){return null!==i&&r&&r(new rb(i)),(0,Ze.of)(!0)}(u.route.parent,o),function(i,r){return null!==i&&r&&r(new sb(i)),(0,Ze.of)(!0)}(u.route,o),function(i,r,e){const o=r[r.length-1],f=r.slice(0,r.length-1).reverse().map(_=>function(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(_)).filter(_=>null!==_).map(_=>Wr(()=>{const E=_.guards.map(I=>{const T=Df(I,_.node,e);let x;if(function(i){return i&&or(i.canActivateChild)}(T))x=mi(T.canActivateChild(o,i));else{if(!or(T))throw new Error("Invalid CanActivateChild guard");x=mi(T(o,i))}return x.pipe(Tn())});return(0,Ze.of)(E).pipe(hd())}));return(0,Ze.of)(f).pipe(hd())}(i,u.path,e),function(i,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Ze.of)(!0);const u=o.map(f=>Wr(()=>{const _=Df(f,r,e);let E;if(function(i){return i&&or(i.canActivate)}(_))E=mi(_.canActivate(r,i));else{if(!or(_))throw new Error("Invalid CanActivate guard");E=mi(_(r,i))}return E.pipe(Tn())}));return(0,Ze.of)(u).pipe(hd())}(i,u.route,e))),Tn(u=>!0!==u,!0))}(o,f,i,r):(0,Ze.of)(E)),(0,at.U)(E=>Object.assign(Object.assign({},e),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,sr.b)(E=>{if(Pa(E.guardsResult)){const T=Ag(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw T.url=E.guardsResult,T}const I=new dy(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(I)}),G(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),Qy(E=>{if(E.guards.canActivateChecks.length)return(0,Ze.of)(E).pipe((0,sr.b)(I=>{const T=new nb(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(T)}),un(I=>{let T=!1;return(0,Ze.of)(I).pipe(function(i,r){return(0,Et.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=e;if(!u.length)return(0,Ze.of)(e);let f=0;return(0,jt.D)(u).pipe(Fn(_=>function(i,r,e,o){return function(i,r,e,o){const u=Object.keys(i);if(0===u.length)return(0,Ze.of)({});const f={};return(0,jt.D)(u).pipe((0,Et.zg)(_=>function(i,r,e,o){const u=Df(i,r,o);return mi(u.resolve?u.resolve(r,e):u(r,e))}(i[_],r,e,o).pipe((0,sr.b)(E=>{f[_]=E}))),Ps(1),(0,Et.zg)(()=>Object.keys(f).length===u.length?(0,Ze.of)(f):pi.E))}(i._resolve,i,r,o).pipe((0,at.U)(f=>(i._resolvedData=f,i.data=Object.assign(Object.assign({},i.data),fb(i,e).resolve),null)))}(_.route,o,i,r)),(0,sr.b)(()=>f++),Ps(1),(0,Et.zg)(_=>f===u.length?(0,Ze.of)(e):pi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,sr.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,sr.b)(I=>{const T=new Dg(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(T)}))}),Qy(E=>{const{targetSnapshot:I,id:T,extractedUrl:x,rawUrl:V,extras:{skipLocationChange:J,replaceUrl:fe}}=E;return this.hooks.afterPreactivation(I,{navigationId:T,appliedUrlTree:x,rawUrlTree:V,skipLocationChange:!!J,replaceUrl:!!fe})}),(0,at.U)(E=>{const I=function(i,r,e){const o=ad(i,r._root,e?e._root:void 0);return new Zi(o,r)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:I})}),(0,sr.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,r,e)=>(0,at.U)(o=>(new Vg(r,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,sr.b)({next(){f=!0},complete(){f=!0}}),function(i){return r=>r.lift(new Jc(i))}(()=>{if(!f&&!_){const E=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,E)):this.cancelNavigationTransition(u,E)}this.currentNavigation=null}),Ne(E=>{if(_=!0,function(i){return i&&i[gy]}(E)){const I=Pa(E.url);I||(this.navigated=!0,this.restoreHistory(u,!0));const T=new wg(u.id,this.serializeUrl(u.extractedUrl),E.message);o.next(T),I?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),V={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||su(u.source)};this.scheduleNavigation(x,"imperative",null,V,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const I=new sD(u.id,this.serializeUrl(u.extractedUrl),E);o.next(I);try{u.resolve(this.errorHandler(E))}catch(T){u.reject(T)}}return pi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:f,urlTree:_}=o,E={replaceUrl:!0};if(f){const I=Object.assign({},f);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(E.state=I)}this.scheduleNavigation(_,u,f,E)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const u=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!u||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Oa(e),this.config=e.map(xa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:u,queryParams:f,fragment:_,queryParamsHandling:E,preserveFragment:I}=o,T=u||this.routerState.root,x=I?this.currentUrlTree.fragment:_;let V=null;switch(E){case"merge":V=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=f||null}return null!==V&&(V=this.removeEmptyProps(V)),function(i,r,e,o,u){if(0===e.length)return cd(r.root,r.root,r,o,u);const f=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new yb(!0,0,i);let r=0,e=!1;const o=i.reduce((u,f,_)=>{if("object"==typeof f&&null!=f){if(f.outlets){const E={};return An(f.outlets,(I,T)=>{E[T]="string"==typeof I?I.split("/"):I}),[...u,{outlets:E}]}if(f.segmentPath)return[...u,f.segmentPath]}return"string"!=typeof f?[...u,f]:0===_?(f.split("/").forEach((E,I)=>{0==I&&"."===E||(0==I&&""===E?e=!0:".."===E?r++:""!=E&&u.push(E))}),u):[...u,f]},[]);return new yb(e,r,o)}(e);if(f.toRoot())return cd(r.root,new yt([],{}),r,o,u);const _=function(i,r,e){if(i.isAbsolute)return new Ny(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const f=e.snapshot._urlSegment;return new Ny(f,f===r.root,0)}const o=ld(i.commands[0])?0:1;return function(i,r,e){let o=i,u=r,f=e;for(;f>u;){if(f-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new Ny(o,!1,u-f)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(f,r,i),E=_.processChildren?Lg(_.segmentGroup,_.index,f.commands):vb(_.segmentGroup,_.index,f.commands);return cd(_.segmentGroup,E,r,o,u)}(T,this.currentUrlTree,e,V,null!=x?x:null)}navigateByUrl(e,o={skipLocationChange:!1}){const u=Pa(e)?e:this.parseUrl(e),f=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let r=0;r<i.length;r++){const e=i[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,e)}return o}isActive(e,o){let u;if(u=!0===o?Object.assign({},tv):!1===o?Object.assign({},yd):o,Pa(e))return td(this.currentUrlTree,e,u);const f=this.parseUrl(e);return td(this.currentUrlTree,f,u)}removeEmptyProps(e){return Object.keys(e).reduce((o,u)=>{const f=e[u];return null!=f&&(o[u]=f),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Sa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,u,f,_){var E,I;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),x=su(o)&&T&&!su(T.source),fe=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===e.toString();if(x&&fe)return Promise.resolve(!0);let we,ze,Ye;_?(we=_.resolve,ze=_.reject,Ye=_.promise):Ye=new Promise((wt,In)=>{we=wt,ze=In});const nn=++this.navigationId;let Bt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),Bt=u&&u.\u0275routerPageId?u.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):Bt=0,this.setTransition({id:nn,targetPageId:Bt,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:f,resolve:we,reject:ze,promise:Ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ye.catch(wt=>Promise.reject(wt))}setBrowserUrl(e,o){const u=this.urlSerializer.serialize(e),f=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",f):this.location.go(u,"",f)}restoreHistory(e,o=!1){var u,f;if("computed"===this.canceledNavigationResolution){const _=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===_?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===_&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(_)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const u=new wg(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(u),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.DyG),d.LFG(mf),d.LFG(yr),d.LFG(Me),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function su(i){return"imperative"!==i}let nv=(()=>{class i{constructor(e,o,u,f,_){this.parentContexts=e,this.location=o,this.resolver=u,this.changeDetector=_,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=f||ht,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const _=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,I=new Gb(e,E,this.location.injector);this.activated=this.location.createComponent(_,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(yr),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},i.\u0275dir=d.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class Gb{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===Po?this.route:r===yr?this.childContexts:this.parent.get(r,e)}}class tm{}class nm{preload(r,e){return(0,Ze.of)(null)}}let rv=(()=>{class i{constructor(e,o,u,f,_){this.router=e,this.injector=f,this.preloadingStrategy=_,this.loader=new Jg(o,u,T=>e.triggerEvent(new hy(T)),T=>e.triggerEvent(new fy(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(G(e=>e instanceof Sa),Fn(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(d.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const u=[];for(const f of o)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const _=f._loadedConfig;u.push(this.processRoutes(_.module,_.routes))}else f.loadChildren&&!f.canLoad?u.push(this.preloadConfig(e,f)):f.children&&u.push(this.processRoutes(e,f.children));return(0,jt.D)(u).pipe((0,So.J)(),(0,at.U)(f=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Ze.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,Et.zg)(f=>(o._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(cn),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(tm))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),rm=(()=>{class i{constructor(e,o,u={}){this.router=e,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Xc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Sa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Tg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new Tg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(cn),d.LFG(fl),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const La=new d.OlP("ROUTER_CONFIGURATION"),iv=new d.OlP("ROUTER_FORROOT_GUARD"),Zb=[Me,{provide:mf,useClass:lb},{provide:cn,useFactory:function(i,r,e,o,u,f,_,E={},I,T){const x=new cn(null,i,r,e,o,u,f,yy(_));return I&&(x.urlHandlingStrategy=I),T&&(x.routeReuseStrategy=T),function(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy)}(E,x),E.enableTracing&&x.events.subscribe(V=>{var J,fe;null===(J=console.group)||void 0===J||J.call(console,`Router Event: ${V.constructor.name}`),console.log(V.toString()),console.log(V),null===(fe=console.groupEnd)||void 0===fe||fe.call(console)}),x},deps:[mf,yr,Me,d.zs3,d.v3s,d.Sil,Sf,La,[class{},new d.FiY],[class{},new d.FiY]]},yr,{provide:Po,useFactory:function(i){return i.routerState.root},deps:[cn]},{provide:d.v3s,useClass:d.EAV},rv,nm,class{preload(r,e){return e().pipe(Ne(()=>(0,Ze.of)(null)))}},{provide:La,useValue:{enableTracing:!1}}];function _D(){return new d.PXZ("Router",cn)}let qb=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[Zb,Yb(e),{provide:iv,useFactory:im,deps:[[cn,new d.FiY,new d.tp0]]},{provide:La,useValue:o||{}},{provide:Ce,useFactory:Nt,deps:[Z,[new d.tBr(_e),new d.FiY],La]},{provide:rm,useFactory:sv,deps:[cn,fl,La]},{provide:tm,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:nm},{provide:d.PXZ,multi:!0,useFactory:_D},[ov,{provide:d.ip1,multi:!0,useFactory:Kb,deps:[ov]},{provide:am,useFactory:Qb,deps:[ov]},{provide:d.tb,multi:!0,useExisting:am}]]}}static forChild(e){return{ngModule:i,providers:[Yb(e)]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(iv,8),d.LFG(cn,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function sv(i,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new rm(i,r,e)}function Nt(i,r,e={}){return e.useHash?new De(i,r):new be(i,r)}function im(i){return"guarded"}function Yb(i){return[{provide:d.deG,multi:!0,useValue:i},{provide:Sf,multi:!0,useValue:i}]}let ov=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new an.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(E=>o=E),f=this.injector.get(cn),_=this.injector.get(La);return"disabled"===_.initialNavigation?(f.setUpLocationChangeListener(),o(!0)):"enabled"===_.initialNavigation||"enabledBlocking"===_.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,Ze.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),f.initialNavigation()):o(!0),u})}bootstrapListener(e){const o=this.injector.get(La),u=this.injector.get(rv),f=this.injector.get(rm),_=this.injector.get(cn),E=this.injector.get(d.z2F);e===E.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&_.initialNavigation(),u.setUpPreloading(),f.init(),_.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function Kb(i){return i.appInitializer.bind(i)}function Qb(i){return i.bootstrapListener.bind(i)}const am=new d.OlP("Router Initializer");function lv(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().logout()}),d._uU(1,"Logout"),d.qZA()}}let uv=(()=>{class i{constructor(e){this.r=e}logout(){window.localStorage.removeItem("user"),this.r.navigate(["login"])}isLoggedIn(){return null!=window.localStorage.getItem("user")}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(cn))},i.\u0275cmp=d.Xpm({type:i,selectors:[["my-app"]],decls:9,vars:1,consts:[[1,"sidenav"],["routerLink","customers"],["routerLink","contacts"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"main"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"a",1),d._uU(2,"Customers"),d.qZA(),d.TgZ(3,"a",2),d._uU(4,"Contacts"),d.qZA(),d._UZ(5,"br"),d.YNc(6,lv,2,0,"button",3),d.qZA(),d.TgZ(7,"div",4),d._UZ(8,"router-outlet"),d.qZA()),2&e&&(d.xp6(6),d.Q6J("ngIf",o.isLoggedIn()))},styles:[".sidenav[_ngcontent-%COMP%]{height:100%;width:160px;position:fixed;z-index:1;top:0;left:0;background-color:#111;overflow-x:hidden;padding-top:20px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px 8px 6px 16px;text-decoration:none;font-size:25px;color:#818181;display:block}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f1f1f1}.main[_ngcontent-%COMP%]{margin-left:160px;font-size:28px;padding:0 10px}"]}),i})();class cv{constructor(){this.first="",this.last="",this.phone="",this.email="",this.address="",this.notes="",this.key=""}}var Zn=(()=>{return(i=Zn||(Zn={}))[i.table=0]="table",i[i.details=1]="details",i[i.add=2]="add",i[i.edit=3]="edit",Zn;var i})(),lm=N(3637),Nf=N(6682),dv=N(8819);class fv{constructor(r,e){this.compare=r,this.keySelector=e}call(r,e){return e.subscribe(new Xb(r,this.compare,this.keySelector))}}class Xb extends mr.L{constructor(r,e,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(r,e){return r===e}_next(r){let e;try{const{keySelector:u}=this;e=u?u(r):r}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,e)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=e,this.destination.next(r))}}class t0{constructor(r,e){this.observables=r,this.project=e}call(r,e){return e.subscribe(new n0(r,this.observables,this.project))}}class n0 extends Gi{constructor(r,e,o){super(r),this.observables=e,this.project=o,this.toRespond=[];const u=e.length;this.values=new Array(u);for(let f=0;f<u;f++)this.toRespond.push(f);for(let f=0;f<u;f++)this.add(Zc(this,e[f],void 0,f))}notifyNext(r,e,o){this.values[o]=e;const u=this.toRespond;if(u.length>0){const f=u.indexOf(o);-1!==f&&u.splice(f,1)}}notifyComplete(){}_next(r){if(0===this.toRespond.length){const e=[r,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(r){let e;try{e=this.project.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class yD{constructor(r){this.predicate=r}call(r,e){return e.subscribe(new gv(r,this.predicate))}}class gv extends mr.L{constructor(r,e){super(r),this.predicate=e,this.skipping=!0,this.index=0}_next(r){const e=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||e.next(r)}tryCallPredicate(r){try{const e=this.predicate(r,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Gr=N(9126),Fs=N(8939),vD=(N(9083),N(4486)),Va=N(6034),r0=N(8239),Pf=N(5452),M=N(4685),mv=N(300);let _v="";function s0(i){_v=i}class yv{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,e){null==e?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,M.Pz)(e))}get(r){const e=this.domStorage_.getItem(this.prefixedName_(r));return null==e?null:(0,M.cI)(e)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class vv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,e){null==e?delete this.cache_[r]:this.cache_[r]=e}get(r){return(0,M.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const um=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const r=window[i];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new yv(r)}}catch(r){}return new vv},Ua=um("localStorage"),Cv=um("sessionStorage"),Ba=new mv.Yd("@firebase/database"),Of=function(){let i=1;return function(){return i++}}(),Ev=function(i){const r=(0,M.dS)(i),e=new M.gQ;e.update(r);const o=e.digest();return M.US.encodeByteArray(o)},ja=function(...i){let r="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=ja.apply(null,o):r+="object"==typeof o?(0,M.Pz)(o):o,r+=" "}return r};let Ha=null,bv=!0;const wv=function(i,r){(0,M.hu)(!r||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(Ba.logLevel=mv.in.VERBOSE,Ha=Ba.log.bind(Ba),r&&Cv.set("logging_enabled",!0)):"function"==typeof i?Ha=i:(Ha=null,Cv.remove("logging_enabled"))},Sn=function(...i){if(!0===bv&&(bv=!1,null===Ha&&!0===Cv.get("logging_enabled")&&wv(!0)),Ha){const r=ja.apply(null,i);Ha(r)}},Cd=function(i){return function(...r){Sn(i,...r)}},cm=function(...i){const r="FIREBASE INTERNAL ERROR: "+ja(...i);Ba.error(r)},kr=function(...i){const r=`FIREBASE FATAL ERROR: ${ja(...i)}`;throw Ba.error(r),new Error(r)},mn=function(...i){const r="FIREBASE WARNING: "+ja(...i);Ba.warn(r)},vr=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Ls="[MIN_NAME]",Ki="[MAX_NAME]",Vs=function(i,r){if(i===r)return 0;if(i===Ls||r===Ki)return-1;if(r===Ls||i===Ki)return 1;{const e=Bs(i),o=Bs(r);return null!==e?null!==o?e-o==0?i.length-r.length:e-o:-1:null!==o?1:i<r?-1:1}},Qi=function(i,r){return i===r?0:i<r?-1:1},Us=function(i,r){if(r&&i in r)return r[i];throw new Error("Missing required key ("+i+") in object: "+(0,M.Pz)(r))},Rn=function(i){if("object"!=typeof i||null===i)return(0,M.Pz)(i);const r=[];for(const o in i)r.push(o);r.sort();let e="{";for(let o=0;o<r.length;o++)0!==o&&(e+=","),e+=(0,M.Pz)(r[o]),e+=":",e+=Rn(i[r[o]]);return e+="}",e},xo=function(i,r){const e=i.length;if(e<=r)return[i];const o=[];for(let u=0;u<e;u+=r)o.push(i.substring(u,u+r>e?e:u+r));return o};function dn(i,r){for(const e in i)i.hasOwnProperty(e)&&r(e,i[e])}const Fr=function(i){(0,M.hu)(!vr(i),"Invalid JSON number");const o=1023;let u,f,_,E,I;0===i?(f=0,_=0,u=1/i==-1/0?1:0):(u=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(E=Math.min(Math.floor(Math.log(i)/Math.LN2),o),f=E+o,_=Math.round(i*Math.pow(2,52-E)-Math.pow(2,52))):(f=0,_=Math.round(i/Math.pow(2,-1074))));const T=[];for(I=52;I;I-=1)T.push(_%2?1:0),_=Math.floor(_/2);for(I=11;I;I-=1)T.push(f%2?1:0),f=Math.floor(f/2);T.push(u?1:0),T.reverse();const x=T.join("");let V="";for(I=0;I<64;I+=8){let J=parseInt(x.substr(I,8),2).toString(16);1===J.length&&(J="0"+J),V+=J}return V.toLowerCase()},uu=new RegExp("^-?(0*)\\d{1,10}$"),$a=-2147483648,ko=2147483647,Bs=function(i){if(uu.test(i)){const r=Number(i);if(r>=$a&&r<=ko)return r}return null},vi=function(i){try{i()}catch(r){setTimeout(()=>{throw mn("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},Ji=function(i,r){const e=setTimeout(i,r);return"object"==typeof e&&e.unref&&e.unref(),e};class Dv{constructor(r,e){this.appName_=r,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(r))}notifyForInvalidToken(){mn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Tv{constructor(r,e,o){this.appName_=r,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(e=>e&&"auth/token-not-initialized"===e.code?(Sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(e=>e.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(e=>e.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mn(r)}}let du=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const mm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ym="websocket",vm="long_polling";class Rv{constructor(r,e,o,u,f=!1,_="",E=!1){this.secure=e,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=_,this.includeNamespaceInQueryParams=E,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ua.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Ua.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Mv(i,r,e){let o;if((0,M.hu)("string"==typeof r,"typeof type must == string"),(0,M.hu)("object"==typeof e,"typeof params must == object"),r===ym)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(r!==vm)throw new Error("Unknown connection type: "+r);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const u=[];return dn(e,(f,_)=>{u.push(f+"="+_)}),o+u.join("&")}class Nv{constructor(){this.counters_={}}incrementCounter(r,e=1){(0,M.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=e}get(){return(0,M.p$)(this.counters_)}}const Cm={},xf={};function Em(i){const r=i.toString();return Cm[r]||(Cm[r]=new Nv),Cm[r]}class bD{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,e){this.closeAfterResponse=r,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,e){for(this.pendingResponses[r]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&vi(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wd{constructor(r,e,o,u,f,_,E){this.connId=r,this.repoInfo=e,this.applicationId=o,this.appCheckToken=u,this.authToken=f,this.transportSessionId=_,this.lastSessionId=E,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cd(r),this.stats_=Em(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),Mv(e,vm,I))}open(r,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bD(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,M.Yr)()||"complete"===document.readyState)i();else{let r=!1;const e=function(){document.body?r||(r=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Im((...f)=>{const[_,E,I,T,x]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===_)this.id=E,this.password=I;else{if("close"!==_)throw new Error("Unrecognized command received: "+_);E?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(E,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[_,E]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(_,E)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&mm.test(location.hostname)&&(o.r="f");const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wd.forceAllow_=!0}static forceDisallow(){wd.forceDisallow_=!0}static isAvailable(){return!((0,M.Yr)()||!wd.forceAllow_&&(wd.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const e=(0,M.Pz)(r);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,M.h$)(e),u=xo(o,1840);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(r,e){if((0,M.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=r,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const e=(0,M.Pz)(r).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Im{constructor(r,e,o,u){if(this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,M.Yr)())this.commandCB=r,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Of(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Im.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const _="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_),this.myIFrame.doc.close()}catch(E){Sn("frame writing exception"),E.stack&&Sn(E.stack),Sn(E)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Sn("No IE domain setting required")}catch(e){const o=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,e){for(this.myID=r,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let e=this.urlFn(r),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const _=this.pendingSegs.shift();o=o+"&seg"+u+"="+_.seg+"&ts"+u+"="+_.ts+"&d"+u+"="+_.d,u++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(r,e,o){this.pendingSegs.push({seg:r,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(r,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(o,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(u),o()})}addTag(r,e){(0,M.Yr)()?this.doNodeLongPoll(r,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=r,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||"loaded"===u||"complete"===u)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Sn("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let fu=null;"undefined"!=typeof MozWebSocket?fu=MozWebSocket:"undefined"!=typeof WebSocket&&(fu=WebSocket);let Id=(()=>{class i{constructor(e,o,u,f,_,E,I){this.connId=e,this.applicationId=u,this.appCheckToken=f,this.authToken=_,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cd(this.connId),this.stats_=Em(o),this.connURL=i.connectionURL_(o,E,I,f),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,u,f){const _={v:"5"};return!(0,M.Yr)()&&"undefined"!=typeof location&&location.hostname&&mm.test(location.hostname)&&(_.r="f"),o&&(_.s=o),u&&(_.ls=u),f&&(_.ac=f),Mv(e,ym,_)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ua.set("previous_websocket_failure",!0);try{if((0,M.Yr)()){const f={headers:{"User-Agent":`Firebase/5/${_v}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(f.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(f.headers["X-Firebase-AppCheck"]=this.appCheckToken);const _=process.env,E=0===this.connURL.indexOf("wss://")?_.HTTPS_PROXY||_.https_proxy:_.HTTP_PROXY||_.http_proxy;E&&(f.proxy={origin:E}),this.mySock=new fu(this.connURL,[],f)}else this.mySock=new fu(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");const f=u.message||u.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==fu&&!i.forceDisallow_}static previouslyFailed(){return Ua.isInMemoryStorage||!0===Ua.get("previous_websocket_failure")}markConnectionHealthy(){Ua.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const u=(0,M.cI)(o);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,M.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const u=this.extractFrameCount_(o);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const o=(0,M.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=xo(o,16384);u.length>1&&this.sendString_(String(u.length));for(let f=0;f<u.length;f++)this.sendString_(u[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})();class kf{constructor(r){this.initTransports_(r)}static get ALL_TRANSPORTS(){return[wd,Id]}initTransports_(r){const e=Id&&Id.isAvailable();let o=e&&!Id.previouslyFailed();if(r.webSocketOnly&&(e||mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Id];else{const u=this.transports_=[];for(const f of kf.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Sm{constructor(r,e,o,u,f,_,E,I,T,x){this.id=r,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=_,this.onReady_=E,this.onDisconnect_=I,this.onKill_=T,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cd("c:"+this.id+":"),this.transportManager_=new kf(e),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const u=r.healthyTimeout||0;u>0&&(this.healthyTimeout_=Ji(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return e=>{r===this.conn_?this.onConnectionLost_(e):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return e=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(e):r===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const e=r.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const e=Us("t",r),o=Us("d",r);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const e=Us("t",r),o=Us("d",r);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const e=Us("t",r);if("d"in r){const o=r.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?cm("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cm("Unknown control packet command: "+e)}}onHandshake_(r){const e=r.ts,o=r.v,u=r.h;this.sessionId=r.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&mn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),Ji(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,e){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ji(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ua.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class jv{put(r,e,o,u){}merge(r,e,o,u){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,e,o){}onDisconnectMerge(r,e,o){}onDisconnectCancel(r,e){}reportStats(r){}}class v0{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,M.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...e){if(Array.isArray(this.listeners_[r])){const o=[...this.listeners_[r]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,e)}}on(r,e,o){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:e,context:o});const u=this.getInitialEvent(r);u&&e.apply(o,u)}off(r,e,o){this.validateEventType_(r);const u=this.listeners_[r]||[];for(let f=0;f<u.length;f++)if(u[f].callback===e&&(!o||o===u[f].context))return void u.splice(f,1)}validateEventType_(r){(0,M.hu)(this.allowedEvents_.find(e=>e===r),"Unknown event: "+r)}}class Fo extends v0{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,M.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fo}getInitialEvent(r){return(0,M.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Dt{constructor(r,e){if(void 0===e){this.pieces_=r.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=e}toString(){let r="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(r+="/"+this.pieces_[e]);return r||"/"}}function Tt(){return new Dt("")}function lt(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Xi(i){return i.pieces_.length-i.pieceNum_}function xt(i){let r=i.pieceNum_;return r<i.pieces_.length&&r++,new Dt(i.pieces_,r)}function $v(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Wa(i,r=0){return i.pieces_.slice(i.pieceNum_+r)}function Uf(i){if(i.pieceNum_>=i.pieces_.length)return null;const r=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)r.push(i.pieces_[e]);return new Dt(r,0)}function qt(i,r){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(r instanceof Dt)for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);else{const o=r.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&e.push(o[u])}return new Dt(e,0)}function ft(i){return i.pieceNum_>=i.pieces_.length}function Vn(i,r){const e=lt(i),o=lt(r);if(null===e)return r;if(e===o)return Vn(xt(i),xt(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+i+")")}function Wv(i,r){const e=Wa(i,0),o=Wa(r,0);for(let u=0;u<e.length&&u<o.length;u++){const f=Vs(e[u],o[u]);if(0!==f)return f}return e.length===o.length?0:e.length<o.length?-1:1}function Dd(i,r){if(Xi(i)!==Xi(r))return!1;for(let e=i.pieceNum_,o=r.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==r.pieces_[o])return!1;return!0}function Cr(i,r){let e=i.pieceNum_,o=r.pieceNum_;if(Xi(i)>Xi(r))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==r.pieces_[o])return!1;++e,++o}return!0}class Gv{constructor(r,e){this.errorPrefix_=e,this.parts_=Wa(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,M.ug)(this.parts_[o]);Rm(this)}}function Rm(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+js(i))}function js(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class Bf extends v0{constructor(){let r,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",r="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[r];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Bf}getInitialEvent(r){return(0,M.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Td=1e3;let Sd,Ga=(()=>{class i extends jv{constructor(e,o,u,f,_,E,I,T){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=u,this.onConnectStatus_=f,this.onServerInfoUpdate_=_,this.authTokenProvider_=E,this.appCheckTokenProvider_=I,this.authOverride_=T,this.id=i.nextPersistentConnectionId_++,this.log_=Cd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Td,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,M.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Fo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,u){const f=++this.requestNumber_,_={r:f,a:e,b:o};this.log_((0,M.Pz)(_)),(0,M.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(_),u&&(this.requestCBHash_[f]=u)}get(e){this.initConnection_();const o=new M.BH,u={p:e._path.toString(),q:e._queryObject},f={action:"g",request:u,onComplete:E=>{const I=E.d;"ok"===E.s?(this.onDataUpdate_(u.p,I,!1,null),o.resolve(I)):o.reject(I)}};this.outstandingGets_.push(f),this.outstandingGetCount_++;const _=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const E=this.outstandingGets_[_];void 0===E||f!==E||(delete this.outstandingGets_[_],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+_+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(_),o.promise}listen(e,o,u,f){this.initConnection_();const _=e._queryIdentifier,E=e._path.toString();this.log_("Listen called for "+E+" "+_),this.listens.has(E)||this.listens.set(E,new Map),(0,M.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,M.hu)(!this.listens.get(E).has(_),"listen() called twice for same path/queryId.");const I={onComplete:f,hashFn:o,query:e,tag:u};this.listens.get(E).set(_,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(u)})}sendListen_(e){const o=e.query,u=o._path.toString(),f=o._queryIdentifier;this.log_("Listen on "+u+" for "+f);const _={p:u};e.tag&&(_.q=o._queryObject,_.t=e.tag),_.h=e.hashFn(),this.sendRequest("q",_,I=>{const T=I.d,x=I.s;i.warnOnListenWarnings_(T,o),(this.listens.get(u)&&this.listens.get(u).get(f))===e&&(this.log_("listen response",I),"ok"!==x&&this.removeListen_(u,f),e.onComplete&&e.onComplete(x,T))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,M.r3)(e,"w")){const u=(0,M.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const f='".indexOn": "'+o._queryParams.getIndex().toString()+'"',_=o._path.toString();mn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${_} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,M.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,M.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(o,u,f=>{const _=f.s,E=f.d||"error";this.authToken_===e&&("ok"===_?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(_,E))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,u=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,u)})}unlisten(e,o){const u=e._path.toString(),f=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+f),(0,M.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,f)&&this.connected_&&this.sendUnlisten_(u,f,e._queryObject,o)}sendUnlisten_(e,o,u,f){this.log_("Unlisten on "+e+" for "+o);const _={p:e};f&&(_.q=u,_.t=f),this.sendRequest("n",_)}onDisconnectPut(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:u})}onDisconnectMerge(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:u})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,u,f){const _={p:o,d:u};this.log_("onDisconnect "+e,_),this.sendRequest(e,_,E=>{f&&setTimeout(()=>{f(E.s,E.d)},Math.floor(0))})}put(e,o,u,f){this.putInternal("p",e,o,u,f)}merge(e,o,u,f){this.putInternal("m",e,o,u,f)}putInternal(e,o,u,f,_){this.initConnection_();const E={p:o,d:u};void 0!==_&&(E.h=_),this.outstandingPuts_.push({action:e,request:E,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,f=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,u,_=>{this.log_(o+" response",_),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(_.s,_.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,M.Pz)(e));const o=e.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):cm("Unrecognized action received from server: "+(0,M.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,M.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Td,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Td,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Td),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,r0.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),f=e.onRealtimeDisconnect_.bind(e),_=e.id+":"+i.nextConnectionId_++,E=e.lastSessionId;let I=!1,T=null;const x=function(){T?T.close():(I=!0,f())};e.realtime_={close:x,sendRequest:function(fe){(0,M.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(fe)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[fe,we]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);I?Sn("getToken() completed but was canceled"):(Sn("getToken() completed. Creating connection."),e.authToken_=fe&&fe.accessToken,e.appCheckToken_=we&&we.token,T=new Sm(_,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,u,f,ze=>{mn(ze+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},E))}catch(fe){e.log_("Failed to get token: "+fe),I||(e.repoInfo_.nodeAdmin&&mn(fe),x())}}})()}interrupt(e){Sn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Sn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,M.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Td,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let u;u=o?o.map(_=>Rn(_)).join("$"):"default";const f=this.removeListen_(e,u);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(e,o){const u=new Dt(e).toString();let f;if(this.listens.has(u)){const _=this.listens.get(u);f=_.get(o),_.delete(o),0===_.size&&this.listens.delete(u)}else f=void 0;return f}onAuthRevoked_(e,o){Sn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Sn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,M.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+_v.replace(/\./g,"-")]=1,(0,M.uI)()?e["framework.cordova"]=1:(0,M.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fo.getInstance().currentlyOnline();return(0,M.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class gt{constructor(r,e){this.name=r,this.node=e}static Wrap(r,e){return new gt(r,e)}}class Ad{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,e){const o=new gt(Ls,r),u=new gt(Ls,e);return 0!==this.compare(o,u)}minPost(){return gt.MIN}}class Om extends Ad{static get __EMPTY_NODE(){return Sd}static set __EMPTY_NODE(r){Sd=r}compare(r,e){return Vs(r.name,e.name)}isDefinedOn(r){throw(0,M.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,e){return!1}minPost(){return gt.MIN}maxPost(){return new gt(Ki,Sd)}makePost(r,e){return(0,M.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new gt(r,Sd)}toString(){return".key"}}const Hs=new Om;class jf{constructor(r,e,o,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let _=1;for(;!r.isEmpty();)if(r=r,_=e?o(r.key,e):1,u&&(_*=-1),_<0)r=this.isReverse_?r.left:r.right;else{if(0===_){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,r=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let xm,Ci=(()=>{class i{constructor(e,o,u,f,_){this.key=e,this.value=o,this.color=null!=u?u:i.RED,this.left=null!=f?f:Er.EMPTY_NODE,this.right=null!=_?_:Er.EMPTY_NODE}copy(e,o,u,f,_){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=u?u:this.color,null!=f?f:this.left,null!=_?_:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,u){let f=this;const _=u(e,f.key);return f=_<0?f.copy(null,null,null,f.left.insert(e,o,u),null):0===_?f.copy(null,o,null,null,null):f.copy(null,null,null,null,f.right.insert(e,o,u)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return Er.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let u,f;if(u=this,o(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,o),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===o(e,u.key)){if(u.right.isEmpty())return Er.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,o))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Er{constructor(r,e=Er.EMPTY_NODE){this.comparator_=r,this.root_=e}insert(r,e){return new Er(this.comparator_,this.root_.insert(r,e,this.comparator_).copy(null,null,Ci.BLACK,null,null))}remove(r){return new Er(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Ci.BLACK,null,null))}get(r){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(r){let e,o=this.root_,u=null;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(u=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new jf(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,e){return new jf(this.root_,r,this.comparator_,!1,e)}getReverseIteratorFrom(r,e){return new jf(this.root_,r,this.comparator_,!0,e)}getReverseIterator(r){return new jf(this.root_,null,this.comparator_,!0,r)}}function wn(i,r){return Vs(i.name,r.name)}function Hf(i,r){return Vs(i,r)}Er.EMPTY_NODE=new class{copy(r,e,o,u,f){return this}insert(r,e,o){return new Ci(r,e,null)}remove(r,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const km=function(i){return"number"==typeof i?"number:"+Fr(i):"string:"+i},Kv=function(i){if(i.isLeafNode()){const r=i.val();(0,M.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,M.r3)(r,".sv"),"Priority must be a string or number.")}else(0,M.hu)(i===xm||i.isEmpty(),"priority of unexpected type.");(0,M.hu)(i===xm||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Fm,Za,Qv,za=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,M.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Kv(this.priorityNode_)}static set __childrenNodeConstructor(e){Fm=e}static get __childrenNodeConstructor(){return Fm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ft(e)?this:".priority"===lt(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const u=lt(e);return null===u?o:o.isEmpty()&&".priority"!==u?this:((0,M.hu)(".priority"!==u||1===Xi(e),".priority must be the last token in a path"),this.updateImmediateChild(u,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(xt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+km(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?Fr(this.value_):this.value_,this.lazyHash_=Ev(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,M.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,u=typeof this.value_,f=i.VALUE_TYPE_ORDER.indexOf(o),_=i.VALUE_TYPE_ORDER.indexOf(u);return(0,M.hu)(f>=0,"Unknown leaf type: "+o),(0,M.hu)(_>=0,"Unknown leaf type: "+u),f===_?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:_-f}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Vt=new class extends Ad{compare(r,e){const o=r.node.getPriority(),u=e.node.getPriority(),f=o.compareTo(u);return 0===f?Vs(r.name,e.name):f}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,e){return!r.getPriority().equals(e.getPriority())}minPost(){return gt.MIN}maxPost(){return new gt(Ki,new za("[PRIORITY-POST]",Qv))}makePost(r,e){const o=Za(r);return new gt(e,new za("[PRIORITY-POST]",o))}toString(){return".priority"}},AD=Math.log(2);class Xv{constructor(r){this.count=parseInt(Math.log(r+1)/AD,10),this.current_=this.count-1;const u=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&u}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const pu=function(i,r,e,o){i.sort(r);const u=function(I,T){const x=T-I;let V,J;if(0===x)return null;if(1===x)return V=i[I],J=e?e(V):V,new Ci(J,V.node,Ci.BLACK,null,null);{const fe=parseInt(x/2,10)+I,we=u(I,fe),ze=u(fe+1,T);return V=i[fe],J=e?e(V):V,new Ci(J,V.node,Ci.BLACK,we,ze)}},E=function(I){let T=null,x=null,V=i.length;const J=function(we,ze){const Ye=V-we,nn=V;V-=we;const Bt=u(Ye+1,nn),wt=i[Ye],In=e?e(wt):wt;fe(new Ci(In,wt.node,ze,null,Bt))},fe=function(we){T?(T.left=we,T=we):(x=we,T=we)};for(let we=0;we<I.count;++we){const ze=I.nextBitIsOne(),Ye=Math.pow(2,I.count-(we+1));ze?J(Ye,Ci.BLACK):(J(Ye,Ci.BLACK),J(Ye,Ci.RED))}return x}(new Xv(i.length));return new Er(o||r,E)};let zr;const gu={};class $s{constructor(r,e){this.indexes_=r,this.indexSet_=e}static get Default(){return(0,M.hu)(gu&&Vt,"ChildrenNode.ts has not been loaded"),zr=zr||new $s({".priority":gu},{".priority":Vt}),zr}get(r){const e=(0,M.DV)(this.indexes_,r);if(!e)throw new Error("No index defined for "+r);return e instanceof Er?e:null}hasIndex(r){return(0,M.r3)(this.indexSet_,r.toString())}addIndex(r,e){(0,M.hu)(r!==Hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const f=e.getIterator(gt.Wrap);let E,_=f.getNext();for(;_;)u=u||r.isDefinedOn(_.node),o.push(_),_=f.getNext();E=u?pu(o,r.getCompare()):gu;const I=r.toString(),T=Object.assign({},this.indexSet_);T[I]=r;const x=Object.assign({},this.indexes_);return x[I]=E,new $s(x,T)}addToIndexes(r,e){const o=(0,M.UI)(this.indexes_,(u,f)=>{const _=(0,M.DV)(this.indexSet_,f);if((0,M.hu)(_,"Missing index implementation for "+f),u===gu){if(_.isDefinedOn(r.node)){const E=[],I=e.getIterator(gt.Wrap);let T=I.getNext();for(;T;)T.name!==r.name&&E.push(T),T=I.getNext();return E.push(r),pu(E,_.getCompare())}return gu}{const E=e.get(r.name);let I=u;return E&&(I=I.remove(new gt(r.name,E))),I.insert(r,r.node)}});return new $s(o,this.indexSet_)}removeFromIndexes(r,e){const o=(0,M.UI)(this.indexes_,u=>{if(u===gu)return u;{const f=e.get(r.name);return f?u.remove(new gt(r.name,f)):u}});return new $s(o,this.indexSet_)}}let br,We=(()=>{class i{constructor(e,o,u){this.children_=e,this.priorityNode_=o,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Kv(this.priorityNode_),this.children_.isEmpty()&&(0,M.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return br||(br=new i(new Er(Hf),null,$s.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||br}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?br:o}}getChild(e){const o=lt(e);return null===o?this:this.getImmediateChild(o).getChild(xt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,M.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const u=new gt(e,o);let f,_;o.isEmpty()?(f=this.children_.remove(e),_=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(e,o),_=this.indexMap_.addToIndexes(u,this.children_));const E=f.isEmpty()?br:this.priorityNode_;return new i(f,E,_)}}updateChild(e,o){const u=lt(e);if(null===u)return o;{(0,M.hu)(".priority"!==lt(e)||1===Xi(e),".priority must be the last token in a path");const f=this.getImmediateChild(u).updateChild(xt(e),o);return this.updateImmediateChild(u,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let u=0,f=0,_=!0;if(this.forEachChild(Vt,(E,I)=>{o[E]=I.val(e),u++,_&&i.INTEGER_REGEXP_.test(E)?f=Math.max(f,Number(E)):_=!1}),!e&&_&&f<2*u){const E=[];for(const I in o)E[I]=o[I];return E}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+km(this.getPriority().val())+":"),this.forEachChild(Vt,(o,u)=>{const f=u.hash();""!==f&&(e+=":"+o+":"+f)}),this.lazyHash_=""===e?"":Ev(e)}return this.lazyHash_}getPredecessorChildName(e,o,u){const f=this.resolveIndex_(u);if(f){const _=f.getPredecessorKey(new gt(e,o));return _?_.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new gt(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new gt(o,this.children_.get(o)):null}forEachChild(e,o){const u=this.resolveIndex_(e);return u?u.inorderTraversal(f=>o(f.name,f.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getIteratorFrom(e,f=>f);{const f=this.children_.getIteratorFrom(e.name,gt.Wrap);let _=f.peek();for(;null!=_&&o.compare(_,e)<0;)f.getNext(),_=f.peek();return f}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getReverseIteratorFrom(e,f=>f);{const f=this.children_.getReverseIteratorFrom(e.name,gt.Wrap);let _=f.peek();for(;null!=_&&o.compare(_,e)>0;)f.getNext(),_=f.peek();return f}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mu?-1:0}withIndex(e){if(e===Hs||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Hs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const u=this.getIterator(Vt),f=o.getIterator(Vt);let _=u.getNext(),E=f.getNext();for(;_&&E;){if(_.name!==E.name||!_.node.equals(E.node))return!1;_=u.getNext(),E=f.getNext()}return null===_&&null===E}return!1}return!1}}resolveIndex_(e){return e===Hs?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const mu=new class extends We{constructor(){super(new Er(Hf),We.EMPTY_NODE,$s.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return We.EMPTY_NODE}isEmpty(){return!1}};function tn(i,r=null){if(null===i)return We.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(r=i[".priority"]),(0,M.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new za(i,tn(r));if(i instanceof Array){let e=We.EMPTY_NODE;return dn(i,(o,u)=>{if((0,M.r3)(i,o)&&"."!==o.substring(0,1)){const f=tn(u);(f.isLeafNode()||!f.isEmpty())&&(e=e.updateImmediateChild(o,f))}}),e.updatePriority(tn(r))}{const e=[];let o=!1;if(dn(i,(_,E)=>{if("."!==_.substring(0,1)){const I=tn(E);I.isEmpty()||(o=o||!I.getPriority().isEmpty(),e.push(new gt(_,I)))}}),0===e.length)return We.EMPTY_NODE;const f=pu(e,wn,_=>_.name,Hf);if(o){const _=pu(e,Vt.getCompare());return new We(f,tn(r),new $s({".priority":_},{".priority":Vt}))}return new We(f,tn(r),$s.Default)}}Object.defineProperties(gt,{MIN:{value:new gt(Ls,We.EMPTY_NODE)},MAX:{value:new gt(Ki,mu)}}),Om.__EMPTY_NODE=We.EMPTY_NODE,za.__childrenNodeConstructor=We,xm=mu,Qv=mu,function(i){Za=i}(tn);class Lm extends Ad{constructor(r){super(),this.indexPath_=r,(0,M.hu)(!ft(r)&&".priority"!==lt(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,e){const o=this.extractChild(r.node),u=this.extractChild(e.node),f=o.compareTo(u);return 0===f?Vs(r.name,e.name):f}makePost(r,e){const o=tn(r),u=We.EMPTY_NODE.updateChild(this.indexPath_,o);return new gt(e,u)}maxPost(){const r=We.EMPTY_NODE.updateChild(this.indexPath_,mu);return new gt(Ki,r)}toString(){return Wa(this.indexPath_,0).join("/")}}const Vm=new class extends Ad{compare(r,e){const o=r.node.compareTo(e.node);return 0===o?Vs(r.name,e.name):o}isDefinedOn(r){return!0}indexedValueChanged(r,e){return!r.equals(e)}minPost(){return gt.MIN}maxPost(){return gt.MAX}makePost(r,e){const o=tn(r);return new gt(e,o)}toString(){return".value"}},Lo="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",S0=function(){let i=0;const r=[];return function(e){const o=e===i;let u;i=e;const f=new Array(8);for(u=7;u>=0;u--)f[u]=Lo.charAt(e%64),e=Math.floor(e/64);(0,M.hu)(0===e,"Cannot push at time == 0");let _=f.join("");if(o){for(u=11;u>=0&&63===r[u];u--)r[u]=0;r[u]++}else for(u=0;u<12;u++)r[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)_+=Lo.charAt(r[u]);return(0,M.hu)(20===_.length,"nextPushId: Length should be 20."),_}}(),Bm=function(i){if(i===""+ko)return"-";const r=Bs(i);if(null!=r)return""+(r+1);const e=new Array(i.length);for(let _=0;_<e.length;_++)e[_]=i.charAt(_);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return Ki;const f=Lo.charAt(Lo.indexOf(e[o])+1);return e[o]=f,e.slice(0,o+1).join("")},jm=function(i){if(i===""+$a)return Ls;const r=Bs(i);if(null!=r)return""+(r-1);const e=new Array(i.length);for(let o=0;o<e.length;o++)e[o]=i.charAt(o);return"-"===e[e.length-1]?1===e.length?""+ko:(delete e[e.length-1],e.join("")):(e[e.length-1]=Lo.charAt(Lo.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Rd(i){return{type:"value",snapshotNode:i}}function _u(i,r){return{type:"child_added",snapshotNode:r,childName:i}}function yu(i,r){return{type:"child_removed",snapshotNode:r,childName:i}}function vu(i,r,e){return{type:"child_changed",snapshotNode:r,childName:i,oldSnap:e}}class Cu{constructor(r){this.index_=r}updateChild(r,e,o,u,f,_){(0,M.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const E=r.getImmediateChild(e);return E.getChild(u).equals(o.getChild(u))&&E.isEmpty()===o.isEmpty()||(null!=_&&(o.isEmpty()?r.hasChild(e)?_.trackChildChange(yu(e,E)):(0,M.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):E.isEmpty()?_.trackChildChange(_u(e,o)):_.trackChildChange(vu(e,o,E))),r.isLeafNode()&&o.isEmpty())?r:r.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(r,e,o){return null!=o&&(r.isLeafNode()||r.forEachChild(Vt,(u,f)=>{e.hasChild(u)||o.trackChildChange(yu(u,f))}),e.isLeafNode()||e.forEachChild(Vt,(u,f)=>{if(r.hasChild(u)){const _=r.getImmediateChild(u);_.equals(f)||o.trackChildChange(vu(u,f,_))}else o.trackChildChange(_u(u,f))})),e.withIndex(this.index_)}updatePriority(r,e){return r.isEmpty()?We.EMPTY_NODE:r.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Eu{constructor(r){this.indexedFilter_=new Cu(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Eu.getStartPost_(r),this.endPost_=Eu.getEndPost_(r)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){return this.index_.compare(this.getStartPost(),r)<=0&&this.index_.compare(r,this.getEndPost())<=0}updateChild(r,e,o,u,f,_){return this.matches(new gt(e,o))||(o=We.EMPTY_NODE),this.indexedFilter_.updateChild(r,e,o,u,f,_)}updateFullNode(r,e,o){e.isLeafNode()&&(e=We.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(We.EMPTY_NODE);const f=this;return e.forEachChild(Vt,(_,E)=>{f.matches(new gt(_,E))||(u=u.updateImmediateChild(_,We.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,u,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const e=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),e)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const e=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),e)}return r.getIndex().maxPost()}}class nC{constructor(r){this.rangedFilter_=new Eu(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft()}updateChild(r,e,o,u,f,_){return this.rangedFilter_.matches(new gt(e,o))||(o=We.EMPTY_NODE),r.getImmediateChild(e).equals(o)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,e,o,u,f,_):this.fullLimitUpdateChild_(r,e,o,f,_)}updateFullNode(r,e,o){let u;if(e.isLeafNode()||e.isEmpty())u=We.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let f;u=We.EMPTY_NODE.withIndex(this.index_),f=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _=0;for(;f.hasNext()&&_<this.limit_;){const E=f.getNext();let I;if(I=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),E)<=0:this.index_.compare(E,this.rangedFilter_.getEndPost())<=0,!I)break;u=u.updateImmediateChild(E.name,E.node),_++}}else{let f,_,E,I;if(u=e.withIndex(this.index_),u=u.updatePriority(We.EMPTY_NODE),this.reverse_){I=u.getReverseIterator(this.index_),f=this.rangedFilter_.getEndPost(),_=this.rangedFilter_.getStartPost();const V=this.index_.getCompare();E=(J,fe)=>V(fe,J)}else I=u.getIterator(this.index_),f=this.rangedFilter_.getStartPost(),_=this.rangedFilter_.getEndPost(),E=this.index_.getCompare();let T=0,x=!1;for(;I.hasNext();){const V=I.getNext();!x&&E(f,V)<=0&&(x=!0),x&&T<this.limit_&&E(V,_)<=0?T++:u=u.updateImmediateChild(V.name,We.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,u,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,e,o,u,f){let _;if(this.reverse_){const V=this.index_.getCompare();_=(J,fe)=>V(fe,J)}else _=this.index_.getCompare();const E=r;(0,M.hu)(E.numChildren()===this.limit_,"");const I=new gt(e,o),T=this.reverse_?E.getFirstChild(this.index_):E.getLastChild(this.index_),x=this.rangedFilter_.matches(I);if(E.hasChild(e)){const V=E.getImmediateChild(e);let J=u.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=J&&(J.name===e||E.hasChild(J.name));)J=u.getChildAfterChild(this.index_,J,this.reverse_);const fe=null==J?1:_(J,I);if(x&&!o.isEmpty()&&fe>=0)return null!=f&&f.trackChildChange(vu(e,o,V)),E.updateImmediateChild(e,o);{null!=f&&f.trackChildChange(yu(e,V));const ze=E.updateImmediateChild(e,We.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(null!=f&&f.trackChildChange(_u(J.name,J.node)),ze.updateImmediateChild(J.name,J.node)):ze}}return o.isEmpty()?r:x&&_(T,I)>=0?(null!=f&&(f.trackChildChange(yu(T.name,T.node)),f.trackChildChange(_u(e,o))),E.updateImmediateChild(e,o).updateImmediateChild(T.name,We.EMPTY_NODE)):r}}class Md{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ls}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ki}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,M.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vt}copy(){const r=new Md;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function $f(i,r,e){const o=i.copy();return o.startSet_=!0,void 0===r&&(r=null),o.indexStartValue_=r,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function $m(i,r,e){const o=i.copy();return o.endSet_=!0,void 0===r&&(r=null),o.indexEndValue_=r,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function Wf(i,r){const e=i.copy();return e.index_=r,e}function aC(i){const r={};if(i.isDefault())return r;let e;return i.index_===Vt?e="$priority":i.index_===Vm?e="$value":i.index_===Hs?e="$key":((0,M.hu)(i.index_ instanceof Lm,"Unrecognized index type!"),e=i.index_.toString()),r.orderBy=(0,M.Pz)(e),i.startSet_&&(r.startAt=(0,M.Pz)(i.indexStartValue_),i.startNameSet_&&(r.startAt+=","+(0,M.Pz)(i.indexStartName_))),i.endSet_&&(r.endAt=(0,M.Pz)(i.indexEndValue_),i.endNameSet_&&(r.endAt+=","+(0,M.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?r.limitToFirst=i.limit_:r.limitToLast=i.limit_),r}function lC(i){const r={};if(i.startSet_&&(r.sp=i.indexStartValue_,i.startNameSet_&&(r.sn=i.indexStartName_)),i.endSet_&&(r.ep=i.indexEndValue_,i.endNameSet_&&(r.en=i.indexEndName_)),i.limitSet_){r.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),r.vf=e}return i.index_!==Vt&&(r.i=i.index_.toString()),r}class Gf extends jv{constructor(r,e,o,u){super(),this.repoInfo_=r,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Cd("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,e){return void 0!==e?"tag$"+e:((0,M.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,e,o,u){const f=r._path.toString();this.log_("Listen called for "+f+" "+r._queryIdentifier);const _=Gf.getListenId_(r,o),E={};this.listens_[_]=E;const I=aC(r._queryParams);this.restRequest_(f+".json",I,(T,x)=>{let V=x;if(404===T&&(V=null,T=null),null===T&&this.onDataUpdate_(f,V,!1,o),(0,M.DV)(this.listens_,_)===E){let J;J=T?401===T?"permission_denied":"rest_error:"+T:"ok",u(J,null)}})}unlisten(r,e){const o=Gf.getListenId_(r,e);delete this.listens_[o]}get(r){const e=aC(r._queryParams),o=r._path.toString(),u=new M.BH;return this.restRequest_(o+".json",e,(f,_)=>{let E=_;404===f&&(E=null,f=null),null===f?(this.onDataUpdate_(o,E,!1,null),u.resolve(E)):u.reject(new Error(E))}),u.promise}refreshAuthToken(r){}restRequest_(r,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(e.auth=u.accessToken),f&&f.token&&(e.ac=f.token);const _=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,M.xO)(e);this.log_("Sending REST request for "+_);const E=new XMLHttpRequest;E.onreadystatechange=()=>{if(o&&4===E.readyState){this.log_("REST Response for "+_+" received. status:",E.status,"response:",E.responseText);let I=null;if(E.status>=200&&E.status<300){try{I=(0,M.cI)(E.responseText)}catch(T){mn("Failed to parse JSON response for "+_+": "+E.responseText)}o(null,I)}else 401!==E.status&&404!==E.status&&mn("Got unsuccessful REST response for "+_+" Status: "+E.status),o(E.status);o=null}},E.open("GET",_,!0),E.send()})}}class M0{constructor(){this.rootNode_=We.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,e){this.rootNode_=this.rootNode_.updateChild(r,e)}}function zf(){return{value:null,children:new Map}}function bu(i,r,e){if(ft(r))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(r,e);else{const o=lt(r);i.children.has(o)||i.children.set(o,zf()),bu(i.children.get(o),r=xt(r),e)}}function Wm(i,r){if(ft(r))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(Vt,(o,u)=>{bu(i,new Dt(o),u)}),Wm(i,r)}}if(i.children.size>0){const e=lt(r);return r=xt(r),i.children.has(e)&&Wm(i.children.get(e),r)&&i.children.delete(e),0===i.children.size}return!0}function Gm(i,r,e){null!==i.value?e(r,i.value):function(i,r){i.children.forEach((e,o)=>{r(o,e)})}(i,(o,u)=>{Gm(u,new Dt(r.toString()+"/"+o),e)})}class P0{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),e=Object.assign({},r);return this.last_&&dn(this.last_,(o,u)=>{e[o]=e[o]-u}),this.last_=r,e}}class k0{constructor(r,e){this.server_=e,this.statsToReport_={},this.statsListener_=new P0(r);const o=1e4+2e4*Math.random();Ji(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const r=this.statsListener_.get(),e={};let o=!1;dn(r,(u,f)=>{f>0&&(0,M.r3)(this.statsToReport_,u)&&(e[u]=f,o=!0)}),o&&this.server_.reportStats(e),Ji(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zr=(()=>(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Zr||(Zr={})),Zr))();function Yf(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Nd{constructor(r,e,o){this.path=r,this.affectedTree=e,this.revert=o,this.type=Zr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(ft(this.path)){if(null!=this.affectedTree.value)return(0,M.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Dt(r));return new Nd(Tt(),e,this.revert)}}return(0,M.hu)(lt(this.path)===r,"operationForChild called for unrelated child."),new Nd(xt(this.path),this.affectedTree,this.revert)}}class wu{constructor(r,e){this.source=r,this.path=e,this.type=Zr.LISTEN_COMPLETE}operationForChild(r){return ft(this.path)?new wu(this.source,Tt()):new wu(this.source,xt(this.path))}}class Vo{constructor(r,e,o){this.source=r,this.path=e,this.snap=o,this.type=Zr.OVERWRITE}operationForChild(r){return ft(this.path)?new Vo(this.source,Tt(),this.snap.getImmediateChild(r)):new Vo(this.source,xt(this.path),this.snap)}}class Ya{constructor(r,e,o){this.source=r,this.path=e,this.children=o,this.type=Zr.MERGE}operationForChild(r){if(ft(this.path)){const e=this.children.subtree(new Dt(r));return e.isEmpty()?null:e.value?new Vo(this.source,Tt(),e.value):new Ya(this.source,Tt(),e)}return(0,M.hu)(lt(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new Ya(this.source,xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ws{constructor(r,e,o){this.node_=r,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(ft(r))return this.isFullyInitialized()&&!this.filtered_;const e=lt(r);return this.isCompleteForChild(e)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class cC{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Iu(i,r,e,o,u,f){const _=o.filter(E=>E.type===e);_.sort((E,I)=>function(i,r,e){if(null==r.childName||null==e.childName)throw(0,M.g5)("Should only compare child_ events.");const o=new gt(r.childName,r.snapshotNode),u=new gt(e.childName,e.snapshotNode);return i.index_.compare(o,u)}(i,E,I)),_.forEach(E=>{const I=function(i,r,e){return"value"===r.type||"child_removed"===r.type||(r.prevName=e.getPredecessorChildName(r.childName,r.snapshotNode,i.index_)),r}(i,E,f);u.forEach(T=>{T.respondsTo(E.type)&&r.push(T.createEvent(I,i.query_))})})}function Kf(i,r){return{eventCache:i,serverCache:r}}function es(i,r,e,o){return Kf(new Ws(r,e,o),i.serverCache)}function L0(i,r,e,o){return Kf(i.eventCache,new Ws(r,e,o))}function Du(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Tu(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Qf;class Wt{constructor(r,e=(()=>(Qf||(Qf=new Er(Qi)),Qf))()){this.value=r,this.children=e}static fromObject(r){let e=new Wt(null);return dn(r,(o,u)=>{e=e.set(new Dt(o),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,e){if(null!=this.value&&e(this.value))return{path:Tt(),value:this.value};if(ft(r))return null;{const o=lt(r),u=this.children.get(o);if(null!==u){const f=u.findRootMostMatchingPathAndValue(xt(r),e);return null!=f?{path:qt(new Dt(o),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(ft(r))return this;{const e=lt(r),o=this.children.get(e);return null!==o?o.subtree(xt(r)):new Wt(null)}}set(r,e){if(ft(r))return new Wt(e,this.children);{const o=lt(r),f=(this.children.get(o)||new Wt(null)).set(xt(r),e),_=this.children.insert(o,f);return new Wt(this.value,_)}}remove(r){if(ft(r))return this.children.isEmpty()?new Wt(null):new Wt(null,this.children);{const e=lt(r),o=this.children.get(e);if(o){const u=o.remove(xt(r));let f;return f=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&f.isEmpty()?new Wt(null):new Wt(this.value,f)}return this}}get(r){if(ft(r))return this.value;{const e=lt(r),o=this.children.get(e);return o?o.get(xt(r)):null}}setTree(r,e){if(ft(r))return e;{const o=lt(r),f=(this.children.get(o)||new Wt(null)).setTree(xt(r),e);let _;return _=f.isEmpty()?this.children.remove(o):this.children.insert(o,f),new Wt(this.value,_)}}fold(r){return this.fold_(Tt(),r)}fold_(r,e){const o={};return this.children.inorderTraversal((u,f)=>{o[u]=f.fold_(qt(r,u),e)}),e(r,this.value,o)}findOnPath(r,e){return this.findOnPath_(r,Tt(),e)}findOnPath_(r,e,o){const u=!!this.value&&o(e,this.value);if(u)return u;if(ft(r))return null;{const f=lt(r),_=this.children.get(f);return _?_.findOnPath_(xt(r),qt(e,f),o):null}}foreachOnPath(r,e){return this.foreachOnPath_(r,Tt(),e)}foreachOnPath_(r,e,o){if(ft(r))return this;{this.value&&o(e,this.value);const u=lt(r),f=this.children.get(u);return f?f.foreachOnPath_(xt(r),qt(e,u),o):new Wt(null)}}foreach(r){this.foreach_(Tt(),r)}foreach_(r,e){this.children.inorderTraversal((o,u)=>{u.foreach_(qt(r,o),e)}),this.value&&e(r,this.value)}foreachChild(r){this.children.inorderTraversal((e,o)=>{o.value&&r(e,o.value)})}}class xe{constructor(r){this.writeTree_=r}static empty(){return new xe(new Wt(null))}}function Pd(i,r,e){if(ft(r))return new xe(new Wt(e));{const o=i.writeTree_.findRootMostValueAndPath(r);if(null!=o){const u=o.path;let f=o.value;const _=Vn(u,r);return f=f.updateChild(_,e),new xe(i.writeTree_.set(u,f))}{const u=new Wt(e),f=i.writeTree_.setTree(r,u);return new xe(f)}}}function Zm(i,r,e){let o=i;return dn(e,(u,f)=>{o=Pd(o,qt(r,u),f)}),o}function hC(i,r){if(ft(r))return xe.empty();{const e=i.writeTree_.setTree(r,new Wt(null));return new xe(e)}}function Au(i,r){return null!=Qa(i,r)}function Qa(i,r){const e=i.writeTree_.findRootMostValueAndPath(r);return null!=e?i.writeTree_.get(e.path).getChild(Vn(e.path,r)):null}function Od(i){const r=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Vt,(o,u)=>{r.push(new gt(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{null!=u.value&&r.push(new gt(o,u.value))}),r}function bi(i,r){if(ft(r))return i;{const e=Qa(i,r);return new xe(null!=e?new Wt(e):i.writeTree_.subtree(r))}}function Yt(i){return i.writeTree_.isEmpty()}function xd(i,r){return qm(Tt(),i.writeTree_,r)}function qm(i,r,e){if(null!=r.value)return e.updateChild(i,r.value);{let o=null;return r.children.inorderTraversal((u,f)=>{".priority"===u?((0,M.hu)(null!==f.value,"Priority writes must always be leaf nodes"),o=f.value):e=qm(qt(i,u),f,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(qt(i,".priority"),o)),e}}function Su(i,r){return Qm(r,i)}function mC(i,r){if(i.snap)return Cr(i.path,r);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Cr(qt(i.path,e),r))return!0;return!1}function B0(i){return i.visible}function _C(i,r,e){let o=xe.empty();for(let u=0;u<i.length;++u){const f=i[u];if(r(f)){const _=f.path;let E;if(f.snap)Cr(e,_)?(E=Vn(e,_),o=Pd(o,E,f.snap)):Cr(_,e)&&(E=Vn(_,e),o=Pd(o,Tt(),f.snap.getChild(E)));else{if(!f.children)throw(0,M.g5)("WriteRecord should have .snap or .children");if(Cr(e,_))E=Vn(e,_),o=Zm(o,E,f.children);else if(Cr(_,e))if(E=Vn(_,e),ft(E))o=Zm(o,Tt(),f.children);else{const I=(0,M.DV)(f.children,lt(E));if(I){const T=I.getChild(xt(E));o=Pd(o,Tt(),T)}}}}}return o}function Ru(i,r,e,o,u){if(o||u){const f=bi(i.visibleWrites,r);return!u&&Yt(f)?e:u||null!=e||Au(f,Tt())?xd(_C(i.allWrites,function(T){return(T.visible||u)&&(!o||!~o.indexOf(T.writeId))&&(Cr(T.path,r)||Cr(r,T.path))},r),e||We.EMPTY_NODE):null}{const f=Qa(i.visibleWrites,r);if(null!=f)return f;{const _=bi(i.visibleWrites,r);return Yt(_)?e:null!=e||Au(_,Tt())?xd(_,e||We.EMPTY_NODE):null}}}function kd(i,r,e,o){return Ru(i.writeTree,i.treePath,r,e,o)}function Ym(i,r){return function(i,r,e){let o=We.EMPTY_NODE;const u=Qa(i.visibleWrites,r);if(u)return u.isLeafNode()||u.forEachChild(Vt,(f,_)=>{o=o.updateImmediateChild(f,_)}),o;if(e){const f=bi(i.visibleWrites,r);return e.forEachChild(Vt,(_,E)=>{const I=xd(bi(f,new Dt(_)),E);o=o.updateImmediateChild(_,I)}),Od(f).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}return Od(bi(i.visibleWrites,r)).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}(i.writeTree,i.treePath,r)}function Mu(i,r,e,o){return function(i,r,e,o,u){(0,M.hu)(o||u,"Either existingEventSnap or existingServerSnap must exist");const f=qt(r,e);if(Au(i.visibleWrites,f))return null;{const _=bi(i.visibleWrites,f);return Yt(_)?u.getChild(e):xd(_,u.getChild(e))}}(i.writeTree,i.treePath,r,e,o)}function Uo(i,r){return function(i,r){return Qa(i.visibleWrites,r)}(i.writeTree,qt(i.treePath,r))}function Km(i,r,e){return function(i,r,e,o){const u=qt(r,e),f=Qa(i.visibleWrites,u);return null!=f?f:o.isCompleteForChild(e)?xd(bi(i.visibleWrites,u),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,r,e)}function CC(i,r){return Qm(qt(i.treePath,r),i.writeTree)}function Qm(i,r){return{treePath:i,writeTree:r}}class EC{constructor(){this.changeMap=new Map}trackChildChange(r){const e=r.type,o=r.childName;(0,M.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,M.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const f=u.type;if("child_added"===e&&"child_removed"===f)this.changeMap.set(o,vu(o,r.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===f)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===f)this.changeMap.set(o,yu(o,u.oldSnap));else if("child_changed"===e&&"child_added"===f)this.changeMap.set(o,_u(o,r.snapshotNode));else{if("child_changed"!==e||"child_changed"!==f)throw(0,M.g5)("Illegal combination of changes: "+r+" occurred after "+u);this.changeMap.set(o,vu(o,r.snapshotNode,u.oldSnap))}}else this.changeMap.set(o,r)}getChanges(){return Array.from(this.changeMap.values())}}const wC=new class{getCompleteChild(r){return null}getChildAfterChild(r,e,o){return null}};class Xf{constructor(r,e,o=null){this.writes_=r,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(r){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(r))return e.getNode().getImmediateChild(r);{const o=null!=this.optCompleteServerCache_?new Ws(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Km(this.writes_,r,o)}}getChildAfterChild(r,e,o){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Tu(this.viewCache_),f=function(i,r,e,o,u,f){return function(i,r,e,o,u,f,_){let E;const I=bi(i.visibleWrites,r),T=Qa(I,Tt());if(null!=T)E=T;else{if(null==e)return[];E=xd(I,e)}if(E=E.withIndex(_),E.isEmpty()||E.isLeafNode())return[];{const x=[],V=_.getCompare(),J=f?E.getReverseIteratorFrom(o,_):E.getIteratorFrom(o,_);let fe=J.getNext();for(;fe&&x.length<u;)0!==V(fe,o)&&x.push(fe),fe=J.getNext();return x}}(i.writeTree,i.treePath,r,e,o,u,f)}(this.writes_,u,e,1,o,r);return 0===f.length?null:f[0]}}function Z0(i,r,e,o,u,f){const _=r.eventCache;if(null!=Uo(o,e))return r;{let E,I;if(ft(e))if((0,M.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const T=Tu(r),V=Ym(o,T instanceof We?T:We.EMPTY_NODE);E=i.filter.updateFullNode(r.eventCache.getNode(),V,f)}else{const T=kd(o,Tu(r));E=i.filter.updateFullNode(r.eventCache.getNode(),T,f)}else{const T=lt(e);if(".priority"===T){(0,M.hu)(1===Xi(e),"Can't have a priority with additional path components");const x=_.getNode();I=r.serverCache.getNode();const V=Mu(o,e,x,I);E=null!=V?i.filter.updatePriority(x,V):_.getNode()}else{const x=xt(e);let V;if(_.isCompleteForChild(T)){I=r.serverCache.getNode();const J=Mu(o,e,_.getNode(),I);V=null!=J?_.getNode().getImmediateChild(T).updateChild(x,J):_.getNode().getImmediateChild(T)}else V=Km(o,T,r.serverCache);E=null!=V?i.filter.updateChild(_.getNode(),T,V,x,u,f):_.getNode()}}return es(r,E,_.isFullyInitialized()||ft(e),i.filter.filtersNodes())}}function Jm(i,r,e,o,u,f,_,E){const I=r.serverCache;let T;const x=_?i.filter:i.filter.getIndexedFilter();if(ft(e))T=x.updateFullNode(I.getNode(),o,null);else if(x.filtersNodes()&&!I.isFiltered()){const fe=I.getNode().updateChild(e,o);T=x.updateFullNode(I.getNode(),fe,null)}else{const fe=lt(e);if(!I.isCompleteForPath(e)&&Xi(e)>1)return r;const we=xt(e),Ye=I.getNode().getImmediateChild(fe).updateChild(we,o);T=".priority"===fe?x.updatePriority(I.getNode(),Ye):x.updateChild(I.getNode(),fe,Ye,we,wC,null)}const V=L0(r,T,I.isFullyInitialized()||ft(e),x.filtersNodes());return Z0(i,V,e,u,new Xf(u,V,f),E)}function ep(i,r,e,o,u,f,_){const E=r.eventCache;let I,T;const x=new Xf(u,r,f);if(ft(e))T=i.filter.updateFullNode(r.eventCache.getNode(),o,_),I=es(r,T,!0,i.filter.filtersNodes());else{const V=lt(e);if(".priority"===V)T=i.filter.updatePriority(r.eventCache.getNode(),o),I=es(r,T,E.isFullyInitialized(),E.isFiltered());else{const J=xt(e),fe=E.getNode().getImmediateChild(V);let we;if(ft(J))we=o;else{const ze=x.getCompleteChild(V);we=null!=ze?".priority"===$v(J)&&ze.getChild(Uf(J)).isEmpty()?ze:ze.updateChild(J,o):We.EMPTY_NODE}I=fe.equals(we)?r:es(r,i.filter.updateChild(E.getNode(),V,we,J,x,_),E.isFullyInitialized(),i.filter.filtersNodes())}}return I}function Fd(i,r){return i.eventCache.isCompleteForChild(r)}function IC(i,r,e){return e.foreach((o,u)=>{r=r.updateChild(o,u)}),r}function tp(i,r,e,o,u,f,_,E){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let T,I=r;T=ft(e)?o:new Wt(null).setTree(e,o);const x=r.serverCache.getNode();return T.children.inorderTraversal((V,J)=>{if(x.hasChild(V)){const we=IC(0,r.serverCache.getNode().getImmediateChild(V),J);I=Jm(i,I,new Dt(V),we,u,f,_,E)}}),T.children.inorderTraversal((V,J)=>{const fe=!r.serverCache.isCompleteForChild(V)&&void 0===J.value;if(!x.hasChild(V)&&!fe){const ze=IC(0,r.serverCache.getNode().getImmediateChild(V),J);I=Jm(i,I,new Dt(V),ze,u,f,_,E)}}),I}class Q0{constructor(r,e){this.query_=r,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new Cu(o.getIndex()),f=function(i){return i.loadsAllData()?new Cu(i.getIndex()):i.hasLimit()?new nC(i):new Eu(i)}(o);this.processor_=function(i){return{filter:i}}(f);const _=e.serverCache,E=e.eventCache,I=u.updateFullNode(We.EMPTY_NODE,_.getNode(),null),T=f.updateFullNode(We.EMPTY_NODE,E.getNode(),null),x=new Ws(I,_.isFullyInitialized(),u.filtersNodes()),V=new Ws(T,E.isFullyInitialized(),f.filtersNodes());this.viewCache_=Kf(V,x),this.eventGenerator_=new cC(this.query_)}get query(){return this.query_}}function DC(i,r){const e=Tu(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!ft(r)&&!e.getImmediateChild(lt(r)).isEmpty())?e.getChild(r):null}function TC(i){return 0===i.eventRegistrations_.length}function Ja(i,r,e){const o=[];if(e){(0,M.hu)(null==r,"A cancel should cancel all event registrations.");const u=i.query._path;i.eventRegistrations_.forEach(f=>{const _=f.createCancelEvent(e,u);_&&o.push(_)})}if(r){let u=[];for(let f=0;f<i.eventRegistrations_.length;++f){const _=i.eventRegistrations_[f];if(_.matches(r)){if(r.hasAnyCallback()){u=u.concat(i.eventRegistrations_.slice(f+1));break}}else u.push(_)}i.eventRegistrations_=u}else i.eventRegistrations_=[];return o}function AC(i,r,e,o){r.type===Zr.MERGE&&null!==r.source.queryId&&((0,M.hu)(Tu(i.viewCache_),"We should always have a full cache before handling merges"),(0,M.hu)(Du(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,f=function(i,r,e,o,u){const f=new EC;let _,E;if(e.type===Zr.OVERWRITE){const T=e;T.source.fromUser?_=ep(i,r,T.path,T.snap,o,u,f):((0,M.hu)(T.source.fromServer,"Unknown source."),E=T.source.tagged||r.serverCache.isFiltered()&&!ft(T.path),_=Jm(i,r,T.path,T.snap,o,u,E,f))}else if(e.type===Zr.MERGE){const T=e;T.source.fromUser?_=function(i,r,e,o,u,f,_){let E=r;return o.foreach((I,T)=>{const x=qt(e,I);Fd(r,lt(x))&&(E=ep(i,E,x,T,u,f,_))}),o.foreach((I,T)=>{const x=qt(e,I);Fd(r,lt(x))||(E=ep(i,E,x,T,u,f,_))}),E}(i,r,T.path,T.children,o,u,f):((0,M.hu)(T.source.fromServer,"Unknown source."),E=T.source.tagged||r.serverCache.isFiltered(),_=tp(i,r,T.path,T.children,o,u,E,f))}else if(e.type===Zr.ACK_USER_WRITE){const T=e;_=T.revert?function(i,r,e,o,u,f){let _;if(null!=Uo(o,e))return r;{const E=new Xf(o,r,u),I=r.eventCache.getNode();let T;if(ft(e)||".priority"===lt(e)){let x;if(r.serverCache.isFullyInitialized())x=kd(o,Tu(r));else{const V=r.serverCache.getNode();(0,M.hu)(V instanceof We,"serverChildren would be complete if leaf node"),x=Ym(o,V)}x=x,T=i.filter.updateFullNode(I,x,f)}else{const x=lt(e);let V=Km(o,x,r.serverCache);null==V&&r.serverCache.isCompleteForChild(x)&&(V=I.getImmediateChild(x)),T=null!=V?i.filter.updateChild(I,x,V,xt(e),E,f):r.eventCache.getNode().hasChild(x)?i.filter.updateChild(I,x,We.EMPTY_NODE,xt(e),E,f):I,T.isEmpty()&&r.serverCache.isFullyInitialized()&&(_=kd(o,Tu(r)),_.isLeafNode()&&(T=i.filter.updateFullNode(T,_,f)))}return _=r.serverCache.isFullyInitialized()||null!=Uo(o,Tt()),es(r,T,_,i.filter.filtersNodes())}}(i,r,T.path,o,u,f):function(i,r,e,o,u,f,_){if(null!=Uo(u,e))return r;const E=r.serverCache.isFiltered(),I=r.serverCache;if(null!=o.value){if(ft(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return Jm(i,r,e,I.getNode().getChild(e),u,f,E,_);if(ft(e)){let T=new Wt(null);return I.getNode().forEachChild(Hs,(x,V)=>{T=T.set(new Dt(x),V)}),tp(i,r,e,T,u,f,E,_)}return r}{let T=new Wt(null);return o.foreach((x,V)=>{const J=qt(e,x);I.isCompleteForPath(J)&&(T=T.set(x,I.getNode().getChild(J)))}),tp(i,r,e,T,u,f,E,_)}}(i,r,T.path,T.affectedTree,o,u,f)}else{if(e.type!==Zr.LISTEN_COMPLETE)throw(0,M.g5)("Unknown operation type: "+e.type);_=function(i,r,e,o,u){const f=r.serverCache;return Z0(i,L0(r,f.getNode(),f.isFullyInitialized()||ft(e),f.isFiltered()),e,o,wC,u)}(i,r,e.path,o,f)}const I=f.getChanges();return function(i,r,e){const o=r.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),f=Du(i);(e.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(f)||!o.getNode().getPriority().equals(f.getPriority()))&&e.push(Rd(Du(r)))}}(r,_,I),{viewCache:_,changes:I}}(i.processor_,u,r,e,o);return function(i,r){(0,M.hu)(r.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,M.hu)(r.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,f.viewCache),(0,M.hu)(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=f.viewCache,RC(i,f.changes,f.viewCache.eventCache.getNode(),null)}function RC(i,r,e,o){return function(i,r,e,o){const u=[],f=[];return r.forEach(_=>{"child_changed"===_.type&&i.index_.indexedValueChanged(_.oldSnap,_.snapshotNode)&&f.push(function(i,r){return{type:"child_moved",snapshotNode:r,childName:i}}(_.childName,_.snapshotNode))}),Iu(i,u,"child_removed",r,o,e),Iu(i,u,"child_added",r,o,e),Iu(i,u,"child_moved",f,o,e),Iu(i,u,"child_changed",r,o,e),Iu(i,u,"value",r,o,e),u}(i.eventGenerator_,r,e,o?[o]:i.eventRegistrations_)}let Vd,ip;class MC{constructor(){this.views=new Map}}function e_(i,r,e,o){const u=r.source.queryId;if(null!==u){const f=i.views.get(u);return(0,M.hu)(null!=f,"SyncTree gave us an op for an invalid query."),AC(f,r,e,o)}{let f=[];for(const _ of i.views.values())f=f.concat(AC(_,r,e,o));return f}}function t_(i,r,e,o,u){const _=i.views.get(r._queryIdentifier);if(!_){let E=kd(e,u?o:null),I=!1;E?I=!0:o instanceof We?(E=Ym(e,o),I=!1):(E=We.EMPTY_NODE,I=!1);const T=Kf(new Ws(E,I,!1),new Ws(o,u,!1));return new Q0(r,T)}return _}function OC(i){const r=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||r.push(e);return r}function Bo(i,r){let e=null;for(const o of i.views.values())e=e||DC(o,r);return e}function np(i,r){return r._queryParams.loadsAllData()?rp(i):i.views.get(r._queryIdentifier)}function xC(i,r){return null!=np(i,r)}function Gs(i){return null!=rp(i)}function rp(i){for(const r of i.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let sw=1;class kC{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Wt(null),this.pendingWriteTree_={visibleWrites:xe.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function n_(i,r,e,o,u){return function(i,r,e,o,u){(0,M.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),i.allWrites.push({path:r,snap:e,writeId:o,visible:u}),u&&(i.visibleWrites=Pd(i.visibleWrites,r,e)),i.lastWriteId=o}(i.pendingWriteTree_,r,e,o,u),u?jo(i,new Vo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,e)):[]}function zs(i,r,e=!1){const o=function(i,r){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===r)return o}return null}(i.pendingWriteTree_,r);if(function(i,r){const e=i.allWrites.findIndex(E=>E.writeId===r);(0,M.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let u=o.visible,f=!1,_=i.allWrites.length-1;for(;u&&_>=0;){const E=i.allWrites[_];E.visible&&(_>=e&&mC(E,o.path)?u=!1:Cr(o.path,E.path)&&(f=!0)),_--}return!!u&&(f?(function(i){i.visibleWrites=_C(i.allWrites,B0,Tt()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=hC(i.visibleWrites,o.path):dn(o.children,I=>{i.visibleWrites=hC(i.visibleWrites,qt(o.path,I))}),!0))}(i.pendingWriteTree_,r)){let f=new Wt(null);return null!=o.snap?f=f.set(Tt(),!0):dn(o.children,_=>{f=f.set(new Dt(_),!0)}),jo(i,new Nd(o.path,f,e))}return[]}function Nu(i,r,e){return jo(i,new Vo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,e))}function r_(i,r,e,o){const u=r._path,f=i.syncPointTree_.get(u);let _=[];if(f&&("default"===r._queryIdentifier||xC(f,r))){const E=function(i,r,e,o){const u=r._queryIdentifier,f=[];let _=[];const E=Gs(i);if("default"===u)for(const[I,T]of i.views.entries())_=_.concat(Ja(T,e,o)),TC(T)&&(i.views.delete(I),T.query._queryParams.loadsAllData()||f.push(T.query));else{const I=i.views.get(u);I&&(_=_.concat(Ja(I,e,o)),TC(I)&&(i.views.delete(u),I.query._queryParams.loadsAllData()||f.push(I.query)))}return E&&!Gs(i)&&f.push(new((0,M.hu)(Vd,"Reference.ts has not been loaded"),Vd)(r._repo,r._path)),{removed:f,events:_}}(f,r,e,o);(function(i){return 0===i.views.size})(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const I=E.removed;_=E.events;const T=-1!==I.findIndex(V=>V._queryParams.loadsAllData()),x=i.syncPointTree_.findOnPath(u,(V,J)=>Gs(J));if(T&&!x){const V=i.syncPointTree_.subtree(u);if(!V.isEmpty()){const J=function(i){return i.fold((r,e,o)=>{if(e&&Gs(e))return[rp(e)];{let u=[];return e&&(u=OC(e)),dn(o,(f,_)=>{u=u.concat(_)}),u}})}(V);for(let fe=0;fe<J.length;++fe){const we=J[fe],ze=we.query,Ye=op(i,we);i.listenProvider_.startListening(cp(ze),ap(i,ze),Ye.hashFn,Ye.onComplete)}}}if(!x&&I.length>0&&!o)if(T){const V=null;i.listenProvider_.stopListening(cp(r),V)}else I.forEach(V=>{const J=i.queryToTagMap.get(Ud(V));i.listenProvider_.stopListening(cp(V),J)});!function(i,r){for(let e=0;e<r.length;++e){const o=r[e];if(!o._queryParams.loadsAllData()){const u=Ud(o),f=i.queryToTagMap.get(u);i.queryToTagMap.delete(u),i.tagToQueryMap.delete(f)}}}(i,I)}return _}function sp(i,r,e){const o=r._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(V,J)=>{const fe=Vn(V,o);u=u||Bo(J,fe),f=f||Gs(J)});let E,_=i.syncPointTree_.get(o);_?(f=f||Gs(_),u=u||Bo(_,Tt())):(_=new MC,i.syncPointTree_=i.syncPointTree_.set(o,_)),null!=u?E=!0:(E=!1,u=We.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((J,fe)=>{const we=Bo(fe,Tt());we&&(u=u.updateImmediateChild(J,we))}));const I=xC(_,r);if(!I&&!r._queryParams.loadsAllData()){const V=Ud(r);(0,M.hu)(!i.queryToTagMap.has(V),"View does not exist, but we have a tag");const J=sw++;i.queryToTagMap.set(V,J),i.tagToQueryMap.set(J,V)}let x=function(i,r,e,o,u,f){const _=t_(i,r,o,u,f);return i.views.has(r._queryIdentifier)||i.views.set(r._queryIdentifier,_),function(i,r){i.eventRegistrations_.push(r)}(_,e),function(i,r){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Vt,(f,_)=>{o.push(_u(f,_))}),e.isFullyInitialized()&&o.push(Rd(e.getNode())),RC(i,o,e.getNode(),r)}(_,e)}(_,r,e,Su(i.pendingWriteTree_,o),u,E);if(!I&&!f){const V=np(_,r);x=x.concat(function(i,r,e){const o=r._path,u=ap(i,r),f=op(i,e),_=i.listenProvider_.startListening(cp(r),u,f.hashFn,f.onComplete),E=i.syncPointTree_.subtree(o);if(u)(0,M.hu)(!Gs(E.value),"If we're adding a query, it shouldn't be shadowed");else{const I=E.fold((T,x,V)=>{if(!ft(T)&&x&&Gs(x))return[rp(x).query];{let J=[];return x&&(J=J.concat(OC(x).map(fe=>fe.query))),dn(V,(fe,we)=>{J=J.concat(we)}),J}});for(let T=0;T<I.length;++T){const x=I[T];i.listenProvider_.stopListening(cp(x),ap(i,x))}}return _}(i,r,V))}return x}function Pu(i,r,e){const u=i.pendingWriteTree_,f=i.syncPointTree_.findOnPath(r,(_,E)=>{const T=Bo(E,Vn(_,r));if(T)return T});return Ru(u,r,f,e,!0)}function jo(i,r){return VC(r,i.syncPointTree_,null,Su(i.pendingWriteTree_,Tt()))}function VC(i,r,e,o){if(ft(i.path))return UC(i,r,e,o);{const u=r.get(Tt());null==e&&null!=u&&(e=Bo(u,Tt()));let f=[];const _=lt(i.path),E=i.operationForChild(_),I=r.children.get(_);if(I&&E){const T=e?e.getImmediateChild(_):null,x=CC(o,_);f=f.concat(VC(E,I,T,x))}return u&&(f=f.concat(e_(u,i,o,e))),f}}function UC(i,r,e,o){const u=r.get(Tt());null==e&&null!=u&&(e=Bo(u,Tt()));let f=[];return r.children.inorderTraversal((_,E)=>{const I=e?e.getImmediateChild(_):null,T=CC(o,_),x=i.operationForChild(_);x&&(f=f.concat(UC(x,E,I,T)))}),u&&(f=f.concat(e_(u,i,o,e))),f}function op(i,r){const e=r.query,o=ap(i,e);return{hashFn:()=>(function(i){return i.viewCache_.serverCache.getNode()}(r)||We.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return o?function(i,r,e){const o=i_(i,e);if(o){const u=lp(o),f=u.path,_=u.queryId,E=Vn(f,r);return up(i,f,new wu(Yf(_),E))}return[]}(i,e._path,o):function(i,r){return jo(i,new wu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(i,e._path);{const f=function(i,r){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+r._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(u,e);return r_(i,e,null,f)}}}}function ap(i,r){const e=Ud(r);return i.queryToTagMap.get(e)}function Ud(i){return i._path.toString()+"$"+i._queryIdentifier}function i_(i,r){return i.tagToQueryMap.get(r)}function lp(i){const r=i.indexOf("$");return(0,M.hu)(-1!==r&&r<i.length-1,"Bad queryKey."),{queryId:i.substr(r+1),path:new Dt(i.substr(0,r))}}function up(i,r,e){const o=i.syncPointTree_.get(r);return(0,M.hu)(o,"Missing sync point for query tag that we're tracking"),e_(o,e,Su(i.pendingWriteTree_,r),null)}function cp(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new((0,M.hu)(ip,"Reference.ts has not been loaded"),ip)(i._repo,i._path):i}class Bd{constructor(r){this.node_=r}getImmediateChild(r){const e=this.node_.getImmediateChild(r);return new Bd(e)}node(){return this.node_}}class Ou{constructor(r,e){this.syncTree_=r,this.path_=e}getImmediateChild(r){const e=qt(this.path_,r);return new Ou(this.syncTree_,e)}node(){return Pu(this.syncTree_,this.path_)}}const el=function(i,r,e){return i&&"object"==typeof i?((0,M.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?fw(i[".sv"],r,e):"object"==typeof i[".sv"]?ND(i[".sv"],r):void(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},fw=function(i,r,e){switch(i){case"timestamp":return e.timestamp;default:(0,M.hu)(!1,"Unexpected server value: "+i)}},ND=function(i,r,e){i.hasOwnProperty("increment")||(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,M.hu)(!1,"Unexpected increment value: "+o);const u=r.node();if((0,M.hu)(null!=u,"Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const _=u.getValue();return"number"!=typeof _?o:_+o},jC=function(i,r,e,o){return dp(r,new Ou(e,i),o)},qr=function(i,r,e){return dp(i,new Bd(r),e)};function dp(i,r,e){const o=i.getPriority().val(),u=el(o,r.getImmediateChild(".priority"),e);let f;if(i.isLeafNode()){const _=i,E=el(_.getValue(),r,e);return E!==_.getValue()||u!==_.getPriority().val()?new za(E,tn(u)):i}{const _=i;return f=_,u!==_.getPriority().val()&&(f=f.updatePriority(new za(u))),_.forEachChild(Vt,(E,I)=>{const T=dp(I,r.getImmediateChild(E),e);T!==I&&(f=f.updateImmediateChild(E,T))}),f}}class HC{constructor(r="",e=null,o={children:{},childCount:0}){this.name=r,this.parent=e,this.node=o}}function tl(i,r){let e=r instanceof Dt?r:new Dt(r),o=i,u=lt(e);for(;null!==u;){const f=(0,M.DV)(o.node.children,u)||{children:{},childCount:0};o=new HC(u,o,f),e=xt(e),u=lt(e)}return o}function nl(i){return i.node.value}function s_(i,r){i.node.value=r,jd(i)}function pw(i){return i.node.childCount>0}function hp(i,r){dn(i.node.children,(e,o)=>{r(new HC(e,i,o))})}function $C(i,r,e,o){e&&!o&&r(i),hp(i,u=>{$C(u,r,!0,o)}),e&&o&&r(i)}function xu(i){return new Dt(null===i.parent?i.name:xu(i.parent)+"/"+i.name)}function jd(i){null!==i.parent&&function(i,r,e){const o=function(i){return void 0===nl(i)&&!pw(i)}(e),u=(0,M.r3)(i.node.children,r);o&&u?(delete i.node.children[r],i.node.childCount--,jd(i)):!o&&!u&&(i.node.children[r]=e.node,i.node.childCount++,jd(i))}(i.parent,i.name,i)}const mw=/[\[\].#$\/\u0000-\u001F\u007F]/,PD=/[\[\].#$\u0000-\u001F\u007F]/,a_=10485760,fp=function(i){return"string"==typeof i&&0!==i.length&&!mw.test(i)},GC=function(i){return"string"==typeof i&&0!==i.length&&!PD.test(i)},ku=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!vr(i)||i&&"object"==typeof i&&(0,M.r3)(i,".sv")},wi=function(i,r,e,o){o&&void 0===r||Hd((0,M.gK)(i,"value"),r,e)},Hd=function(i,r,e){const o=e instanceof Dt?new Gv(e,i):e;if(void 0===r)throw new Error(i+"contains undefined "+js(o));if("function"==typeof r)throw new Error(i+"contains a function "+js(o)+" with contents = "+r.toString());if(vr(r))throw new Error(i+"contains "+r.toString()+" "+js(o));if("string"==typeof r&&r.length>a_/3&&(0,M.ug)(r)>a_)throw new Error(i+"contains a string greater than "+a_+" utf8 bytes "+js(o)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let u=!1,f=!1;if(dn(r,(_,E)=>{if(".value"===_)u=!0;else if(".priority"!==_&&".sv"!==_&&(f=!0,!fp(_)))throw new Error(i+" contains an invalid key ("+_+") "+js(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(i,r){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(r),i.byteLength_+=(0,M.ug)(r),Rm(i)})(o,_),Hd(i,E,o),function(i){const r=i.parts_.pop();i.byteLength_-=(0,M.ug)(r),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),u&&f)throw new Error(i+' contains ".value" child '+js(o)+" in addition to actual children.")}},l_=function(i,r,e,o){if(o&&void 0===r)return;const u=(0,M.gK)(i,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(u+" must be an object containing the children to replace.");const f=[];dn(r,(_,E)=>{const I=new Dt(_);if(Hd(u,E,qt(e,I)),".priority"===$v(I)&&!ku(E))throw new Error(u+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(I)}),function(i,r){let e,o;for(e=0;e<r.length;e++){o=r[e];const f=Wa(o);for(let _=0;_<f.length;_++)if((".priority"!==f[_]||_!==f.length-1)&&!fp(f[_]))throw new Error(i+"contains an invalid key ("+f[_]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(Wv);let u=null;for(e=0;e<r.length;e++){if(o=r[e],null!==u&&Cr(u,o))throw new Error(i+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}}(u,f)},Fu=function(i,r,e){if(!e||void 0!==r){if(vr(r))throw new Error((0,M.gK)(i,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ku(r))throw new Error((0,M.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$d=function(i,r,e,o){if(!(o&&void 0===e||fp(e)))throw new Error((0,M.gK)(i,r)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lu=function(i,r,e,o){if(!(o&&void 0===e||GC(e)))throw new Error((0,M.gK)(i,r)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ar=function(i,r){if(".info"===lt(r))throw new Error(i+" failed = Can't modify data under /.info/")},Vu=function(i,r){const e=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!fp(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),GC(i)}(e))throw new Error((0,M.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class yw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gp(i,r){let e=null;for(let o=0;o<r.length;o++){const u=r[o],f=u.getPath();null!==e&&!Dd(f,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:f}),e.events.push(u)}e&&i.eventLists_.push(e)}function ZC(i,r,e){gp(i,e),qC(i,o=>Dd(o,r))}function Yr(i,r,e){gp(i,e),qC(i,o=>Cr(o,r)||Cr(r,o))}function qC(i,r){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];u&&(r(u.path)?(vw(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function vw(i){for(let r=0;r<i.events.length;r++){const e=i.events[r];if(null!==e){i.events[r]=null;const o=e.getEventRunner();Ha&&Sn("event: "+e.toString()),vi(o)}}}const YC="repo_interrupt";class Ew{constructor(r,e,o,u){this.repoInfo_=r,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zf(),this.transactionQueueTree_=new HC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KC(i){const e=i.infoData_.getNode(new Dt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Wd(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:KC(i)})}function ww(i,r,e,o,u){i.dataUpdateCount++;const f=new Dt(r);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(r,e):e;let _=[];if(u)if(o){const I=(0,M.UI)(e,T=>tn(T));_=function(i,r,e,o){const u=i_(i,o);if(u){const f=lp(u),_=f.path,E=f.queryId,I=Vn(_,r),T=Wt.fromObject(e);return up(i,_,new Ya(Yf(E),I,T))}return[]}(i.serverSyncTree_,f,I,u)}else{const I=tn(e);_=function(i,r,e,o){const u=i_(i,o);if(null!=u){const f=lp(u),_=f.path,E=f.queryId,I=Vn(_,r);return up(i,_,new Vo(Yf(E),I,e))}return[]}(i.serverSyncTree_,f,I,u)}else if(o){const I=(0,M.UI)(e,T=>tn(T));_=function(i,r,e){const o=Wt.fromObject(e);return jo(i,new Ya({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}(i.serverSyncTree_,f,I)}else{const I=tn(e);_=Nu(i.serverSyncTree_,f,I)}let E=f;_.length>0&&(E=Bu(i,f)),Yr(i.eventQueue_,E,_)}function QC(i,r){u_(i,"connected",r),!1===r&&function(i){Ho(i,"onDisconnectEvents");const r=Wd(i),e=zf();Gm(i.onDisconnect_,Tt(),(u,f)=>{const _=jC(u,f,i.serverSyncTree_,r);bu(e,u,_)});let o=[];Gm(e,Tt(),(u,f)=>{o=o.concat(Nu(i.serverSyncTree_,u,f));const _=At(i,u);Bu(i,_)}),i.onDisconnect_=zf(),Yr(i.eventQueue_,Tt(),o)}(i)}function u_(i,r,e){const o=new Dt("/.info/"+r),u=tn(e);i.infoData_.updateSnapshot(o,u);const f=Nu(i.infoSyncTree_,o,u);Yr(i.eventQueue_,o,f)}function mp(i){return i.nextWriteId_++}function Uu(i,r,e,o,u){Ho(i,"set",{path:r.toString(),value:e,priority:o});const f=Wd(i),_=tn(e,o),E=Pu(i.serverSyncTree_,r),I=qr(_,E,f),T=mp(i),x=n_(i.serverSyncTree_,r,I,T,!0);gp(i.eventQueue_,x),i.server_.put(r.toString(),_.val(!0),(J,fe)=>{const we="ok"===J;we||mn("set at "+r+" failed: "+J);const ze=zs(i.serverSyncTree_,T,!we);Yr(i.eventQueue_,r,ze),Zs(0,u,J,fe)});const V=At(i,r);Bu(i,V),Yr(i.eventQueue_,V,[])}function Dw(i,r,e){i.server_.onDisconnectCancel(r.toString(),(o,u)=>{"ok"===o&&Wm(i.onDisconnect_,r),Zs(0,e,o,u)})}function Tw(i,r,e,o){const u=tn(e);i.server_.onDisconnectPut(r.toString(),u.val(!0),(f,_)=>{"ok"===f&&bu(i.onDisconnect_,r,u),Zs(0,o,f,_)})}function c_(i,r,e){let o;o=".info"===lt(r._path)?r_(i.infoSyncTree_,r,e):r_(i.serverSyncTree_,r,e),ZC(i.eventQueue_,r._path,o)}function d_(i){i.persistentConnection_&&i.persistentConnection_.interrupt(YC)}function Ho(i,...r){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),Sn(e,...r)}function Zs(i,r,e,o){r&&vi(()=>{if("ok"===e)r(null);else{const u=(e||"error").toUpperCase();let f=u;o&&(f+=": "+o);const _=new Error(f);_.code=u,r(_)}})}function h_(i,r,e){return Pu(i.serverSyncTree_,r,e)||We.EMPTY_NODE}function yp(i,r=i.transactionQueueTree_){if(r||$o(i,r),nl(r)){const e=Zd(i,r);(0,M.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function(i,r,e){const o=e.map(T=>T.currentWriteId),u=h_(i,r,o);let f=u;const _=u.hash();for(let T=0;T<e.length;T++){const x=e[T];(0,M.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const V=Vn(r,x.path);f=f.updateChild(V,x.currentOutputSnapshotRaw)}const E=f.val(!0),I=r;i.server_.put(I.toString(),E,T=>{Ho(i,"transaction put response",{path:I.toString(),status:T});let x=[];if("ok"===T){const V=[];for(let J=0;J<e.length;J++)e[J].status=2,x=x.concat(zs(i.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&V.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();$o(i,tl(i.transactionQueueTree_,r)),yp(i,i.transactionQueueTree_),Yr(i.eventQueue_,r,x);for(let J=0;J<V.length;J++)vi(V[J])}else{if("datastale"===T)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{mn("transaction at "+I.toString()+" failed: "+T);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=T}Bu(i,r)}},_)}(i,xu(r),e)}else pw(r)&&hp(r,e=>{yp(i,e)})}function Bu(i,r){const e=zd(i,r),o=xu(e);return function(i,r,e){if(0===r.length)return;const o=[];let u=[];const _=r.filter(E=>0===E.status).map(E=>E.currentWriteId);for(let E=0;E<r.length;E++){const I=r[E],T=Vn(e,I.path);let V,x=!1;if((0,M.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)x=!0,V=I.abortReason,u=u.concat(zs(i.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)x=!0,V="maxretry",u=u.concat(zs(i.serverSyncTree_,I.currentWriteId,!0));else{const J=h_(i,I.path,_);I.currentInputSnapshot=J;const fe=r[E].update(J.val());if(void 0!==fe){Hd("transaction failed: Data returned ",fe,I.path);let we=tn(fe);"object"==typeof fe&&null!=fe&&(0,M.r3)(fe,".priority")||(we=we.updatePriority(J.getPriority()));const Ye=I.currentWriteId,nn=Wd(i),Bt=qr(we,J,nn);I.currentOutputSnapshotRaw=we,I.currentOutputSnapshotResolved=Bt,I.currentWriteId=mp(i),_.splice(_.indexOf(Ye),1),u=u.concat(n_(i.serverSyncTree_,I.path,Bt,I.currentWriteId,I.applyLocally)),u=u.concat(zs(i.serverSyncTree_,Ye,!0))}else x=!0,V="nodata",u=u.concat(zs(i.serverSyncTree_,I.currentWriteId,!0))}Yr(i.eventQueue_,e,u),u=[],x&&(r[E].status=2,setTimeout(r[E].unwatcher,Math.floor(0)),r[E].onComplete&&o.push("nodata"===V?()=>r[E].onComplete(null,!1,r[E].currentInputSnapshot):()=>r[E].onComplete(new Error(V),!1,null)))}$o(i,i.transactionQueueTree_);for(let E=0;E<o.length;E++)vi(o[E]);yp(i,i.transactionQueueTree_)}(i,Zd(i,e),o),o}function zd(i,r){let e,o=i.transactionQueueTree_;for(e=lt(r);null!==e&&void 0===nl(o);)o=tl(o,e),e=lt(r=xt(r));return o}function Zd(i,r){const e=[];return Rw(i,r,e),e.sort((o,u)=>o.order-u.order),e}function Rw(i,r,e){const o=nl(r);if(o)for(let u=0;u<o.length;u++)e.push(o[u]);hp(r,u=>{Rw(i,u,e)})}function $o(i,r){const e=nl(r);if(e){let o=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[o]=e[u],o++);e.length=o,s_(r,e.length>0?e:void 0)}hp(r,o=>{$o(i,o)})}function At(i,r){const e=xu(zd(i,r)),o=tl(i.transactionQueueTree_,r);return function(i,r,e){let o=i.parent;for(;null!==o;){if(r(o))return!0;o=o.parent}}(o,u=>{ts(i,u)}),ts(i,o),$C(o,u=>{ts(i,u)}),e}function ts(i,r){const e=nl(r);if(e){const o=[];let u=[],f=-1;for(let _=0;_<e.length;_++)3===e[_].status||(1===e[_].status?((0,M.hu)(f===_-1,"All SENT items should be at beginning of queue."),f=_,e[_].status=3,e[_].abortReason="set"):((0,M.hu)(0===e[_].status,"Unexpected transaction status in abort"),e[_].unwatcher(),u=u.concat(zs(i.serverSyncTree_,e[_].currentWriteId,!0)),e[_].onComplete&&o.push(e[_].onComplete.bind(null,new Error("set"),!1,null))));-1===f?s_(r,void 0):e.length=f+1,Yr(i.eventQueue_,xu(r),u);for(let _=0;_<o.length;_++)vi(o[_])}}const rE=function(i,r){const e=rt(i),o=e.namespace;return"firebase.com"===e.domain&&kr(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&kr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Rv(e.host,e.secure,o,r,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new Dt(e.pathString)}},rt=function(i){let r="",e="",o="",u="",f="",_=!0,E="https",I=443;if("string"==typeof i){let T=i.indexOf("//");T>=0&&(E=i.substring(0,T-1),i=i.substring(T+2));let x=i.indexOf("/");-1===x&&(x=i.length);let V=i.indexOf("?");-1===V&&(V=i.length),r=i.substring(0,Math.min(x,V)),x<V&&(u=function(i){let r="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let u=e[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(f){}r+="/"+u}return r}(i.substring(x,V)));const J=function(i){const r={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?r[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):mn(`Invalid query segment '${e}' in query '${i}'`)}return r}(i.substring(Math.min(i.length,V)));T=r.indexOf(":"),T>=0?(_="https"===E||"wss"===E,I=parseInt(r.substring(T+1),10)):T=r.length;const fe=r.slice(0,T);if("localhost"===fe.toLowerCase())e="localhost";else if(fe.split(".").length<=2)e=fe;else{const we=r.indexOf(".");o=r.substring(0,we).toLowerCase(),e=r.substring(we+1),f=o}"ns"in J&&(f=J.ns)}return{host:r,port:I,domain:e,subdomain:o,secure:_,scheme:E,pathString:u,namespace:f}};class Lr{constructor(r,e,o,u){this.eventType=r,this.eventRegistration=e,this.snapshot=o,this.prevName=u}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,M.Pz)(this.snapshot.exportVal())}}class vp{constructor(r,e,o){this.eventRegistration=r,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Wo{constructor(r,e){this.snapshotCallback=r,this.cancelCallback=e}onValue(r,e){this.snapshotCallback.call(null,r,e)}onCancel(r){return(0,M.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Mw{constructor(r,e){this._repo=r,this._path=e}cancel(){const r=new M.BH;return Dw(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){ar("OnDisconnect.remove",this._path);const r=new M.BH;return Tw(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){ar("OnDisconnect.set",this._path),wi("OnDisconnect.set",r,this._path,!1);const e=new M.BH;return Tw(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}setWithPriority(r,e){ar("OnDisconnect.setWithPriority",this._path),wi("OnDisconnect.setWithPriority",r,this._path,!1),Fu("OnDisconnect.setWithPriority",e,!1);const o=new M.BH;return function(i,r,e,o,u){const f=tn(e,o);i.server_.onDisconnectPut(r.toString(),f.val(!0),(_,E)=>{"ok"===_&&bu(i.onDisconnect_,r,f),Zs(0,u,_,E)})}(this._repo,this._path,r,e,o.wrapCallback(()=>{})),o.promise}update(r){ar("OnDisconnect.update",this._path),l_("OnDisconnect.update",r,this._path,!1);const e=new M.BH;return function(i,r,e,o){if((0,M.xb)(e))return Sn("onDisconnect().update() called with empty data.  Don't do anything."),void Zs(0,o,"ok",void 0);i.server_.onDisconnectMerge(r.toString(),e,(u,f)=>{"ok"===u&&dn(e,(_,E)=>{const I=tn(E);bu(i.onDisconnect_,qt(r,_),I)}),Zs(0,o,u,f)})}(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}}class lr{constructor(r,e,o,u){this._repo=r,this._path=e,this._queryParams=o,this._orderByCalled=u}get key(){return ft(this._path)?null:$v(this._path)}get ref(){return new Kr(this._repo,this._path)}get _queryIdentifier(){const r=lC(this._queryParams),e=Rn(r);return"{}"===e?"default":e}get _queryObject(){return lC(this._queryParams)}isEqual(r){if(!((r=(0,M.m9)(r))instanceof lr))return!1;const e=this._repo===r._repo,o=Dd(this._path,r._path);return e&&o&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(i){let r="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(r+="/"+encodeURIComponent(String(i.pieces_[e])));return r||"/"}(this._path)}}function Yd(i,r){if(!0===i._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function il(i){let r=null,e=null;if(i.hasStart()&&(r=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===Hs){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Ls)throw new Error(o);if("string"!=typeof r)throw new Error(u)}if(i.hasEnd()){if(i.getIndexEndName()!==Ki)throw new Error(o);if("string"!=typeof e)throw new Error(u)}}else if(i.getIndex()===Vt){if(null!=r&&!ku(r)||null!=e&&!ku(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,M.hu)(i.getIndex()instanceof Lm||i.getIndex()===Vm,"unknown index type."),null!=r&&"object"==typeof r||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Cp(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Kr extends lr{constructor(r,e){super(r,e,new Md,!1)}get parent(){const r=Uf(this._path);return null===r?null:new Kr(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Mn{constructor(r,e,o){this._node=r,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const e=new Dt(r),o=Go(this.ref,r);return new Mn(this._node.getChild(e),o,Vt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,u)=>r(new Mn(u,Go(this.ref,o),Vt)))}hasChild(r){const e=new Dt(r);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Kt(i,r){return(i=(0,M.m9)(i))._checkNotDeleted("ref"),void 0!==r?Go(i._root,r):i._root}function Qr(i,r){(i=(0,M.m9)(i))._checkNotDeleted("refFromURL");const e=rE(r,i._repo.repoInfo_.nodeAdmin);Vu("refFromURL",e);const o=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&o.host!==i._repo.repoInfo_.host&&kr("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+i._repo.repoInfo_.host+")"),Kt(i,e.path.toString())}function Go(i,r){return null===lt((i=(0,M.m9)(i))._path)?((e=r)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lu("child","path",e,!1)):Lu("child","path",r,!1),new Kr(i._repo,qt(i._path,r));var e}function zo(i,r){i=(0,M.m9)(i),ar("set",i._path),wi("set",r,i._path,!1);const e=new M.BH;return Uu(i._repo,i._path,r,null,e.wrapCallback(()=>{})),e.promise}function sl(i,r){l_("update",r,i._path,!1);const e=new M.BH;return function(i,r,e,o){Ho(i,"update",{path:r.toString(),value:e});let u=!0;const f=Wd(i),_={};if(dn(e,(E,I)=>{u=!1,_[E]=jC(qt(r,E),tn(I),i.serverSyncTree_,f)}),u)Sn("update() called with empty data.  Don't do anything."),Zs(0,o,"ok",void 0);else{const E=mp(i),I=function(i,r,e,o){!function(i,r,e,o){(0,M.hu)(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:r,children:e,writeId:o,visible:!0}),i.visibleWrites=Zm(i.visibleWrites,r,e),i.lastWriteId=o}(i.pendingWriteTree_,r,e,o);const u=Wt.fromObject(e);return jo(i,new Ya({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,u))}(i.serverSyncTree_,r,_,E);gp(i.eventQueue_,I),i.server_.merge(r.toString(),e,(T,x)=>{const V="ok"===T;V||mn("update at "+r+" failed: "+T);const J=zs(i.serverSyncTree_,E,!V),fe=J.length>0?Bu(i,r):r;Yr(i.eventQueue_,fe,J),Zs(0,o,T,x)}),dn(e,T=>{const x=At(i,qt(r,T));Bu(i,x)}),Yr(i.eventQueue_,r,[])}}(i._repo,i._path,r,e.wrapCallback(()=>{})),e.promise}function Pw(i){return function(i,r){const e=function(i,r){const e=r._path;let o=null;i.syncPointTree_.foreachOnPath(e,(T,x)=>{const V=Vn(T,e);o=o||Bo(x,V)});let u=i.syncPointTree_.get(e);u?o=o||Bo(u,Tt()):(u=new MC,i.syncPointTree_=i.syncPointTree_.set(e,u));const f=null!=o,_=f?new Ws(o,!0,!1):null;return function(i){return Du(i.viewCache_)}(t_(u,r,Su(i.pendingWriteTree_,r._path),f?_.getNode():We.EMPTY_NODE,f))}(i.serverSyncTree_,r);return null!=e?Promise.resolve(e):i.server_.get(r).then(o=>{const u=tn(o).withIndex(r._queryParams.getIndex()),f=Nu(i.serverSyncTree_,r._path,u);return ZC(i.eventQueue_,r._path,f),Promise.resolve(u)},o=>(Ho(i,"get for query "+(0,M.Pz)(r)+" failed: "+o),Promise.reject(new Error(o))))}((i=(0,M.m9)(i))._repo,i).then(r=>new Mn(r,new Kr(i._repo,i._path),i._queryParams.getIndex()))}class Qd{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,e){const o=e._queryParams.getIndex();return new Lr("value",this,new Mn(r.snapshotNode,new Kr(e._repo,e._path),o))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new vp(this,r,e):null}matches(r){return r instanceof Qd&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Hu{constructor(r,e){this.eventType=r,this.callbackContext=e}respondsTo(r){let e="children_added"===r?"child_added":r;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new vp(this,r,e):null}createEvent(r,e){(0,M.hu)(null!=r.childName,"Child events should have a childName.");const o=Go(new Kr(e._repo,e._path),r.childName),u=e._queryParams.getIndex();return new Lr(r.type,this,new Mn(r.snapshotNode,o,u),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Hu&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function qs(i,r,e,o,u){let f;if("object"==typeof o&&(f=void 0,u=o),"function"==typeof o&&(f=o),u&&u.onlyOnce){const I=e,T=(x,V)=>{c_(i._repo,i,E),I(x,V)};T.userCallback=e.userCallback,T.context=e.context,e=T}const _=new Wo(e,f||void 0),E="value"===r?new Qd(_):new Hu(r,_);return function(i,r,e){let o;o=".info"===lt(r._path)?sp(i.infoSyncTree_,r,e):sp(i.serverSyncTree_,r,e),ZC(i.eventQueue_,r._path,o)}(i._repo,i,E),()=>c_(i._repo,i,E)}function Jd(i,r,e,o){return qs(i,"value",r,e,o)}function p_(i,r,e,o){return qs(i,"child_added",r,e,o)}function ol(i,r,e,o){return qs(i,"child_changed",r,e,o)}function sE(i,r,e,o){return qs(i,"child_moved",r,e,o)}function Xd(i,r,e,o){return qs(i,"child_removed",r,e,o)}function g_(i,r,e){let o=null;const u=e?new Wo(e):null;"value"===r?o=new Qd(u):r&&(o=new Hu(r,u)),c_(i._repo,i,o)}class Jr{}class m_ extends Jr{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){wi("endAt",this._value,r._path,!0);const e=$m(r._queryParams,this._value,this._key);if(Cp(e),il(e),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lr(r._repo,r._path,e,r._orderByCalled)}}class Ow extends Jr{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){wi("endBefore",this._value,r._path,!1);const e=function(i,r,e){let o,u;return i.index_===Hs?("string"==typeof r&&(r=jm(r)),u=$m(i,r,e)):(o=null==e?Ls:jm(e),u=$m(i,r,o)),u.endBeforeSet_=!0,u}(r._queryParams,this._value,this._key);if(Cp(e),il(e),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lr(r._repo,r._path,e,r._orderByCalled)}}class bp extends Jr{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){wi("startAt",this._value,r._path,!0);const e=$f(r._queryParams,this._value,this._key);if(Cp(e),il(e),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new lr(r._repo,r._path,e,r._orderByCalled)}}class kD extends Jr{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){wi("startAfter",this._value,r._path,!1);const e=function(i,r,e){let o;if(i.index_===Hs)"string"==typeof r&&(r=Bm(r)),o=$f(i,r,e);else{let u;u=null==e?Ki:Bm(e),o=$f(i,r,u)}return o.startAfterSet_=!0,o}(r._queryParams,this._value,this._key);if(Cp(e),il(e),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new lr(r._repo,r._path,e,r._orderByCalled)}}class FD extends Jr{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new lr(r._repo,r._path,function(i,r){const e=i.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="l",e}(r._queryParams,this._limit),r._orderByCalled)}}class xw extends Jr{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new lr(r._repo,r._path,function(i,r){const e=i.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="r",e}(r._queryParams,this._limit),r._orderByCalled)}}class Fw extends Jr{constructor(r){super(),this._path=r}_apply(r){Yd(r,"orderByChild");const e=new Dt(this._path);if(ft(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Lm(e),u=Wf(r._queryParams,o);return il(u),new lr(r._repo,r._path,u,!0)}}class VD extends Jr{_apply(r){Yd(r,"orderByKey");const e=Wf(r._queryParams,Hs);return il(e),new lr(r._repo,r._path,e,!0)}}class qn extends Jr{_apply(r){Yd(r,"orderByPriority");const e=Wf(r._queryParams,Vt);return il(e),new lr(r._repo,r._path,e,!0)}}class Uw extends Jr{_apply(r){Yd(r,"orderByValue");const e=Wf(r._queryParams,Vm);return il(e),new lr(r._repo,r._path,e,!0)}}class Bw extends Jr{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){if(wi("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new m_(this._value,this._key)._apply(new bp(this._value,this._key)._apply(r))}}function Ii(i,...r){let e=(0,M.m9)(i);for(const o of r)e=o._apply(e);return e}(function(i){(0,M.hu)(!Vd,"__referenceConstructor has already been defined"),Vd=i})(Kr),function(i){(0,M.hu)(!ip,"__referenceConstructor has already been defined"),ip=i}(Kr);const v_={};function aE(i,r,e,o,u){let f=o||i.options.databaseURL;void 0===f&&(i.options.projectId||kr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sn("Using default host for project ",i.options.projectId),f=`${i.options.projectId}-default-rtdb.firebaseio.com`);let I,T,_=rE(f,u),E=_.repoInfo;"undefined"!=typeof process&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(I=!0,f=`http://${T}?ns=${E.namespace}`,_=rE(f,u),E=_.repoInfo):I=!_.repoInfo.secure;const x=u&&I?new du(du.OWNER):new Tv(i.name,i.options,r);Vu("Invalid Firebase Database URL",_),ft(_.path)||kr("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function(i,r,e,o){let u=v_[r.name];u||(u={},v_[r.name]=u);let f=u[i.toURLString()];return f&&kr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new Ew(i,false,e,o),u[i.toURLString()]=f,f}(E,i,x,new Dv(i.name,e));return new Ww(V,i)}class Ww{constructor(r,e){this._repoInternal=r,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(i,r,e){if(i.stats_=Em(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new Gf(i.repoInfo_,(o,u,f,_)=>{ww(i,o,u,f,_)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>QC(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,M.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Ga(i.repoInfo_,r,(o,u,f,_)=>{ww(i,o,u,f,_)},o=>{QC(i,o)},o=>{!function(i,r){dn(r,(e,o)=>{u_(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function(i,r){const e=i.toString();return xf[e]||(xf[e]=r()),xf[e]}(i.repoInfo_,()=>new k0(i.stats_,i.server_)),i.infoData_=new M0,i.infoSyncTree_=new kC({startListening:(o,u,f,_)=>{let E=[];const I=i.infoData_.getNode(o._path);return I.isEmpty()||(E=Nu(i.infoSyncTree_,o._path,I),setTimeout(()=>{_("ok")},0)),E},stopListening:()=>{}}),u_(i,"connected",!1),i.serverSyncTree_=new kC({startListening:(o,u,f,_)=>(i.server_.listen(o,f,u,(E,I)=>{const T=_(E,I);Yr(i.eventQueue_,o._path,T)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kr(this._repo,Tt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(i,r){const e=v_[r];(!e||e[i.key]!==i)&&kr(`Database ${r}(${i.repoInfo_}) has already been deleted.`),d_(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&kr("Cannot call "+r+" on a deleted database.")}}function qw(i,r){wv(i,r)}class Jw{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ga.prototype.simpleListen=function(i,r){this.sendRequest("q",{p:i},r)},Ga.prototype.echo=function(i,r){this.sendRequest("echo",{d:i},r)},s0(Pf.SDK_VERSION),(0,Pf._registerComponent)(new Va.wA("database",(r,{instanceIdentifier:e})=>aE(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Pf.registerVersion)("@firebase/database","0.12.0",void 0);const eI=new mv.Yd("@firebase/database-compat"),dE=function(i){eI.warn("FIREBASE WARNING: "+i)};class hE{constructor(r){this._delegate=r}cancel(r){(0,M.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,M.Wj)("OnDisconnect.cancel","onComplete",r,!0);const e=this._delegate.cancel();return r&&e.then(()=>r(null),o=>r(o)),e}remove(r){(0,M.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,M.Wj)("OnDisconnect.remove","onComplete",r,!0);const e=this._delegate.remove();return r&&e.then(()=>r(null),o=>r(o)),e}set(r,e){(0,M.Dv)("OnDisconnect.set",1,2,arguments.length),(0,M.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(r);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(r,e,o){(0,M.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,M.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const u=this._delegate.setWithPriority(r,e);return o&&u.then(()=>o(null),f=>o(f)),u}update(r,e){if((0,M.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const u={};for(let f=0;f<r.length;++f)u[""+f]=r[f];r=u,dE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,M.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(r);return e&&o.then(()=>e(null),u=>e(u)),o}}class rI{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return(0,M.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zo{constructor(r,e){this._database=r,this._delegate=e}val(){return(0,M.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,M.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,M.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,M.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,M.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),Lu("DataSnapshot.child","path",r,!1),new Zo(this._database,this._delegate.child(r))}hasChild(r){return(0,M.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Lu("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,M.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,M.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,M.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(e=>r(new Zo(this._database,e)))}hasChildren(){return(0,M.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,M.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,M.Dv)("DataSnapshot.ref",0,0,arguments.length),new Xr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Yn{constructor(r,e){this.database=r,this._delegate=e}on(r,e,o,u){var f;(0,M.Dv)("Query.on",2,4,arguments.length),(0,M.Wj)("Query.on","callback",e,!1);const _=Yn.getCancelAndContextArgs_("Query.on",o,u),E=(T,x)=>{e.call(_.context,new Zo(this.database,T),x)};E.userCallback=e,E.context=_.context;const I=null===(f=_.cancel)||void 0===f?void 0:f.bind(_.context);switch(r){case"value":return Jd(this._delegate,E,I),e;case"child_added":return p_(this._delegate,E,I),e;case"child_removed":return Xd(this._delegate,E,I),e;case"child_changed":return ol(this._delegate,E,I),e;case"child_moved":return sE(this._delegate,E,I),e;default:throw new Error((0,M.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,e,o){if((0,M.Dv)("Query.off",0,3,arguments.length),function(i,r,e){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,M.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,M.Wj)("Query.off","callback",e,!0),(0,M.lb)("Query.off","context",o,!0),e){const u=()=>{};u.userCallback=e,u.context=o,g_(this._delegate,r,u)}else g_(this._delegate,r)}get(){return Pw(this._delegate).then(r=>new Zo(this.database,r))}once(r,e,o,u){(0,M.Dv)("Query.once",1,4,arguments.length),(0,M.Wj)("Query.once","callback",e,!0);const f=Yn.getCancelAndContextArgs_("Query.once",o,u),_=new M.BH,E=(T,x)=>{const V=new Zo(this.database,T);e&&e.call(f.context,V,x),_.resolve(V)};E.userCallback=e,E.context=f.context;const I=T=>{f.cancel&&f.cancel.call(f.context,T),_.reject(T)};switch(r){case"value":Jd(this._delegate,E,I,{onlyOnce:!0});break;case"child_added":p_(this._delegate,E,I,{onlyOnce:!0});break;case"child_removed":Xd(this._delegate,E,I,{onlyOnce:!0});break;case"child_changed":ol(this._delegate,E,I,{onlyOnce:!0});break;case"child_moved":sE(this._delegate,E,I,{onlyOnce:!0});break;default:throw new Error((0,M.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return _.promise}limitToFirst(r){return(0,M.Dv)("Query.limitToFirst",1,1,arguments.length),new Yn(this.database,Ii(this._delegate,function(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new FD(i)}(r)))}limitToLast(r){return(0,M.Dv)("Query.limitToLast",1,1,arguments.length),new Yn(this.database,Ii(this._delegate,function(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xw(i)}(r)))}orderByChild(r){return(0,M.Dv)("Query.orderByChild",1,1,arguments.length),new Yn(this.database,Ii(this._delegate,function(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lu("orderByChild","path",i,!1),new Fw(i)}(r)))}orderByKey(){return(0,M.Dv)("Query.orderByKey",0,0,arguments.length),new Yn(this.database,Ii(this._delegate,new VD))}orderByPriority(){return(0,M.Dv)("Query.orderByPriority",0,0,arguments.length),new Yn(this.database,Ii(this._delegate,new qn))}orderByValue(){return(0,M.Dv)("Query.orderByValue",0,0,arguments.length),new Yn(this.database,Ii(this._delegate,new Uw))}startAt(r=null,e){return(0,M.Dv)("Query.startAt",0,2,arguments.length),new Yn(this.database,Ii(this._delegate,function(i=null,r){return $d("startAt","key",r,!0),new bp(i,r)}(r,e)))}startAfter(r=null,e){return(0,M.Dv)("Query.startAfter",0,2,arguments.length),new Yn(this.database,Ii(this._delegate,function(i,r){return $d("startAfter","key",r,!0),new kD(i,r)}(r,e)))}endAt(r=null,e){return(0,M.Dv)("Query.endAt",0,2,arguments.length),new Yn(this.database,Ii(this._delegate,function(i,r){return $d("endAt","key",r,!0),new m_(i,r)}(r,e)))}endBefore(r=null,e){return(0,M.Dv)("Query.endBefore",0,2,arguments.length),new Yn(this.database,Ii(this._delegate,function(i,r){return $d("endBefore","key",r,!0),new Ow(i,r)}(r,e)))}equalTo(r,e){return(0,M.Dv)("Query.equalTo",1,2,arguments.length),new Yn(this.database,Ii(this._delegate,function(i,r){return $d("equalTo","key",r,!0),new Bw(i,r)}(r,e)))}toString(){return(0,M.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,M.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,M.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Yn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,e,o){const u={cancel:void 0,context:void 0};if(e&&o)u.cancel=e,(0,M.Wj)(r,"cancel",u.cancel,!0),u.context=o,(0,M.lb)(r,"context",u.context,!0);else if(e)if("object"==typeof e&&null!==e)u.context=e;else{if("function"!=typeof e)throw new Error((0,M.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=e}return u}get ref(){return new Xr(this.database,new Kr(this._delegate._repo,this._delegate._path))}}class Xr extends Yn{constructor(r,e){super(r,new lr(e._repo,e._path,new Md,!1)),this.database=r,this._delegate=e}getKey(){return(0,M.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,M.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Xr(this.database,Go(this._delegate,r))}getParent(){(0,M.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Xr(this.database,r):null}getRoot(){return(0,M.Dv)("Reference.root",0,0,arguments.length),new Xr(this.database,this._delegate.root)}set(r,e){(0,M.Dv)("Reference.set",1,2,arguments.length),(0,M.Wj)("Reference.set","onComplete",e,!0);const o=zo(this._delegate,r);return e&&o.then(()=>e(null),u=>e(u)),o}update(r,e){if((0,M.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const u={};for(let f=0;f<r.length;++f)u[""+f]=r[f];r=u,dE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ar("Reference.update",this._delegate._path),(0,M.Wj)("Reference.update","onComplete",e,!0);const o=sl(this._delegate,r);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(r,e,o){(0,M.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,M.Wj)("Reference.setWithPriority","onComplete",o,!0);const u=function(i,r,e){if(ar("setWithPriority",i._path),wi("setWithPriority",r,i._path,!1),Fu("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const o=new M.BH;return Uu(i._repo,i._path,r,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,r,e);return o&&u.then(()=>o(null),f=>o(f)),u}remove(r){(0,M.Dv)("Reference.remove",0,1,arguments.length),(0,M.Wj)("Reference.remove","onComplete",r,!0);const e=function(i){return ar("remove",i._path),zo(i,null)}(this._delegate);return r&&e.then(()=>r(null),o=>r(o)),e}transaction(r,e,o){(0,M.Dv)("Reference.transaction",1,3,arguments.length),(0,M.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,M.Wj)("Reference.transaction","onComplete",e,!0),function(i,r,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,M.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const u=function(i,r,e){var o;if(i=(0,M.m9)(i),ar("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const u=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,f=new M.BH,E=Jd(i,()=>{});return function(i,r,e,o,u,f){Ho(i,"transaction on "+r);const _={path:r,update:e,onComplete:o,status:null,order:Of(),applyLocally:f,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},E=h_(i,r,void 0);_.currentInputSnapshot=E;const I=_.update(E.val());if(void 0===I)_.unwatcher(),_.currentOutputSnapshotRaw=null,_.currentOutputSnapshotResolved=null,_.onComplete&&_.onComplete(null,!1,_.currentInputSnapshot);else{Hd("transaction failed: Data returned ",I,_.path),_.status=0;const T=tl(i.transactionQueueTree_,r),x=nl(T)||[];let V;x.push(_),s_(T,x),"object"==typeof I&&null!==I&&(0,M.r3)(I,".priority")?(V=(0,M.DV)(I,".priority"),(0,M.hu)(ku(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(Pu(i.serverSyncTree_,r)||We.EMPTY_NODE).getPriority().val();const J=Wd(i),fe=tn(I,V),we=qr(fe,E,J);_.currentOutputSnapshotRaw=fe,_.currentOutputSnapshotResolved=we,_.currentWriteId=mp(i);const ze=n_(i.serverSyncTree_,r,we,_.currentWriteId,_.applyLocally);Yr(i.eventQueue_,r,ze),yp(i,i.transactionQueueTree_)}}(i._repo,i._path,r,(I,T,x)=>{let V=null;I?f.reject(I):(V=new Mn(x,new Kr(i._repo,i._path),Vt),f.resolve(new Jw(T,V)))},E,u),f.promise}(this._delegate,r,{applyLocally:o}).then(f=>new rI(f.committed,new Zo(this.database,f.snapshot)));return e&&u.then(f=>e(null,f.committed,f.snapshot),f=>e(f,!1,null)),u}setPriority(r,e){(0,M.Dv)("Reference.setPriority",1,2,arguments.length),(0,M.Wj)("Reference.setPriority","onComplete",e,!0);const o=function(i,r){i=(0,M.m9)(i),ar("setPriority",i._path),Fu("setPriority",r,!1);const e=new M.BH;return Uu(i._repo,qt(i._path,".priority"),r,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,r);return e&&o.then(()=>e(null),u=>e(u)),o}push(r,e){(0,M.Dv)("Reference.push",0,2,arguments.length),(0,M.Wj)("Reference.push","onComplete",e,!0);const o=function(i,r){i=(0,M.m9)(i),ar("push",i._path),wi("push",r,i._path,!0);const e=KC(i._repo),o=S0(e),u=Go(i,o),f=Go(i,o);let _;return _=null!=r?zo(f,r).then(()=>f):Promise.resolve(f),u.then=_.then.bind(_),u.catch=_.then.bind(_,void 0),u}(this._delegate,r),u=o.then(_=>new Xr(this.database,_));e&&u.then(()=>e(null),_=>e(_));const f=new Xr(this.database,o);return f.then=u.then.bind(u),f.catch=u.catch.bind(u,void 0),f}onDisconnect(){return ar("Reference.onDisconnect",this._delegate._path),new hE(new Mw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ip{constructor(r,e){this._delegate=r,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(r,e,o={}){!function(i,r,e,o={}){(i=(0,M.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&kr("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let f;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&kr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new du(du.OWNER);else if(o.mockUserToken){const _="string"==typeof o.mockUserToken?o.mockUserToken:(0,M.Sg)(o.mockUserToken,i.app.options.projectId);f=new du(_)}!function(i,r,e,o){i.repoInfo_=new Rv(`${r}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}(u,r,e,f)}(this._delegate,r,e,o)}ref(r){if((0,M.Dv)("database.ref",0,1,arguments.length),r instanceof Xr){const e=Qr(this._delegate,r.toString());return new Xr(this,e)}{const e=Kt(this._delegate,r);return new Xr(this,e)}}refFromURL(r){(0,M.Dv)("database.refFromURL",1,1,arguments.length);const o=Qr(this._delegate,r);return new Xr(this,o)}goOffline(){return(0,M.Dv)("database.goOffline",0,0,arguments.length),function(i){(i=(0,M.m9)(i))._checkNotDeleted("goOffline"),d_(i._repo)}(this._delegate)}goOnline(){return(0,M.Dv)("database.goOnline",0,0,arguments.length),function(i){(i=(0,M.m9)(i))._checkNotDeleted("goOnline"),function(i){i.persistentConnection_&&i.persistentConnection_.resume(YC)}(i._repo)}(this._delegate)}}Ip.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:i=>function(i){return{".sv":{increment:i}}}(i)};var iI=Object.freeze({__proto__:null,initStandalone:function({app:i,url:r,version:e,customAuthImpl:o,namespace:u,nodeAdmin:f=!1}){s0(e);const _=new Va.zt("auth-internal",new Va.H0("database-standalone"));return _.setComponent(new Va.wA("auth-internal",()=>o,"PRIVATE")),{instance:new Ip(aE(i,_,void 0,r,f),i),namespace:u}}});const sI=Ip.ServerValue;!function(i){i.INTERNAL.registerComponent(new Va.wA("database-compat",(r,{instanceIdentifier:e})=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("database").getImmediate({identifier:e});return new Ip(u,o)},"PUBLIC").setServiceProps({Reference:Xr,Query:Yn,Database:Ip,DataSnapshot:Zo,enableLogging:qw,INTERNAL:iI,ServerValue:sI}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.1.0")}(vD.Z);var nh=N(309),aI=N(7771),lI=N(8858);class fE extends an.xQ{constructor(r=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const e=this._events;e.push(r),e.length>this._bufferSize&&e.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new w_(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const e=this._infiniteTimeWindow,o=e?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,f=o.length;let _;if(this.closed)throw new Ao.N;if(this.isStopped||this.hasError?_=ly.w.EMPTY:(this.observers.push(r),_=new lI.W(this,r)),u&&r.add(r=new nh.ht(r,u)),e)for(let E=0;E<f&&!r.closed;E++)r.next(o[E]);else for(let E=0;E<f&&!r.closed;E++)r.next(o[E].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),_}_getNow(){return(this.scheduler||aI.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),e=this._bufferSize,o=this._windowTime,u=this._events,f=u.length;let _=0;for(;_<f&&!(r-u[_].time<o);)_++;return f>e&&(_=Math.max(_,f-e)),_>0&&u.splice(0,_),u}}class w_{constructor(r,e){this.time=r,this.value=e}}function pE(i,r,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:r,refCount:!1,scheduler:e},u=>u.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let u,_,f=0,E=!1,I=!1;return function(x){let V;f++,!u||E?(E=!1,u=new fE(i,r,o),V=u.subscribe(this),_=x.subscribe({next(J){u.next(J)},error(J){E=!0,u.error(J)},complete(){I=!0,_=void 0,u.complete()}}),I&&(_=void 0)):V=u.subscribe(this),this.add(()=>{f--,V.unsubscribe(),V=void 0,_&&!I&&e&&0===f&&(_.unsubscribe(),_=void 0,u=void 0)})}}(o))}function Un(i,r){return r?un(()=>i,r):un(()=>i)}var Dp=N(3101),Di=N(7841);const gE=new d.OlP("angularfire2.auth.use-emulator"),D_=new d.OlP("angularfire2.auth.settings"),T_=new d.OlP("angularfire2.auth.tenant-id"),A_=new d.OlP("angularfire2.auth.langugage-code"),mE=new d.OlP("angularfire2.auth.use-device-language"),_E=new d.OlP("angularfire.auth.persistence"),yE=(i,r,e,o,u,f,_,E)=>(0,Gr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const I=r.runOutsideAngular(()=>i.auth());if(e&&I.useEmulator(...e),o&&(I.tenantId=o),I.languageCode=u,f&&I.useDeviceLanguage(),_)for(const[T,x]of Object.entries(_))I.settings[T]=x;return E&&I.setPersistence(E),I},[e,o,u,f,_,E]);let Tp=(()=>{class i{constructor(e,o,u,f,_,E,I,T,x,V,J){const fe=new an.xQ,we=(0,Ze.of)(void 0).pipe((0,nh.QV)(_.outsideAngular),un(()=>f.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,9083)))),(0,at.U)(()=>(0,Fs.on)(e,f,o)),(0,at.U)(ze=>yE(ze,f,E,T,x,V,I,J)),pE({bufferSize:1,refCount:!1}));if(function(i){return"server"===i}(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ze.of)(null);else{we.pipe(Tn()).subscribe();const Ye=we.pipe(un(wt=>wt.getRedirectResult().then(In=>In,()=>null)),Gr.iC,pE({bufferSize:1,refCount:!1})),nn=we.pipe(un(wt=>new zn.y(In=>({unsubscribe:f.runOutsideAngular(()=>wt.onAuthStateChanged(ei=>In.next(ei),ei=>In.error(ei),()=>In.complete()))})))),Bt=we.pipe(un(wt=>new zn.y(In=>({unsubscribe:f.runOutsideAngular(()=>wt.onIdTokenChanged(ei=>In.next(ei),ei=>In.error(ei),()=>In.complete()))}))));this.authState=Ye.pipe(Un(nn),(0,Dp.R)(_.outsideAngular),(0,nh.QV)(_.insideAngular)),this.user=Ye.pipe(Un(Bt),(0,Dp.R)(_.outsideAngular),(0,nh.QV)(_.insideAngular)),this.idToken=this.user.pipe(un(wt=>wt?(0,jt.D)(wt.getIdToken()):(0,Ze.of)(null))),this.idTokenResult=this.user.pipe(un(wt=>wt?(0,jt.D)(wt.getIdTokenResult()):(0,Ze.of)(null))),this.credential=(0,Nf.T)(Ye,fe,this.authState.pipe(G(wt=>!wt))).pipe((0,at.U)(wt=>(null==wt?void 0:wt.user)?wt:null),(0,Dp.R)(_.outsideAngular),(0,nh.QV)(_.insideAngular))}return(0,Fs.pX)(this,we,f,{spy:{apply:(ze,Ye,nn)=>{(ze.startsWith("signIn")||ze.startsWith("createUser"))&&nn.then(Bt=>fe.next(Bt))}}})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Fs.Dh),d.LFG(Fs.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Gr.HU),d.LFG(gE,8),d.LFG(D_,8),d.LFG(T_,8),d.LFG(A_,8),d.LFG(mE,8),d.LFG(_E,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function vE(i){return null==i}function al(i){return"function"==typeof i.set}function cI(i,r){return al(r)?r:i.ref(r)}function S_(i,r){if(function(i){return"string"==typeof i}(i))return r.stringCase();if(al(i))return r.firebaseCase();if(function(i){return"function"==typeof i.exportVal}(i))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function rh(i,r,e="on",o=lm.z){return new zn.y(u=>{let f=null;return f=i[e](r,(_,E)=>{o.schedule(()=>{u.next({snapshot:_,prevKey:E})}),"once"===e&&o.schedule(()=>u.complete())},_=>{o.schedule(()=>u.error(_))}),"on"===e?{unsubscribe(){null!=f&&i.off(r,f)}}:{unsubscribe(){}}}).pipe((0,at.U)(u=>{const{snapshot:f,prevKey:_}=u;let E=null;return f.exists()&&(E=f.key),{type:r,payload:f,prevKey:_,key:E}}),(0,dv.B)())}function R_(i,r){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===r)return o;return-1}function M_(i,r){const{payload:e,prevKey:o,key:u}=r,f=R_(i,u),_=function(i,r){if(vE(r))return 0;{const e=R_(i,r);return-1===e?i.length:e+1}}(i,o);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let E=null;r.payload.forEach(I=>{const T={payload:I,type:"value",prevKey:E,key:I.key};return E=I.key,i=[...i,T],!1})}return i;case"child_added":if(f>-1){const E=i[f-1];(E&&E.key||null)!==o&&(i=i.filter(I=>I.payload.key!==e.key)).splice(_,0,r)}else{if(null==o)return[r,...i];(i=i.slice()).splice(_,0,r)}return i;case"child_removed":return i.filter(E=>E.payload.key!==e.key);case"child_changed":return i.map(E=>E.payload.key===u?r:E);case"child_moved":if(f>-1){const E=i.splice(f,1)[0];return(i=i.slice()).splice(_,0,E),i}return i;default:return i}}function CE(i){return(vE(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function EE(i,r,e){return function(i,r,e){return rh(i,"value","once",e).pipe(un(o=>{const u=[(0,Ze.of)(o)];return r.forEach(f=>u.push(rh(i,f,"on",e))),(0,Nf.T)(...u).pipe(v(M_,[]))}),e=>e.lift(new fv(void 0,void 0)))}(i,r=CE(r),e)}function bE(i,r,e){const o=(r=CE(r)).map(u=>rh(i,u,"on",e));return(0,Nf.T)(...o)}function wE(i,r){return function(o,u){return S_(o,{stringCase:()=>i.child(o)[r](u),firebaseCase:()=>o[r](u),snapshotCase:()=>o.ref[r](u)})}}function gI(i){return function(e){return e?S_(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function IE(i,r){return function(){return rh(i,"value","on",r)}}const DE=new d.OlP("angularfire2.realtimeDatabaseURL"),TE=new d.OlP("angularfire2.database.use-emulator");let N_=(()=>{class i{constructor(e,o,u,f,_,E,I,T,x,V,J,fe,we,ze){this.schedulers=E;const Ye=I,nn=(0,Fs.on)(e,_,o);T&&yE(nn,_,x,J,fe,we,V,ze),this.database=(0,Gr.cc)(`${nn.name}.database.${u}`,"AngularFireDatabase",nn.name,()=>{const Bt=_.runOutsideAngular(()=>nn.database(u||void 0));return Ye&&Bt.useEmulator(...Ye),Bt},[Ye])}list(e,o){const u=this.schedulers.ngZone.runOutsideAngular(()=>cI(this.database,e));let f=u;return o&&(f=o(u)),function(i,r){const e=r.schedulers.outsideAngular,o=r.schedulers.ngZone.run(()=>i.ref);return{query:i,update:wE(o,"update"),set:wE(o,"set"),push:u=>o.push(u),remove:gI(o),snapshotChanges:u=>EE(i,u,e).pipe(Gr.iC),stateChanges:u=>bE(i,u,e).pipe(Gr.iC),auditTrail:u=>function(i,r,e){return function(i,r,e){return function(i,r){return rh(i,"value","on",r).pipe((0,at.U)(e=>{let o;return e.payload.forEach(u=>(o=u.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function(...i){return r=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),r.lift(new t0(i,e))}}(r),(0,at.U)(([u,f])=>{const _=u.lastKeyToLoad,E=f.map(I=>I.key);return{actions:f,lastKeyToLoad:_,loadedKeys:E}}),function(i){return r=>r.lift(new yD(i))}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,at.U)(u=>u.actions))}(i,bE(i,r).pipe(v((u,f)=>[...u,f],[])),e)}(i,u,e).pipe(Gr.iC),valueChanges:(u,f)=>EE(i,u,e).pipe((0,at.U)(E=>E.map(I=>f&&f.idField?Object.assign(Object.assign({},I.payload.val()),{[f.idField]:I.key}):I.payload.val())),Gr.iC)}}(f,this)}object(e){return function(i,r){return{query:i,snapshotChanges:()=>IE(i,r.schedulers.outsideAngular)().pipe(Gr.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>IE(i,r.schedulers.outsideAngular)().pipe(Gr.iC,(0,at.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cI(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Fs.Dh),d.LFG(Fs.xv,8),d.LFG(DE,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Gr.HU),d.LFG(TE,8),d.LFG(Tp,8),d.LFG(gE,8),d.LFG(D_,8),d.LFG(T_,8),d.LFG(A_,8),d.LFG(mE,8),d.LFG(_E,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),AE=(()=>{class i{constructor(){Di.Z.registerVersion("angularfire",Gr.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[N_]}),i})();const P_="customers";let SE=(()=>{class i{constructor(e){this.db=e}getCustomers(e){this.getList().snapshotChanges().subscribe(o=>{let u=[];o.map(f=>{let _=f.payload.val();_.key=f.payload.key,u.push(_)}),e(u)})}removeCust(e){this.getList("/"+e.key).remove()}addCustomer(e){this.getList().push(e)}updateCustomer(e){this.getObject(e.key).update(e)}getList(e=""){return this.db.list(P_+e)}getObject(e){return this.db.object(P_+"/"+e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(N_))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function _I(i,r){if(1&i){const e=d.EpF();d.ynx(0),d.TgZ(1,"th",15),d._uU(2),d.TgZ(3,"table-icons",16),d.NdJ("display",function(){d.CHM(e);const u=d.oxw().$implicit;return d.oxw(2).displayCustomerDetails(u)})("edit",function(){d.CHM(e);const u=d.oxw().$implicit;return d.oxw(2).editCustomer(u)})("remove",function(){d.CHM(e);const u=d.oxw().$implicit;return d.oxw(2).removeCustomer(u)}),d.qZA(),d.qZA(),d.TgZ(4,"td"),d._uU(5),d.qZA(),d.TgZ(6,"td"),d._uU(7),d.qZA(),d.TgZ(8,"td"),d._uU(9),d.qZA(),d.TgZ(10,"td"),d._uU(11),d.qZA(),d.BQk()}if(2&i){const e=d.oxw(),o=e.index,u=e.$implicit;d.xp6(2),d.hij(" ",o+1," "),d.xp6(3),d.Oqu(u.first),d.xp6(2),d.Oqu(u.last),d.xp6(2),d.Oqu(u.phone),d.xp6(2),d.Oqu(u.email)}}function yI(i,r){if(1&i&&(d.TgZ(0,"tr"),d.YNc(1,_I,12,5,"ng-container",4),d.qZA()),2&i){const e=r.$implicit,o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!o.filterCustomer(e))}}function vI(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"div",6),d.TgZ(2,"input",7),d.NdJ("ngModelChange",function(u){return d.CHM(e),d.oxw().searchFirst=u}),d.qZA(),d.TgZ(3,"input",8),d.NdJ("ngModelChange",function(u){return d.CHM(e),d.oxw().searchLast=u}),d.qZA(),d.TgZ(4,"input",9),d.NdJ("ngModelChange",function(u){return d.CHM(e),d.oxw().searchPhone=u}),d.qZA(),d.TgZ(5,"input",10),d.NdJ("ngModelChange",function(u){return d.CHM(e),d.oxw().searchEmail=u}),d.qZA(),d.TgZ(6,"button",11),d.NdJ("click",function(){return d.CHM(e),d.oxw().addCustomer()}),d._uU(7," Add Customer "),d.qZA(),d.qZA(),d.TgZ(8,"table",12),d.TgZ(9,"thead"),d.TgZ(10,"tr"),d.TgZ(11,"th",13),d._uU(12,"No."),d.qZA(),d.TgZ(13,"th",13),d._uU(14,"First Name"),d.qZA(),d.TgZ(15,"th",13),d._uU(16,"Last Name"),d.qZA(),d.TgZ(17,"th",13),d._uU(18,"Phone"),d.qZA(),d.TgZ(19,"th",13),d._uU(20,"Email"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"tbody"),d.YNc(22,yI,2,1,"tr",14),d.qZA(),d.qZA(),d.qZA()}if(2&i){const e=d.oxw();d.xp6(2),d.Q6J("ngModel",e.searchFirst),d.xp6(1),d.Q6J("ngModel",e.searchLast),d.xp6(1),d.Q6J("ngModel",e.searchPhone),d.xp6(1),d.Q6J("ngModel",e.searchEmail),d.xp6(17),d.Q6J("ngForOf",e.customers)}}function CI(i,r){if(1&i&&(d.TgZ(0,"div"),d._UZ(1,"app-add-edit-display-customer",17),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("disabled",!0)("customer",e.currentCustomer)}}function EI(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"div"),d._UZ(1,"app-add-edit-display-customer",18),d.TgZ(2,"button",19),d.NdJ("click",function(){return d.CHM(e),d.oxw().createCustomer()}),d._uU(3," Create Customer "),d.qZA(),d.qZA()}if(2&i){const e=d.oxw();d.xp6(1),d.Q6J("customer",e.currentCustomer)}}function bI(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"div"),d._UZ(1,"app-add-edit-display-customer",18),d.TgZ(2,"button",19),d.NdJ("click",function(){return d.CHM(e),d.oxw().updateCustomer()}),d._uU(3," Update "),d.qZA(),d.qZA()}if(2&i){const e=d.oxw();d.xp6(1),d.Q6J("customer",e.currentCustomer)}}function sh(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"button",19),d.NdJ("click",function(){d.CHM(e);const u=d.oxw();return u.displayMode=u.DisplayModes.table}),d._uU(1," Back "),d.qZA()}}let Wu=(()=>{class i{constructor(e){this.service=e,this.displayMode=Zn.table,this.DisplayModes=Zn,e.getCustomers(o=>{this.customers=o})}createCustomer(){this.service.addCustomer(this.currentCustomer),this.displayMode=Zn.table}editCustomer(e){this.displayMode=Zn.edit,this.currentCustomer=e}updateCustomer(){this.service.updateCustomer(this.currentCustomer),this.displayMode=Zn.table}displayCustomerDetails(e){this.currentCustomer=e,this.displayMode=Zn.details}removeCustomer(e){confirm("Are you sure? ")&&this.service.removeCust(e)}addCustomer(){this.currentCustomer=new cv,this.displayMode=Zn.add}filterCustomer(e){return o(this.searchFirst,e.first)||o(this.searchLast,e.last)||o(this.searchPhone,e.phone)||o(this.searchEmail,e.email);function o(u,f){return u&&-1==f.indexOf(u)}}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(SE))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-customer-page"]],decls:10,vars:5,consts:[[1,"panel","panel-primary"],[1,"panel-heading"],[1,"panel-title"],[1,"panel-body"],[4,"ngIf"],[3,"click",4,"ngIf"],[1,"div-filter"],["type","text","placeholder","First Name",1,"input-filter",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name",1,"input-filter",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone Name",1,"input-filter",3,"ngModel","ngModelChange"],["type","text","placeholder","Email",1,"input-filter",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"display","edit","remove"],[3,"disabled","customer"],[3,"customer"],[3,"click"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"h3",2),d._uU(3,"Customers"),d.qZA(),d.qZA(),d.TgZ(4,"div",3),d.YNc(5,vI,23,5,"div",4),d.YNc(6,CI,2,2,"div",4),d.YNc(7,EI,4,1,"div",4),d.YNc(8,bI,4,1,"div",4),d.YNc(9,sh,2,0,"button",5),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Q6J("ngIf",o.displayMode==o.DisplayModes.table),d.xp6(1),d.Q6J("ngIf",o.displayMode==o.DisplayModes.details),d.xp6(1),d.Q6J("ngIf",o.displayMode==o.DisplayModes.add),d.xp6(1),d.Q6J("ngIf",o.displayMode==o.DisplayModes.edit),d.xp6(1),d.Q6J("ngIf",o.displayMode!=o.DisplayModes.table))},styles:[".div-filter[_ngcontent-%COMP%]{padding:10px;margin:10px}.input-filter[_ngcontent-%COMP%]{width:200px;margin:20px}"]}),i})(),wI=(()=>{class i{constructor(){this.edit=new d.vpe,this.display=new d.vpe,this.remove=new d.vpe}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["table-icons"]],outputs:{edit:"edit",display:"display",remove:"remove"},decls:3,vars:0,consts:[[1,"glyphicon","glyphicon","glyphicon-user",3,"click"],[1,"glyphicon","glyphicon-pencil",3,"click"],[1,"glyphicon","glyphicon-remove",3,"click"]],template:function(e,o){1&e&&(d.TgZ(0,"span",0),d.NdJ("click",function(){return o.display.next()}),d.qZA(),d.TgZ(1,"span",1),d.NdJ("click",function(){return o.edit.next()}),d.qZA(),d.TgZ(2,"span",2),d.NdJ("click",function(){return o.remove.next()}),d.qZA())},styles:["span[_ngcontent-%COMP%]{cursor:pointer}"]}),i})(),O_=(()=>{class i{constructor(){this.customer=new cv}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-add-edit-display-customer"]],inputs:{customer:"customer",disabled:"disabled"},decls:27,vars:12,consts:[[1,"form-row"],[1,"form-group","col-md-6"],["name","first","type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["type","text","name","last",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","email","type","email",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","phone","type","phone",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"form-group"],["type","text","name","address",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","notes","rows","10",1,"form-control",3,"disabled","ngModel","ngModelChange"]],template:function(e,o){1&e&&(d.TgZ(0,"form"),d.TgZ(1,"div",0),d.TgZ(2,"div",1),d.TgZ(3,"label"),d._uU(4,"First name "),d.qZA(),d.TgZ(5,"input",2),d.NdJ("ngModelChange",function(f){return o.customer.first=f}),d.qZA(),d.qZA(),d.TgZ(6,"div",1),d.TgZ(7,"label"),d._uU(8,"Last Name"),d.qZA(),d.TgZ(9,"input",3),d.NdJ("ngModelChange",function(f){return o.customer.last=f}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"div",0),d.TgZ(11,"div",1),d.TgZ(12,"label"),d._uU(13,"Email "),d.qZA(),d.TgZ(14,"input",4),d.NdJ("ngModelChange",function(f){return o.customer.email=f}),d.qZA(),d.qZA(),d.TgZ(15,"div",1),d.TgZ(16,"label"),d._uU(17,"Phone"),d.qZA(),d.TgZ(18,"input",5),d.NdJ("ngModelChange",function(f){return o.customer.phone=f}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"div",6),d.TgZ(20,"label"),d._uU(21,"Address"),d.qZA(),d.TgZ(22,"input",7),d.NdJ("ngModelChange",function(f){return o.customer.address=f}),d.qZA(),d.qZA(),d.TgZ(23,"div",6),d.TgZ(24,"label"),d._uU(25,"Notes"),d.qZA(),d.TgZ(26,"textarea",8),d.NdJ("ngModelChange",function(f){return o.customer.notes=f}),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Q6J("disabled",o.disabled)("ngModel",o.customer.first),d.xp6(4),d.Q6J("disabled",o.disabled)("ngModel",o.customer.last),d.xp6(5),d.Q6J("disabled",o.disabled)("ngModel",o.customer.email),d.xp6(4),d.Q6J("disabled",o.disabled)("ngModel",o.customer.phone),d.xp6(4),d.Q6J("disabled",o.disabled)("ngModel",o.customer.address),d.xp6(4),d.Q6J("disabled",o.disabled)("ngModel",o.customer.notes))},styles:[""]}),i})();function ns(i,r){if(1&i&&(d.ynx(0),d.TgZ(1,"th",12),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.BQk()),2&i){const e=d.oxw(),o=e.index,u=e.$implicit;d.xp6(2),d.hij(" ",o+1," "),d.xp6(2),d.Oqu(u.first),d.xp6(2),d.Oqu(u.last),d.xp6(2),d.Oqu(u.phone),d.xp6(2),d.Oqu(u.email)}}function II(i,r){if(1&i&&(d.TgZ(0,"tr"),d.YNc(1,ns,11,5,"ng-container",4),d.qZA()),2&i){const e=r.$implicit,o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!o.filterCustomer(e))}}function Ap(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"div",5),d.TgZ(2,"input",6),d.NdJ("ngModelChange",function(u){return d.CHM(e),d.oxw().searchFirst=u}),d.qZA(),d.TgZ(3,"input",7),d.NdJ("ngModelChange",function(u){return d.CHM(e),d.oxw().searchLast=u}),d.qZA(),d.TgZ(4,"input",8),d.NdJ("ngModelChange",function(u){return d.CHM(e),d.oxw().searchPhone=u}),d.qZA(),d.qZA(),d.TgZ(5,"table",9),d.TgZ(6,"thead"),d.TgZ(7,"tr"),d.TgZ(8,"th",10),d._uU(9,"No."),d.qZA(),d.TgZ(10,"th",10),d._uU(11,"First Name"),d.qZA(),d.TgZ(12,"th",10),d._uU(13,"Last Name"),d.qZA(),d.TgZ(14,"th",10),d._uU(15,"Phone"),d.qZA(),d.TgZ(16,"th",10),d._uU(17,"Email"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"tbody"),d.YNc(19,II,2,1,"tr",11),d.qZA(),d.qZA(),d.qZA()}if(2&i){const e=d.oxw();d.xp6(2),d.Q6J("ngModel",e.searchFirst),d.xp6(1),d.Q6J("ngModel",e.searchLast),d.xp6(1),d.Q6J("ngModel",e.searchPhone),d.xp6(15),d.Q6J("ngForOf",e.customers)}}let RE=(()=>{class i{constructor(e){this.service=e,this.displayMode=Zn.table,this.DisplayModes=Zn,e.getCustomers(o=>{this.customers=o})}filterCustomer(e){return o(this.searchFirst,e.first)||o(this.searchLast,e.last)||o(this.searchPhone,e.phone);function o(u,f){return u&&-1==f.indexOf(u)}}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(SE))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-contacts-page"]],decls:6,vars:1,consts:[[1,"panel","panel-primary"],[1,"panel-heading"],[1,"panel-title"],[1,"panel-body"],[4,"ngIf"],[1,"div-filter"],["type","text","placeholder","First Name",1,"input-filter",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name",1,"input-filter",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone Name",1,"input-filter",3,"ngModel","ngModelChange"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"h3",2),d._uU(3,"Customers"),d.qZA(),d.qZA(),d.TgZ(4,"div",3),d.YNc(5,Ap,20,4,"div",4),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Q6J("ngIf",o.displayMode==o.DisplayModes.table))},styles:[""]}),i})(),ME=(()=>{class i{constructor(e){this.r=e}login(e,o){e&&o&&(window.localStorage.setItem("user","userexist"),this.r.navigate(["customers"]))}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(cn))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-login-page"]],decls:15,vars:0,consts:[[1,"form-row"],[1,"form-group","col-md-6"],["name","first","type","text",1,"form-control"],["username",""],["type","password","name","last",1,"form-control"],["pass",""],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,o){if(1&e){const u=d.EpF();d.TgZ(0,"form"),d.TgZ(1,"div",0),d.TgZ(2,"div",1),d.TgZ(3,"label"),d._uU(4,"User Name"),d.qZA(),d._UZ(5,"input",2,3),d.qZA(),d.TgZ(7,"div",1),d.TgZ(8,"label"),d._uU(9,"Password"),d.qZA(),d._UZ(10,"input",4,5),d.qZA(),d.qZA(),d.TgZ(12,"div",0),d.TgZ(13,"button",6),d.NdJ("click",function(){d.CHM(u);const _=d.MAs(6),E=d.MAs(11);return o.login(_.value,E.value)}),d._uU(14,"Login"),d.qZA(),d.qZA(),d.qZA()}},styles:[""]}),i})();const NE=(0,at.U)(i=>!!i);let Gu=(()=>{class i{constructor(e,o){this.router=e,this.auth=o,this.canActivate=(u,f)=>{const _=u.data.authGuardPipe||(()=>NE);return this.auth.user.pipe(Aa(1),_(u,f),(0,at.U)(E=>"boolean"==typeof E?E:Array.isArray(E)?this.router.createUrlTree(E):this.router.parseUrl(E)))}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(cn),d.LFG(Tp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Sp=class{};Sp=(0,Ml.gn)([(0,d.LVF)({imports:[Gu,Al,af,Fs.hO.initializeApp({apiKey:"AIzaSyCh7DGlwqtACLg93HoL_ISxQzQc-wrIJs0",authDomain:"crm-project-7adb3.firebaseapp.com",databaseURL:"https://crm-project-7adb3-default-rtdb.firebaseio.com",projectId:"crm-project-7adb3",storageBucket:"crm-project-7adb3.appspot.com",messagingSenderId:"829403449686",appId:"1:829403449686:web:bcc82d03ffbe3fc96e2ef7",measurementId:"G-8SZ6TYWESD"}),AE,qb.forRoot([{path:"customers",component:Wu,canActivate:[Gu]},{path:"contacts",component:RE,canActivate:[Gu]},{path:"login",component:ME},{path:"**",redirectTo:"login"}])],declarations:[uv,wI,Wu,O_,RE,ME],bootstrap:[uv],providers:[]})],Sp),(0,d.G48)(),oa().bootstrapModule(Sp).catch(i=>console.error(i))},4762:(Oe,ye,N)=>{"use strict";N.d(ye,{ZT:()=>te,pi:()=>U,_T:()=>ee,gn:()=>ue,mG:()=>Z,Jh:()=>$,XA:()=>O,CR:()=>j,ev:()=>ne});var d=function(oe,X){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,de){ge.__proto__=de}||function(ge,de){for(var ae in de)Object.prototype.hasOwnProperty.call(de,ae)&&(ge[ae]=de[ae])})(oe,X)};function te(oe,X){if("function"!=typeof X&&null!==X)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function ge(){this.constructor=oe}d(oe,X),oe.prototype=null===X?Object.create(X):(ge.prototype=X.prototype,new ge)}var U=function(){return(U=Object.assign||function(X){for(var ge,de=1,ae=arguments.length;de<ae;de++)for(var q in ge=arguments[de])Object.prototype.hasOwnProperty.call(ge,q)&&(X[q]=ge[q]);return X}).apply(this,arguments)};function ee(oe,X){var ge={};for(var de in oe)Object.prototype.hasOwnProperty.call(oe,de)&&X.indexOf(de)<0&&(ge[de]=oe[de]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var ae=0;for(de=Object.getOwnPropertySymbols(oe);ae<de.length;ae++)X.indexOf(de[ae])<0&&Object.prototype.propertyIsEnumerable.call(oe,de[ae])&&(ge[de[ae]]=oe[de[ae]])}return ge}function ue(oe,X,ge,de){var Ae,ae=arguments.length,q=ae<3?X:null===de?de=Object.getOwnPropertyDescriptor(X,ge):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(oe,X,ge,de);else for(var Le=oe.length-1;Le>=0;Le--)(Ae=oe[Le])&&(q=(ae<3?Ae(q):ae>3?Ae(X,ge,q):Ae(X,ge))||q);return ae>3&&q&&Object.defineProperty(X,ge,q),q}function Z(oe,X,ge,de){return new(ge||(ge=Promise))(function(q,Ae){function Le(Be){try{ke(de.next(Be))}catch(Ge){Ae(Ge)}}function ut(Be){try{ke(de.throw(Be))}catch(Ge){Ae(Ge)}}function ke(Be){Be.done?q(Be.value):function(q){return q instanceof ge?q:new ge(function(Ae){Ae(q)})}(Be.value).then(Le,ut)}ke((de=de.apply(oe,X||[])).next())})}function $(oe,X){var de,ae,q,Ae,ge={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return Ae={next:Le(0),throw:Le(1),return:Le(2)},"function"==typeof Symbol&&(Ae[Symbol.iterator]=function(){return this}),Ae;function Le(ke){return function(Be){return function(ke){if(de)throw new TypeError("Generator is already executing.");for(;ge;)try{if(de=1,ae&&(q=2&ke[0]?ae.return:ke[0]?ae.throw||((q=ae.return)&&q.call(ae),0):ae.next)&&!(q=q.call(ae,ke[1])).done)return q;switch(ae=0,q&&(ke=[2&ke[0],q.value]),ke[0]){case 0:case 1:q=ke;break;case 4:return ge.label++,{value:ke[1],done:!1};case 5:ge.label++,ae=ke[1],ke=[0];continue;case 7:ke=ge.ops.pop(),ge.trys.pop();continue;default:if(!(q=(q=ge.trys).length>0&&q[q.length-1])&&(6===ke[0]||2===ke[0])){ge=0;continue}if(3===ke[0]&&(!q||ke[1]>q[0]&&ke[1]<q[3])){ge.label=ke[1];break}if(6===ke[0]&&ge.label<q[1]){ge.label=q[1],q=ke;break}if(q&&ge.label<q[2]){ge.label=q[2],ge.ops.push(ke);break}q[2]&&ge.ops.pop(),ge.trys.pop();continue}ke=X.call(oe,ge)}catch(Be){ke=[6,Be],ae=0}finally{de=q=0}if(5&ke[0])throw ke[1];return{value:ke[0]?ke[1]:void 0,done:!0}}([ke,Be])}}}function O(oe){var X="function"==typeof Symbol&&Symbol.iterator,ge=X&&oe[X],de=0;if(ge)return ge.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&de>=oe.length&&(oe=void 0),{value:oe&&oe[de++],done:!oe}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(oe,X){var ge="function"==typeof Symbol&&oe[Symbol.iterator];if(!ge)return oe;var ae,Ae,de=ge.call(oe),q=[];try{for(;(void 0===X||X-- >0)&&!(ae=de.next()).done;)q.push(ae.value)}catch(Le){Ae={error:Le}}finally{try{ae&&!ae.done&&(ge=de.return)&&ge.call(de)}finally{if(Ae)throw Ae.error}}return q}function ne(oe,X,ge){if(ge||2===arguments.length)for(var q,de=0,ae=X.length;de<ae;de++)(q||!(de in X))&&(q||(q=Array.prototype.slice.call(X,0,de)),q[de]=X[de]);return oe.concat(q||Array.prototype.slice.call(X))}},8239:(Oe,ye,N)=>{"use strict";function d(U,ee,ue,z,pe,Z,$){try{var P=U[Z]($),B=P.value}catch(O){return void ue(O)}P.done?ee(B):Promise.resolve(B).then(z,pe)}function te(U){return function(){var ee=this,ue=arguments;return new Promise(function(z,pe){var Z=U.apply(ee,ue);function $(B){d(Z,z,pe,$,P,"next",B)}function P(B){d(Z,z,pe,$,P,"throw",B)}$(void 0)})}}N.d(ye,{Z:()=>te})}},Oe=>{Oe(Oe.s=3376)}]);